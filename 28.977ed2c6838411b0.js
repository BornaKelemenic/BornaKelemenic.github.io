"use strict";(self.webpackChunkarchery_stats=self.webpackChunkarchery_stats||[]).push([[28],{9028:(A,m,i)=>{i.r(m),i.d(m,{ListPageComponent:()=>f});var a=i(6895),o=i(4850),l=i(3336),t=i(4650),c=i(4859),r=i(6338),x=i(8778);class u{transform(n){return n.flat()}}u.\u0275fac=function(n){return new(n||u)},u.\u0275pipe=t.Yjl({name:"flatten",type:u,pure:!0,standalone:!0});var L=i(2189),Z=i(489),y=i(5412),T=i(9613),h=i(9132),P=i(1331),C=i(2823);function S(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(g){t.CHM(s);const _=t.oxw().$implicit,v=t.oxw(3);return g.stopPropagation(),t.KtG(v.removeArcherySession(_))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete_outline"),t.qZA()()}}const k=function(e){return["/list",e]};function I(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"mat-list-item",4),t.NdJ("click",function(){const _=t.CHM(s).$implicit,v=t.oxw(3);return t.KtG(v.sessionClicked.emit(_))}),t.ALo(1,"async"),t.TgZ(2,"span",5),t._uU(3),t.qZA(),t.TgZ(4,"span",6)(5,"span",7),t.ALo(6,"date"),t._uU(7),t.ALo(8,"dateDistance"),t.qZA()(),t.TgZ(9,"span",6)(10,"span"),t._uU(11),t.qZA(),t.TgZ(12,"span",8),t._uU(13,"\u2022"),t.qZA(),t.TgZ(14,"span"),t._uU(15),t.ALo(16,"average"),t.ALo(17,"pluck"),t.ALo(18,"flatten"),t.ALo(19,"pluck"),t.qZA(),t.TgZ(20,"span",8),t._uU(21,"\u2022"),t.qZA(),t.TgZ(22,"span"),t._uU(23),t.qZA()(),t.YNc(24,S,3,0,"button",9),t.qZA()}if(2&e){const s=n.$implicit,p=n.index,g=t.oxw(3);let _;t.Udp("padding-right",g.showAction?"48px":null),t.Q6J("routerLink",t.VKq(29,k,s.id))("lines",3)("activated",s.id===(null==(_=t.lcZ(1,13,g.archerySessionRepo.activeSession$))?null:_.id)),t.xp6(3),t.AsE(" ",p+1,". ",s.name," "),t.xp6(2),t.Q6J("title",t.lcZ(6,15,s.date_created)||""),t.xp6(2),t.hij(" ",t.lcZ(8,17,s.date_created)," "),t.xp6(4),t.hij(" Arrows: ",s.numberOfArrows," "),t.xp6(4),t.hij(" Average: ",t.lcZ(16,19,t.xi3(17,21,t.lcZ(18,24,t.xi3(19,26,s.entries,"shots")),"value"))," "),t.xp6(8),t.hij(" Entires: ",s.entries.length," "),t.xp6(1),t.Q6J("ngIf",g.showAction)}}function U(e,n){if(1&e&&(t.ynx(0),t.YNc(1,I,25,31,"mat-list-item",3),t.BQk()),2&e){const s=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",s)}}function F(e,n){1&e&&(t.TgZ(0,"mat-list-item")(1,"span",5),t._uU(2," No sessions "),t.qZA()())}function O(e,n){if(1&e&&(t.TgZ(0,"mat-list"),t.YNc(1,U,2,1,"ng-container",1),t.YNc(2,F,3,0,"ng-template",null,2,t.W1O),t.qZA()),2&e){const s=n.ngIf,p=t.MAs(3);t.xp6(1),t.Q6J("ngIf",s.length)("ngIfElse",p)}}class d{constructor(n,s){this.archerySessionRepo=n,this.dialog=s,this.showAction=!0,this.sessionClicked=new t.vpe}removeArcherySession(n){this.dialog.open(T.M,{restoreFocus:!1,autoFocus:!1,width:"300px",data:{title:"Delete session ?"}}).afterClosed().subscribe(p=>{p&&(0,P.xr)(()=>{this.archerySessionRepo.getActiveSession()?.id===n.id&&this.archerySessionRepo.resetActiveSession(),this.archerySessionRepo.deleteSessions(n.id)})})}}function Y(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"div",1)(2,"h2"),t._uU(3),t.qZA()(),t._UZ(4,"mat-divider",2),t.TgZ(5,"h3"),t._uU(6),t.ALo(7,"average"),t.ALo(8,"pluck"),t.ALo(9,"flatten"),t.ALo(10,"pluck"),t.ALo(11,"flatten"),t.ALo(12,"pluck"),t.qZA(),t._UZ(13,"mat-divider",2),t.BQk()),2&e){const s=t.oxw().ngIf;t.xp6(3),t.hij("Your sessions (",s.length,"):"),t.xp6(3),t.hij(" Your overall average: ",t.lcZ(7,2,t.xi3(8,4,t.lcZ(9,7,t.xi3(10,9,t.lcZ(11,12,t.xi3(12,14,s,"entries")),"shots")),"value"))," ")}}function w(e,n){1&e&&(t.ynx(0),t.TgZ(1,"div",2)(2,"a",3)(3,"mat-icon"),t._uU(4,"add"),t.qZA(),t._uU(5," Create a new session "),t.qZA()(),t.BQk()),2&e&&(t.xp6(2),t.Q6J("routerLink","/new"))}function Q(e,n){if(1&e&&(t.ynx(0),t.YNc(1,Y,14,17,"ng-container",0),t._UZ(2,"app-session-list"),t.YNc(3,w,6,1,"ng-container",0),t.BQk()),2&e){const s=n.ngIf;t.xp6(1),t.Q6J("ngIf",s.length),t.xp6(2),t.Q6J("ngIf",!s.length)}}d.\u0275fac=function(n){return new(n||d)(t.Y36(C.H),t.Y36(y.uw))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-session-list"]],inputs:{showAction:"showAction"},outputs:{sessionClicked:"sessionClicked"},standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["noSessions",""],[3,"routerLink","lines","activated","padding-right","click",4,"ngFor","ngForOf"],[3,"routerLink","lines","activated","click"],["matListItemTitle",""],["matListItemLine",""],[3,"title"],[2,"margin","0 4px"],["class","action","mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",1,"action",3,"click"]],template:function(n,s){1&n&&(t.YNc(0,O,4,2,"mat-list",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,s.archerySessionRepo.sessions$))},dependencies:[a.ax,a.O5,a.Ov,a.uU,x.n,u,L.F,Z.p,h.Bz,h.rH,r.ie,r.i$,r.Tg,r.WW,r.sL,l.Ps,l.Hw,c.ot,c.RK,y.Is],styles:["[_nghost-%COMP%]{display:block}mat-list-item[_ngcontent-%COMP%]{cursor:pointer!important}mat-list-item[_ngcontent-%COMP%]:hover:not(.mdc-list-item--activated){background-color:var(--list-item-hover-background)}"]});class f{constructor(n){this.archerySessionRepo=n}}f.\u0275fac=function(n){return new(n||f)(t.Y36(C.H))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-list-page"]],standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[1,"margin-bottom-2x","flex-row"],[1,"margin-y-2x"],["mat-stroked-button","",3,"routerLink"]],template:function(n,s){1&n&&(t.YNc(0,Q,4,2,"ng-container",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,s.archerySessionRepo.sessions$))},dependencies:[a.O5,a.Ov,L.F,u,Z.p,h.Bz,h.rH,d,o.t,o.d,l.Ps,l.Hw,c.ot,c.zs],styles:["[_nghost-%COMP%]{display:block;padding:var(--spacing-3x) var(--spacing-1x)}@media (min-width: 768px){[_nghost-%COMP%]{padding:var(--spacing-3x)}}"]})},489:(A,m,i)=>{i.d(m,{p:()=>o});var a=i(4650);class o{transform(t,c=2){return t&&t.length?(t.reduce((r,x)=>r+x,0)/t.length).toFixed(c):"0"}}o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=a.Yjl({name:"average",type:o,pure:!0,standalone:!0})},2189:(A,m,i)=>{i.d(m,{F:()=>o});var a=i(4650);class o{transform(t,c){return t&&c?t.map(r=>r[c]):[]}}o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=a.Yjl({name:"pluck",type:o,pure:!0,standalone:!0})}}]);