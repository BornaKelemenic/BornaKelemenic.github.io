import{h as q}from"./chunk-AG3FRLJI.js";import{j as F,k as U,n as z,u as $}from"./chunk-3AIAIFAZ.js";import{Cb as u,Ea as v,Fa as y,Gb as P,Ib as T,Jb as j,Ka as S,La as c,Ma as d,N as w,O as D,Ra as M,S as O,Ta as b,Ua as E,V as C,W as x,Yc as N,Zc as G,e as k,eb as R,gb as m,ia as l,ib as V,kb as W,lb as I,lc as Q,mb as f,ob as B,qa as L}from"./chunk-6ZKZZP75.js";function X(o,e){if(o&1){let n=M();c(0,"button",3),b("click",function(){C(n);let s=E(),i=f(0);return x(s.decrement(i))}),c(1,"mat-icon"),m(2,"remove"),d(),m(3),d()}if(o&2){let n=E(),t=f(0),s=f(1);S("disabled",n.disabled||s),l(3),V(" ",t," ")}}function Z(o,e){o&1&&m(0),o&2&&V(" ",e," ")}function ee(o,e){if(o&1){let n=M();c(0,"button",3),b("click",function(){C(n);let s=E(),i=f(0);return x(s.increment(i))}),c(1,"mat-icon"),m(2,"add"),d(),m(3),d()}if(o&2){let n=E(),t=f(0),s=f(2);S("disabled",n.disabled||s),l(3),V(" ",t," ")}}var de=(()=>{let e=class e{constructor(){this._cdr=O(P),this.value=0,this.disabled=!1,this.$additionalIncrements=u(!1,{alias:"moreIncrements",transform:T}),this.$suffix=u("",{alias:"suffix"}),this.$orientation=u("horizontal",{alias:"orientation"}),this.$moreIncrementAmount=u(5,{alias:"moreIncrementAmount",transform:j}),this.$minValue=u(null,{alias:"min"}),this.$maxValue=u(null,{alias:"max"}),this.$disableControls=u(!1,{alias:"disableControlsWhenOverLimit",transform:T})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}writeValue(t){this.setValue(t,!1),this._cdr.markForCheck()}increment(t=1){this.setValue(this.value+t,!0)}decrement(t=1){this.setValue(this.value-t,!0)}setValue(t,s){if(this.disabled)return;let i=Q(t),r=this.$maxValue(),a=this.$minValue();a!=null&&i<a||r!=null&&i>r||(this.value=i,s&&this.onChange&&(this.onChange(i),this.onTouched()))}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=L({type:e,selectors:[["app-small-counter"]],hostVars:2,hostBindings:function(s,i){s&2&&R("vertical",i.$orientation()==="vertical")},inputs:{$additionalIncrements:[1,"moreIncrements","$additionalIncrements"],$suffix:[1,"suffix","$suffix"],$orientation:[1,"orientation","$orientation"],$moreIncrementAmount:[1,"moreIncrementAmount","$moreIncrementAmount"],$minValue:[1,"min","$minValue"],$maxValue:[1,"max","$maxValue"],$disableControls:[1,"disableControlsWhenOverLimit","$disableControls"]},features:[B([{provide:q,useExisting:w(()=>e),multi:!0}])],decls:14,vars:9,consts:[["mat-button","","type","button",3,"disabled"],["mat-icon-button","","color","primary","type","button",3,"click","disabled"],[1,"value"],["mat-button","","type","button",3,"click","disabled"]],template:function(s,i){if(s&1){let r=M();W(0)(1)(2),v(3,X,4,2,"button",0),c(4,"button",1),b("click",function(){return C(r),x(i.decrement())}),c(5,"mat-icon"),m(6,"remove"),d()(),c(7,"span",2),m(8),v(9,Z,1,1),d(),c(10,"button",1),b("click",function(){return C(r),x(i.increment())}),c(11,"mat-icon"),m(12,"add"),d()(),v(13,ee,4,2,"button",0)}if(s&2){let r,a=i.$additionalIncrements(),p=I(i.$moreIncrementAmount()),h=i.$disableControls(),_=i.$minValue(),g=i.$maxValue();l();let Y=I(h&&_!==null&&i.value<=_);l();let J=I(h&&g!==null&&i.value>=g);l(),y(a&&p!==1?3:-1),l(),S("disabled",i.disabled||Y),l(4),V(" ",i.value," "),l(),y((r=i.$suffix())?9:-1,r),l(),S("disabled",i.disabled||J),l(3),y(a&&p!==1?13:-1)}},dependencies:[z,U,F,G,N],styles:["[_nghost-%COMP%]{display:inline-flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%]   .value[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:var(--spacing-2x);height:36px;font-size:1.25em}.vertical[_nghost-%COMP%]{flex-direction:column-reverse;justify-content:center}.ng-invalid[_nghost-%COMP%]{border:1px solid var(--mat-sys-error)}.ng-invalid[_nghost-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--mat-sys-error)}"],changeDetection:0});let o=e;return o})();var A=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new k;constructor(e=!1,n,t=!0,s){this._multiple=e,this._emitChanges=t,this.compareWith=s,n&&n.length&&(e?n.forEach(i=>this._markSelected(i)):this._markSelected(n[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}setSelection(...e){this._verifyValueAssignment(e);let n=this.selected,t=new Set(e.map(i=>this._getConcreteValue(i)));e.forEach(i=>this._markSelected(i)),n.filter(i=>!t.has(this._getConcreteValue(i,t))).forEach(i=>this._unmarkSelected(i));let s=this._hasQueuedChanges();return this._emitChangeEvent(),s}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let n=this._hasQueuedChanges();return e&&this._emitChangeEvent(),n}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,n){if(this.compareWith){n=n??this._selection;for(let t of n)if(this.compareWith(e,t))return t;return e}else return e}};var te=(()=>{class o{_listeners=[];notify(n,t){for(let s of this._listeners)s(n,t)}listen(n){return this._listeners.push(n),()=>{this._listeners=this._listeners.filter(t=>n!==t)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(t){return new(t||o)};static \u0275prov=D({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var H=class{applyChanges(e,n,t,s,i){e.forEachOperation((r,a,p)=>{let h,_;if(r.previousIndex==null){let g=t(r,a,p);h=n.createEmbeddedView(g.templateRef,g.context,g.index),_=$.INSERTED}else p==null?(n.remove(a),_=$.REMOVED):(h=n.get(a),n.move(h,p),_=$.MOVED);i&&i({context:h?.context,operation:_,record:r})})}detach(){}};export{te as a,H as b,A as c,de as d};
