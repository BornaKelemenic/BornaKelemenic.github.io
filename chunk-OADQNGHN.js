import{h as q}from"./chunk-CMCV5GXG.js";import{m as F,o as U,r as z,t as $}from"./chunk-GXK3WLWB.js";import{$a as b,Cb as P,Ea as v,Eb as T,Fb as j,Ja as S,La as R,N as w,O as D,Oa as y,S as O,Ta as l,Ua as d,W as C,X as x,Xc as N,Yc as G,Za as M,ab as E,e as k,ea as m,ic as Q,lb as c,nb as V,pa as r,pb as W,qb as I,rb as _,sb as B,ya as L}from"./chunk-VK2UWGYB.js";function K(o,t){if(o&1){let e=M();l(0,"button",3),b("click",function(){C(e);let i=E(),s=_(1);return x(i.decrement(s))}),l(1,"mat-icon"),c(2,"remove"),d(),c(3),d()}if(o&2){let e=E(),n=_(1),i=_(5);S("disabled",e.disabled||i),r(3),V(" ",n," ")}}function X(o,t){o&1&&c(0),o&2&&V(" ",t," ")}function Z(o,t){if(o&1){let e=M();l(0,"button",3),b("click",function(){C(e);let i=E(),s=_(1);return x(i.increment(s))}),l(1,"mat-icon"),c(2,"add"),d(),c(3),d()}if(o&2){let e=E(),n=_(1),i=_(6);S("disabled",e.disabled||i),r(3),V(" ",n," ")}}var me=(()=>{class o{constructor(){this._cdr=O(P),this.value=0,this.disabled=!1,this.$additionalIncrements=m(!1,{alias:"moreIncrements",transform:T}),this.$suffix=m("",{alias:"suffix"}),this.$orientation=m("horizontal",{alias:"orientation"}),this.$moreIncrementAmount=m(5,{alias:"moreIncrementAmount",transform:j}),this.$minValue=m(null,{alias:"min"}),this.$maxValue=m(null,{alias:"max"}),this.$disableControls=m(!1,{alias:"disableControlsWhenOverLimit",transform:T})}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}writeValue(e){this.setValue(e,!1),this._cdr.markForCheck()}increment(e=1){this.setValue(this.value+e,!0)}decrement(e=1){this.setValue(this.value-e,!0)}setValue(e,n){if(this.disabled)return;let i=Q(e),s=this.$maxValue(),a=this.$minValue();a!=null&&i<a||s!=null&&i>s||(this.value=i,n&&this.onChange&&(this.onChange(i),this.onTouched()))}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=L({type:o,selectors:[["app-small-counter"]],hostVars:2,hostBindings:function(n,i){n&2&&R("vertical",i.$orientation()==="vertical")},inputs:{$additionalIncrements:[1,"moreIncrements","$additionalIncrements"],$suffix:[1,"suffix","$suffix"],$orientation:[1,"orientation","$orientation"],$moreIncrementAmount:[1,"moreIncrementAmount","$moreIncrementAmount"],$minValue:[1,"min","$minValue"],$maxValue:[1,"max","$maxValue"],$disableControls:[1,"disableControlsWhenOverLimit","$disableControls"]},features:[B([{provide:q,useExisting:w(()=>o),multi:!0}])],decls:18,vars:9,consts:[["mat-button","","type","button",3,"disabled"],["mat-icon-button","","color","primary","type","button",3,"click","disabled"],[1,"value"],["mat-button","","type","button",3,"click","disabled"]],template:function(n,i){if(n&1){let s=M();W(0)(1)(2)(3)(4)(5)(6),v(7,K,4,2,"button",0),l(8,"button",1),b("click",function(){return C(s),x(i.decrement())}),l(9,"mat-icon"),c(10,"remove"),d()(),l(11,"span",2),c(12),v(13,X,1,1),d(),l(14,"button",1),b("click",function(){return C(s),x(i.increment())}),l(15,"mat-icon"),c(16,"add"),d()(),v(17,Z,4,2,"button",0)}if(n&2){let s,a=i.$additionalIncrements();r();let f=I(i.$moreIncrementAmount()),p=i.$disableControls(),u=i.$minValue(),h=i.$maxValue();r(4);let g=I(p&&u!==null&&i.value<=u);r();let Y=I(p&&h!==null&&i.value>=h);r(),y(a&&f!==1?7:-1),r(),S("disabled",i.disabled||g),r(4),V(" ",i.value," "),r(),y((s=i.$suffix())?13:-1,s),r(),S("disabled",i.disabled||Y),r(3),y(a&&f!==1?17:-1)}},dependencies:[z,U,F,G,N],styles:["[_nghost-%COMP%]{display:inline-flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%]   .value[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:var(--spacing-2x);height:36px;font-size:1.25em}.vertical[_nghost-%COMP%]{flex-direction:column-reverse;justify-content:center}.ng-invalid[_nghost-%COMP%]{border:1px solid var(--mat-sys-error)}.ng-invalid[_nghost-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--mat-sys-error)}"],changeDetection:0})}}return o})();var A=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new k;constructor(t=!1,e,n=!0,i){this._multiple=t,this._emitChanges=n,this.compareWith=i,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,n=new Set(t.map(s=>this._getConcreteValue(s)));t.forEach(s=>this._markSelected(s)),e.filter(s=>!n.has(this._getConcreteValue(s,n))).forEach(s=>this._unmarkSelected(s));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let n of e)if(this.compareWith(t,n))return n;return t}else return t}};var ee=(()=>{class o{_listeners=[];notify(e,n){for(let i of this._listeners)i(e,n)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(n=>e!==n)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(n){return new(n||o)};static \u0275prov=D({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var H=class{applyChanges(t,e,n,i,s){t.forEachOperation((a,f,p)=>{let u,h;if(a.previousIndex==null){let g=n(a,f,p);u=e.createEmbeddedView(g.templateRef,g.context,g.index),h=$.INSERTED}else p==null?(e.remove(f),h=$.REMOVED):(u=e.get(f),e.move(u,p),h=$.MOVED);s&&s({context:u?.context,operation:h,record:a})})}detach(){}};export{ee as a,H as b,A as c,me as d};
