"use strict";(self.webpackChunkarchery_stats=self.webpackChunkarchery_stats||[]).push([[867],{2985:(y,C,o)=>{o.r(C),o.d(C,{ListPageComponent:()=>E});var p=o(4755),u=o(3630),a=o(9560),n=o(2223),Z=o(489),v=o(5270),c=o(7322),d=o(2189),r=o(4926),g=o(84);function L(t,i){1&t&&(n.TgZ(0,"mat-icon"),n._uU(1," lock "),n.qZA())}const S=function(t){return{"padding-left.px":t}};function P(t,i){if(1&t&&(n.ynx(0),n.YNc(1,L,2,0,"mat-icon",0),n.TgZ(2,"div",1)(3,"div",2),n._uU(4),n.qZA(),n.TgZ(5,"div",3)(6,"span",4),n.ALo(7,"date"),n._uU(8),n.ALo(9,"dateDistance"),n.qZA()(),n.TgZ(10,"div",3)(11,"span"),n._uU(12),n.ALo(13,"average"),n.ALo(14,"pluck"),n.ALo(15,"flatten"),n.ALo(16,"pluck"),n.qZA(),n.TgZ(17,"span",5),n._uU(18,"\u2022"),n.qZA(),n._uU(19),n.ALo(20,"sum"),n.ALo(21,"pluck"),n.ALo(22,"flatten"),n.ALo(23,"pluck"),n.TgZ(24,"span",5),n._uU(25,"\u2022"),n.qZA(),n.TgZ(26,"span"),n._uU(27),n.qZA()()(),n.TgZ(28,"app-session-options-menu",6),n.NdJ("click",function(s){return s.stopPropagation()}),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.session.locked),n.xp6(1),n.Q6J("ngStyle",n.VKq(33,S,e.session.locked?null:32)),n.xp6(2),n.Oqu(e.session.name),n.xp6(2),n.Q6J("title",n.lcZ(7,9,e.session.date_created)||""),n.xp6(2),n.hij(" ",n.lcZ(9,11,e.session.date_created)," "),n.xp6(4),n.hij(" Average: ",n.lcZ(13,13,n.xi3(14,15,n.lcZ(15,18,n.xi3(16,20,e.session.entries,"shots")),"value"))," "),n.xp6(7),n.hij(" Total: ",n.lcZ(20,23,n.xi3(21,25,n.lcZ(22,28,n.xi3(23,30,e.session.entries,"shots")),"value"))," "),n.xp6(8),n.hij(" Entires: ",e.session.entries.length," "),n.xp6(1),n.Q6J("session",e.session)}}let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-session-list-item"]],inputs:{session:"session"},standalone:!0,features:[n.jDz],decls:1,vars:1,consts:[[4,"ngIf"],[1,"main-item-content",3,"ngStyle"],[1,"row","title-row"],[1,"row"],[3,"title"],[2,"margin","0 4px"],[1,"action",3,"session","click"]],template:function(e,s){1&e&&n.YNc(0,P,29,35,"ng-container",0),2&e&&n.Q6J("ngIf",s.session)},dependencies:[p.O5,p.PC,p.uU,v.n,c.p,d.F,Z.p,r.q,g.i,a.Ps,a.Hw],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:var(--spacing-1x);padding:var(--spacing-1x);cursor:pointer}.active[_nghost-%COMP%]{background-color:var(--primary-default);color:var(--primary-default-contrast)}[_nghost-%COMP%]   mat-icon[_ngcontent-%COMP%]{min-width:24px}[_nghost-%COMP%]   .main-item-content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}[_nghost-%COMP%]   .main-item-content[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]{font-size:1.25em;margin-bottom:4px}[_nghost-%COMP%]   app-session-options-menu[_ngcontent-%COMP%]{margin-left:auto}"],changeDetection:0}),t})();var _=o(5159),f=o(4518),T=o(7697);const I=function(t){return["/list",t]};function M(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"app-session-list-item",5),n.NdJ("click",function(){const A=n.CHM(e).$implicit,R=n.oxw(3);return n.KtG(R.sessionClicked.emit(A))}),n.ALo(1,"async"),n.qZA()}if(2&t){const e=i.$implicit,s=n.oxw(3);let l;n.ekj("active",e.id===(null==(l=n.lcZ(1,4,s.archerySessionRepo.activeSession$))?null:l.id)),n.Q6J("session",e)("routerLink",n.VKq(6,I,e.id))}}function k(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"cdk-virtual-scroll-viewport",3),n.YNc(2,M,2,8,"app-session-list-item",4),n.qZA(),n.BQk()),2&t){const e=n.oxw().ngIf,s=n.oxw();n.xp6(1),n.Q6J("itemSize",88),n.xp6(1),n.Q6J("cdkVirtualForOf",e)("cdkVirtualForTrackBy",s.trackBy)}}function D(t,i){1&t&&(n.TgZ(0,"h2"),n._uU(1,"No sessions"),n.qZA())}function U(t,i){if(1&t&&(n.ynx(0),n.YNc(1,k,3,3,"ng-container",1),n.YNc(2,D,2,0,"ng-template",null,2,n.W1O),n.BQk()),2&t){const e=i.ngIf,s=n.MAs(3);n.xp6(1),n.Q6J("ngIf",e.length)("ngIfElse",s)}}let w=(()=>{class t{constructor(e){this.archerySessionRepo=e,this.sessionClicked=new n.vpe}trackBy(e,s){return s.id}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(T.H))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-session-list"]],outputs:{sessionClicked:"sessionClicked"},standalone:!0,features:[n.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["noSessions",""],["scrollWindow","",3,"itemSize"],[3,"session","routerLink","active","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"session","routerLink","click"]],template:function(e,s){1&e&&(n.YNc(0,U,4,2,"ng-container",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,s.archerySessionRepo.sortedSessions$))},dependencies:[p.O5,p.Ov,_.Bz,_.rH,O,f.Cl,f.xd,f.x0,f.N7,f.LO],styles:["[_nghost-%COMP%]{display:block;padding:var(--spacing-1x) 0}app-session-list-item[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:var(--spacing-1x)}app-session-list-item[_ngcontent-%COMP%]:hover:not(.active){background-color:var(--list-item-hover-background)}"],changeDetection:0}),t})();var N=o(370),x=o(1728),m=o(5580),h=o(7406),Y=o(8983);let Q=(()=>{class t{constructor(e){this.dialogRef=e}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(m.so))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-add-new-session-dialog"]],standalone:!0,features:[n.jDz],decls:7,vars:0,consts:[["mat-dialog-title",""],[3,"sessionAdded"],["mat-button","","mat-dialog-close",""]],template:function(e,s){1&e&&(n.TgZ(0,"h2",0),n._uU(1,"Start new session"),n.qZA(),n.TgZ(2,"mat-dialog-content")(3,"app-new-archery-session-form",1),n.NdJ("sessionAdded",function(A){return s.dialogRef.close(A)}),n.qZA()(),n.TgZ(4,"mat-dialog-actions")(5,"button",2),n._uU(6,"Cancel"),n.qZA()())},dependencies:[Y.e,m.Is,m.ZT,m.uh,m.xY,m.H8,x.ot,x.lW],changeDetection:0}),t})();var J=o(7323);function j(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"div",4)(2,"h2"),n._uU(3),n.qZA()(),n._UZ(4,"mat-divider",5)(5,"app-session-sort-menu")(6,"app-session-list"),n.BQk()),2&t){const e=n.oxw().ngIf;n.xp6(3),n.hij("Your sessions (",e.length,"):")}}function F(t,i){1&t&&(n.ynx(0),n.TgZ(1,"div",6)(2,"h2",7),n._uU(3,"No sessions yet"),n.qZA(),n.TgZ(4,"a",8)(5,"mat-icon"),n._uU(6,"add"),n.qZA(),n._uU(7," Create a new session "),n.qZA()(),n.BQk()),2&t&&(n.xp6(4),n.Q6J("routerLink","/new"))}function B(t,i){if(1&t&&(n.ynx(0),n.YNc(1,j,7,1,"ng-container",0),n.YNc(2,F,8,1,"ng-container",0),n.BQk()),2&t){const e=i.ngIf;n.xp6(1),n.Q6J("ngIf",e.length),n.xp6(1),n.Q6J("ngIf",!e.length)}}let E=(()=>{class t{constructor(e,s,l){this.archerySessionRepo=e,this.dialog=s,this.router=l}openNewSessionDialog(){this.dialog.open(Q,{width:"500px"}).afterClosed().subscribe(s=>{s&&this.router.navigate(["/list",s.id])})}openCSVFileImportDialog(){this.dialog.open(J.L,{width:"500px"})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(T.H),n.Y36(m.uw),n.Y36(_.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-list-page"]],standalone:!0,features:[n.jDz],decls:15,vars:4,consts:[[4,"ngIf"],["mat-fab","","color","accent",3,"matMenuTriggerFor"],["addMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"margin-bottom-2x","flex-row"],[1,"margin-y-2x"],[1,"flex-column"],[2,"text-align","center"],["mat-stroked-button","",1,"margin-top-2x",3,"routerLink"]],template:function(e,s){if(1&e&&(n.YNc(0,B,3,2,"ng-container",0),n.ALo(1,"async"),n.TgZ(2,"button",1)(3,"mat-icon"),n._uU(4,"add"),n.qZA()(),n.TgZ(5,"mat-menu",null,2)(7,"button",3),n.NdJ("click",function(){return s.openNewSessionDialog()}),n.TgZ(8,"mat-icon"),n._uU(9,"add"),n.qZA(),n._uU(10," New Session "),n.qZA(),n.TgZ(11,"button",3),n.NdJ("click",function(){return s.openCSVFileImportDialog()}),n.TgZ(12,"mat-icon"),n._uU(13,"upload"),n.qZA(),n._uU(14," Import "),n.qZA()()),2&e){const l=n.MAs(6);n.Q6J("ngIf",n.lcZ(1,2,s.archerySessionRepo.sessions$)),n.xp6(2),n.Q6J("matMenuTriggerFor",l)}},dependencies:[p.O5,p.Ov,_.Bz,_.rH,w,N.A,u.t,u.d,a.Ps,a.Hw,x.ot,x.zs,x.cs,m.Is,h.Tx,h.VK,h.OP,h.p6],styles:["[_nghost-%COMP%]{display:block;padding:var(--spacing-3x) var(--spacing-1x)}@media (min-width: 768px){[_nghost-%COMP%]{padding:var(--spacing-3x)}}button[mat-fab][_ngcontent-%COMP%]{position:fixed;bottom:56px;right:8px;z-index:2}"],changeDetection:0}),t})()},9613:(y,C,o)=>{o.d(C,{M:()=>v});var p=o(4755),u=o(1728),a=o(5580),n=o(2223);function Z(c,d){if(1&c&&(n.TgZ(0,"p"),n._uU(1),n.qZA()),2&c){const r=n.oxw();n.xp6(1),n.hij(" ",r.data.text," ")}}let v=(()=>{class c{constructor(r,g={}){this.dialogRef=r,this.data=g}}return c.\u0275fac=function(r){return new(r||c)(n.Y36(a.so),n.Y36(a.WI))},c.\u0275cmp=n.Xpm({type:c,selectors:[["app-are-you-sure-dialog"]],standalone:!0,features:[n.jDz],decls:10,vars:5,consts:[["mat-dialog-title",""],[4,"ngIf"],["mat-button","","mat-dialog-close",""],[1,"spacer"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(r,g){1&r&&(n.TgZ(0,"h2",0),n._uU(1),n.qZA(),n.TgZ(2,"mat-dialog-content"),n.YNc(3,Z,2,1,"p",1),n.qZA(),n.TgZ(4,"mat-dialog-actions")(5,"button",2),n._uU(6),n.qZA(),n._UZ(7,"span",3),n.TgZ(8,"button",4),n._uU(9),n.qZA()()),2&r&&(n.xp6(1),n.hij(" ",g.data.title||"Are you sure ?","\n"),n.xp6(2),n.Q6J("ngIf",g.data.text),n.xp6(3),n.hij(" ",g.data.noText||"No"," "),n.xp6(2),n.Q6J("mat-dialog-close",!0),n.xp6(1),n.hij(" ",g.data.yesText||"Yes"," "))},dependencies:[p.O5,a.Is,a.ZT,a.uh,a.xY,a.H8,u.ot,u.lW],changeDetection:0}),c})()}}]);