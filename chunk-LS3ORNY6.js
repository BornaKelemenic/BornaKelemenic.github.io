import{a as W,b as Mt,c as Dt,d as kt,e as Ct,g as Tt}from"./chunk-RV4RZYMT.js";import{a as ct,b as lt,c as dt,d as pt,e as ut,f as ft,g as gt,h as _t,i as ht,j as bt,k as xt,m as yt,o as vt,p as St,r as Ot,s as Nt}from"./chunk-52VUZKTX.js";import{a as Ge,b as qe,c as He,d as We,e as Ze,f as Qe,g as Je,h as q,i as It,j as wt,k as Et,l as Ft,m as Rt}from"./chunk-RCUXNONF.js";import{f as we,h as Ee,i as Fe,k as Re,l as $e,m as Xe,q as O}from"./chunk-SXL6WRPU.js";import{d as Ke,e as et,j as H,m as tt,o as P,q as it,r as nt,s as rt,u as z,v as ot,x as at,y as st,z as mt}from"./chunk-CN5XTSAD.js";import{Q as oe,a as ze,b as Be,c as Le,e as Y}from"./chunk-XMT65DH3.js";import{$ as L,$b as Ne,F as pe,Ha as Se,Ia as v,K as ue,La as Me,Lb as Te,Ma as _,Na as K,Oa as De,Ob as re,Pa as ke,Pb as Ie,Pc as Ve,Ra as k,Sa as ee,T as B,U as fe,Ua as te,V as ge,Va as ie,Vb as Oe,Wa as o,X as l,Xa as s,Y as w,Ya as h,Yc as Pe,Z as _e,Za as X,_a as j,ab as F,da as S,db as D,dc as Ae,ea as M,f as I,fb as d,ka as he,la as be,ma as xe,na as $,nd as je,oa as ye,od as U,pb as ne,pd as G,qb as m,ra as ve,rb as x,sb as b,ta as a,ua as E,ub as Ce,ud as Ye,vd as Ue,yb as R}from"./chunk-X3MDISX7.js";function Qt(e,r){e&1&&h(0,"div",2)}var Jt=new ge("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Ii=(()=>{class e{constructor(t,i,n,p,c){this._elementRef=t,this._ngZone=i,this._changeDetectorRef=n,this._animationMode=p,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new he,this._mode="determinate",this._transitionendHandler=y=>{this.animationEnd.observers.length===0||!y.target||!y.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=p==="NoopAnimations",c&&(c.color&&(this.color=this._defaultColor=c.color),this.mode=c.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(t){this._color=t}get value(){return this._value}set value(t){this._value=At(t||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=At(t||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}static{this.\u0275fac=function(i){return new(i||e)(E(ye),E(be),E(Te),E(ve,8),E(Jt,8))}}static{this.\u0275cmp=w({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,n){i&2&&(Me("aria-valuenow",n._isIndeterminate()?null:n.value)("mode",n.mode),ke("mat-"+n.color),De("_mat-animation-noopable",n._isNoopAnimation)("mdc-linear-progress--animation-ready",!n._isNoopAnimation)("mdc-linear-progress--indeterminate",n._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",re],bufferValue:[2,"bufferValue","bufferValue",re],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[Se,R],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,n){i&1&&(o(0,"div",0),h(1,"div",1),v(2,Qt,1,0,"div",2),s(),o(3,"div",3),h(4,"span",4),s(),o(5,"div",5),h(6,"span",4),s()),i&2&&(a(),K("flex-basis",n._getBufferBarFlexBasis()),a(),k(n.mode==="buffer"?2:-1),a(),K("transform",n._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-app-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0})}}return e})();function At(e,r=0,t=100){return Math.max(r,Math.min(t,e))}var wi=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=_e({type:e})}static{this.\u0275inj=fe({imports:[Ve]})}}return e})();var Kt={lastVisitedSession:null},Vt="archery-stats-app-state",Pt=(()=>{class e{constructor(){this.store=we({name:Vt},Re(Kt)),$e(this.store,{key:Vt,storage:Xe}),this.lastVisitedSession$=this.store.pipe(Fe(t=>t.lastVisitedSession),ue({refCount:!0,bufferSize:1}))}setLastVisitedSession(t){this.store.update(Ee("lastVisitedSession",t))}getStoreProp(t){return this.store.getValue()[t]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var zt=(()=>{class e{constructor(){this.settingsRepo=l(O),this.lock=new Audio("assets/lock.wav"),this.lock.load(),this.unlock=new Audio("assets/unlock.wav"),this.unlock.load(),this.interfaceClick=new Audio("assets/interface-click.wav"),this.interfaceClick.load(),this.gameClick=new Audio("assets/game-click.wav"),this.gameClick.load()}play(t){if(this.settingsRepo.getStoreProp("playSounds"))switch(t){case"lock":this.lock.currentTime=0,this.lock.play();break;case"unlock":this.unlock.currentTime=0,this.unlock.play();break;case"click":this.interfaceClick.currentTime=0,this.interfaceClick.play();break;case"gameClick":this.gameClick.currentTime=0,this.gameClick.play();break;default:break}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ii(e,r){if(e&1&&(o(0,"mat-error"),m(1),s()),e&2){let t=d().$implicit;a(),b(" ",t("form.validations.fieldRequired")," ")}}function ni(e,r){if(e&1&&(o(0,"mat-radio-button",7),m(1),s()),e&2){let t=r.$implicit,i=d().$implicit;_("value",t[0]),a(),b(" ",i(t[1])," ")}}function ri(e,r){if(e&1&&(h(0,"img",14),o(1,"span",15),m(2),s()),e&2){let t=d().$implicit,i=d();_("ngSrc",i.TargetFaceImgMap.get(i.form.controls.targetFace.value)),a(2),b(" ",t(i.TargetFaceNameMap.get(i.form.controls.targetFace.value))," ")}}function oi(e,r){if(e&1&&(Ce(0)(1),o(2,"mat-option",7),h(3,"img",14),o(4,"span",15),m(5),s()()),e&2){let t=r.$implicit,i=d().$implicit,n=d(),p=t[0],c=t[1];a(2),_("value",p),a(),_("ngSrc",n.TargetFaceImgMap.get(p)),a(2),b(" ",i(c)," ")}}function ai(e,r){if(e&1){let t=F();X(0),o(1,"h2",1),m(2),s(),o(3,"form",2),D("ngSubmit",function(){S(t);let n=d();return M(n.submitForm())}),o(4,"mat-dialog-content")(5,"mat-form-field",3)(6,"mat-label"),m(7),s(),h(8,"input",4),v(9,ii,2,1,"mat-error"),s(),o(10,"div",5)(11,"label"),m(12),s(),o(13,"mat-radio-group",6),te(14,ni,2,2,"mat-radio-button",7,ee),s()(),o(16,"div",8)(17,"label"),m(18),s(),h(19,"app-small-counter",9),s(),o(20,"mat-form-field")(21,"mat-label"),m(22),s(),o(23,"mat-select",10)(24,"mat-select-trigger"),v(25,ri,3,2),s(),te(26,oi,6,3,"mat-option",7,ee),s()()(),o(28,"mat-dialog-actions")(29,"button",11),m(30),s(),h(31,"span",12),o(32,"button",13),m(33),s()()(),j()}if(e&2){let t=r.$implicit,i=d();a(2),b(" ",t("session.dialogs.editSessionDialog.title")," "),a(),_("formGroup",i.form),a(4),x(t("form.labels.name")),a(2),k(i.form.controls.name.hasError("required")?9:-1),a(3),b(" ",t("form.labels.shootingType")," "),a(2),ie(i.ShootingTypeNameMap.entries()),a(4),x(t("form.labels.distance")),a(4),x(t("form.labels.targetFace")),a(3),k(i.form.controls.targetFace.value!==null?25:-1),a(),ie(i.TargetFaceNameMap.entries()),a(4),b(" ",t("generic.cancel")," "),a(2),_("disabled",i.form.invalid),a(),b(" ",t("session.dialogs.editSessionDialog.saveButton")," ")}}var Bt=(()=>{class e{constructor(){this.sessionsDbService=l(H),this.dialogRef=l(Ge),this.data=l(qe),this.ShootingTypeNameMap=yt,this.TargetFaceNameMap=vt,this.TargetFaceImgMap=St,this.form=new rt({name:new z("",{nonNullable:!0,validators:[P.required]}),shootingType:new z(null,{nonNullable:!0,validators:[P.required]}),targetFace:new z(null,{nonNullable:!0,validators:[P.required]}),distance:new z(0,{nonNullable:!0,validators:[P.required]})}),this.initializeFormValues()}initializeFormValues(){return I(this,null,function*(){let t=yield this.sessionsDbService.getSessionById(this.data.sessionId);if(!t){this.dialogRef.close(!1);return}let{name:i,targetFace:n,shootingType:p,distance:c}=t;this.form.patchValue({name:i,targetFace:n,shootingType:p,distance:c},{emitEvent:!1})})}submitForm(){return I(this,null,function*(){if(this.form.invalid)return;let{name:t,shootingType:i,targetFace:n,distance:p}=this.form.getRawValue();!oe(i)||!oe(n)||(yield this.sessionsDbService.updateSession(this.data.sessionId,{name:t,shootingType:i,targetFace:n,distance:p}),this.dialogRef.close(!0))})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=w({type:e,selectors:[["app-edit-session-dialog"]],standalone:!0,features:[R],decls:1,vars:0,consts:[[4,"transloco"],["mat-dialog-title",""],[3,"ngSubmit","formGroup"],[1,"margin-bottom-2x"],["matInput","","formControlName","name"],[1,"flex-column","margin-bottom-4x"],["formControlName","shootingType"],[3,"value"],[1,"flex-column","align-items-start","margin-bottom-4x"],["formControlName","distance","suffix","m","moreIncrements",""],["formControlName","targetFace"],["mat-button","","type","button","mat-dialog-close",""],[1,"spacer"],["mat-flat-button","","type","submit",3,"disabled"],["width","30","height","30",2,"vertical-align","middle",3,"ngSrc"],[1,"margin-left-2x"]],template:function(i,n){i&1&&v(0,ai,34,11,"ng-container",0)},dependencies:[mt,ot,tt,it,nt,at,st,G,U,Ae,xt,q,We,Ze,Je,Qe,pt,dt,ct,lt,Nt,Ot,Y,ze,gt,ut,ft,bt,_t,ht,Pe],styles:["[_nghost-%COMP%]{display:block}mat-form-field[_ngcontent-%COMP%]{width:100%}"],changeDetection:0})}}return e})();function si(e,r){if(e&1){let t=F();o(0,"button",7),D("click",function(n){return S(t),n.preventDefault(),M(n.stopPropagation())}),o(1,"mat-icon"),m(2),s()()}if(e&2){d();let t=ne(4),i=d();_("matMenuTriggerFor",t),a(2),x(i.$icon())}}function mi(e,r){if(e&1){let t=F();o(0,"button",8),D("click",function(n){return S(t),n.preventDefault(),M(n.stopPropagation())}),o(1,"mat-icon"),m(2),s()()}if(e&2){d();let t=ne(4),i=d();_("matMenuTriggerFor",t),a(2),x(i.$icon())}}function ci(e,r){if(e&1){let t=F();X(0),v(1,si,3,2,"button",2)(2,mi,3,2,"button",3),o(3,"mat-menu",null,0)(5,"button",4),D("click",function(){S(t);let n=d();return M(n.toggleLock())}),o(6,"mat-icon"),m(7),s(),o(8,"span"),m(9),s()(),o(10,"button",5),D("click",function(){S(t);let n=d();return M(n.openEditDialog())}),o(11,"mat-icon"),m(12,"edit"),s(),o(13,"span"),m(14),s()(),o(15,"button",4),D("click",function(){S(t);let n=d();return M(n.deleteSession())}),o(16,"mat-icon",6),m(17,"delete"),s(),o(18,"span"),m(19),s()()(),j()}if(e&2){let t,i=r.$implicit,n=d();a(),k((t=n.$buttonType())==="icon"?1:t==="fab"?2:-1),a(6),x(n.$isSessionLocked()?"lock":"lock_open"),a(2),b(" ",n.$isSessionLocked()?i("session.actions.pressToUnlock"):i("session.actions.pressToLock")," "),a(),_("disabled",n.$isSessionLocked()),a(4),x(i("session.actions.editSession")),a(5),x(i("session.actions.deleteSession"))}}var wn=(()=>{class e{constructor(){this.sessionsDbService=l(H),this.dialog=l(He),this.transloco=l(je),this.appStateRepo=l(Pt),this.soundboard=l(zt),this.$isSessionLocked=Ie(()=>et(this.$session().locked)),this.$session=$.required({alias:"session"}),this.$icon=$("more_vert",{alias:"icon-name"}),this.$buttonType=$("icon",{alias:"button-type"}),this.sessionDeleted=xe()}deleteSession(){this.dialog.open(Rt,{width:"500px",data:{text:this.transloco.translate("session.dialogs.deleteDialog.text")}}).afterClosed().pipe(pe(1)).subscribe(i=>I(this,null,function*(){i&&(yield this.sessionsDbService.deleteSession(this.$session().id),this.appStateRepo.setLastVisitedSession(null),this.sessionDeleted.emit())}))}openEditDialog(){this.dialog.open(Bt,{width:"500px",data:{sessionId:this.$session().id}})}toggleLock(){return I(this,null,function*(){this.soundboard.play(this.$isSessionLocked()?"unlock":"lock"),yield this.sessionsDbService.updateSession(this.$session().id,{locked:Ke(!this.$isSessionLocked())})})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=w({type:e,selectors:[["app-session-options-menu"]],inputs:{$session:[1,"session","$session"],$icon:[1,"icon-name","$icon"],$buttonType:[1,"button-type","$buttonType"]},outputs:{sessionDeleted:"sessionDeleted"},standalone:!0,features:[R],decls:1,vars:0,consts:[["menu","matMenu"],[4,"transloco"],["mat-icon-button","","type","button",3,"matMenuTriggerFor"],["mat-fab","","type","button",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click","disabled"],["color","warn"],["mat-icon-button","","type","button",3,"click","matMenuTriggerFor"],["mat-fab","","type","button",3,"click","matMenuTriggerFor"]],template:function(i,n){i&1&&v(0,ci,20,6,"ng-container",1)},dependencies:[G,U,Y,Le,Be,Ue,Ye,Ft,wt,It,Et,q],styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0})}}return e})();function g(e){let r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}var li={};function Lt(){return li}var di={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pi={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ui={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$t={date:W({formats:di,defaultWidth:"full"}),time:W({formats:pi,defaultWidth:"full"}),dateTime:W({formats:ui,defaultWidth:"full"})};var ae={code:"en-US",formatDistance:Mt,formatLong:$t,formatRelative:Dt,localize:kt,match:Ct,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xt(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}var fi=Math.pow(10,8)*24*60*60*1e3,jn=-fi;var se=6e4;var me=525600,ce=43200,le=1440;var gi=3600;var jt=gi*24,Yn=jt*7,_i=jt*365.2425,hi=_i/12,Un=hi*3;function de(e){let r=g(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function Yt(e,r){let t=g(e),i=g(r),n=t.getTime()-i.getTime();return n<0?-1:n>0?1:n}function Ut(e){return Xt(e,Date.now())}function Z(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Gt(e){if(!Z(e)&&typeof e!="number")return!1;let r=g(e);return!isNaN(Number(r))}function qt(e){return r=>{let i=(e?Math[e]:Math.trunc)(r);return i===0?0:i}}function Ht(e,r,t){let i=Lt(),n=t?.locale??i.locale??ae,p=Yt(e,r);if(isNaN(p))throw new RangeError("Invalid time value");let c=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:p}),y,C;p>0?(y=g(r),C=g(e)):(y=g(e),C=g(r));let T=qt(t?.roundingMethod??"round"),Q=C.getTime()-y.getTime(),A=Q/se,Zt=de(C)-de(y),V=(Q-Zt)/se,J=t?.unit,u;if(J?u=J:A<1?u="second":A<60?u="minute":A<le?u="hour":V<ce?u="day":V<me?u="month":u="year",u==="second"){let f=T(Q/1e3);return n.formatDistance("xSeconds",f,c)}else if(u==="minute"){let f=T(A);return n.formatDistance("xMinutes",f,c)}else if(u==="hour"){let f=T(A/60);return n.formatDistance("xHours",f,c)}else if(u==="day"){let f=T(V/le);return n.formatDistance("xDays",f,c)}else if(u==="month"){let f=T(V/ce);return f===12&&J!=="month"?n.formatDistance("xYears",1,c):n.formatDistance("xMonths",f,c)}else{let f=T(V/me);return n.formatDistance("xYears",f,c)}}function Wt(e,r){return Ht(e,Ut(e),r)}var Sr=(()=>{class e{constructor(){this.settingsRepo=l(O)}transform(t,i){let n=new Date(t);if(!Z(n)||!Gt(n))return"Invalid date";let p=this.settingsRepo.getStoreProp("language");return Wt(n,{addSuffix:!0,locale:Tt.get(p),unit:i})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275pipe=L({name:"dateDistance",type:e,pure:!0,standalone:!0})}}return e})();var Ir=(()=>{class e{constructor(){this.defaultOptions=l(Ne),this.settingsRepo=l(O)}transform(t,i,n,p){if(t==null||t===""||t!==t)return null;try{let c=i??this.defaultOptions?.dateFormat??"mediumDate",y=p??this.defaultOptions?.timezone??this.defaultOptions.timezone??void 0,C=this.settingsRepo.getStoreProp("language");return Oe(t,c,n||C,y)}catch{return null}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275pipe=L({name:"date",type:e,pure:!0,standalone:!0})}}return e})();export{Ii as a,wi as b,Pt as c,Sr as d,Ir as e,zt as f,wn as g};
