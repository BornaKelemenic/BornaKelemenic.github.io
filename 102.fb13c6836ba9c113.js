"use strict";(self.webpackChunkarchery_stats=self.webpackChunkarchery_stats||[]).push([[102],{5316:(C,x,o)=>{o.r(x),o.d(x,{ListPageComponent:()=>E});var m=o(4755),d=o(3630),l=o(9560),t=o(2223),u=o(1330),h=o(5270),r=o(7322),_=o(2189),p=o(489),a=o(5159),v=o(84),L=o(4926),T=o(7697);const y=function(e){return["/list",e]};function S(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"mat-list-item",4),t.NdJ("click",function(){const A=t.CHM(n).$implicit,F=t.oxw(3);return t.KtG(F.sessionClicked.emit(A))}),t.ALo(1,"async"),t.TgZ(2,"span",5),t._uU(3),t.qZA(),t.TgZ(4,"span",6)(5,"span",7),t.ALo(6,"date"),t._uU(7),t.ALo(8,"dateDistance"),t.qZA()(),t.TgZ(9,"span",6)(10,"span"),t._uU(11),t.ALo(12,"average"),t.ALo(13,"pluck"),t.ALo(14,"flatten"),t.ALo(15,"pluck"),t.qZA(),t.TgZ(16,"span",8),t._uU(17,"\u2022"),t.qZA(),t._uU(18),t.ALo(19,"sum"),t.ALo(20,"pluck"),t.ALo(21,"flatten"),t.ALo(22,"pluck"),t.TgZ(23,"span",8),t._uU(24,"\u2022"),t.qZA(),t.TgZ(25,"span"),t._uU(26),t.qZA()(),t.TgZ(27,"app-session-options-menu",9),t.NdJ("click",function(c){return c.stopPropagation()}),t.qZA()()}if(2&e){const n=i.$implicit,s=t.oxw(3);let c;t.Udp("padding-right",48,"px"),t.Q6J("routerLink",t.VKq(38,y,n.id))("lines",3)("activated",n.id===(null==(c=t.lcZ(1,12,s.archerySessionRepo.activeSession$))?null:c.id)),t.xp6(3),t.hij(" ",n.name," "),t.xp6(2),t.Q6J("title",t.lcZ(6,14,n.date_created)||""),t.xp6(2),t.hij(" ",t.lcZ(8,16,n.date_created)," "),t.xp6(4),t.hij(" Average: ",t.lcZ(12,18,t.xi3(13,20,t.lcZ(14,23,t.xi3(15,25,n.entries,"shots")),"value"))," "),t.xp6(7),t.hij(" Total: ",t.lcZ(19,28,t.xi3(20,30,t.lcZ(21,33,t.xi3(22,35,n.entries,"shots")),"value"))," "),t.xp6(8),t.hij(" Entires: ",n.entries.length," "),t.xp6(1),t.Q6J("session",n)}}function D(e,i){if(1&e&&(t.ynx(0),t.YNc(1,S,28,40,"mat-list-item",3),t.BQk()),2&e){const n=t.oxw().ngIf,s=t.oxw();t.xp6(1),t.Q6J("ngForOf",n)("ngForTrackBy",s.trackBy)}}function U(e,i){1&e&&(t.TgZ(0,"mat-list-item")(1,"span",5),t._uU(2," No sessions "),t.qZA()())}function I(e,i){if(1&e&&(t.TgZ(0,"mat-list"),t.YNc(1,D,2,2,"ng-container",1),t.YNc(2,U,3,0,"ng-template",null,2,t.W1O),t.qZA()),2&e){const n=i.ngIf,s=t.MAs(3);t.xp6(1),t.Q6J("ngIf",n.length)("ngIfElse",s)}}let P=(()=>{class e{constructor(n){this.archerySessionRepo=n,this.sessionClicked=new t.vpe}trackBy(n,s){return s.id}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(T.H))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-session-list"]],outputs:{sessionClicked:"sessionClicked"},standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["noSessions",""],[3,"routerLink","lines","activated","padding-right","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"routerLink","lines","activated","click"],["matListItemTitle",""],["matListItemLine",""],[3,"title"],[2,"margin","0 4px"],[1,"action",3,"session","click"]],template:function(n,s){1&n&&(t.YNc(0,I,4,2,"mat-list",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,s.archerySessionRepo.sortedSessions$))},dependencies:[m.ax,m.O5,m.Ov,m.uU,h.n,r.p,_.F,p.p,L.q,a.Bz,a.rH,v.i,u.ie,u.i$,u.Tg,u.WW,u.sL],styles:["[_nghost-%COMP%]{display:block}mat-list-item[_ngcontent-%COMP%]{cursor:pointer!important}mat-list-item[_ngcontent-%COMP%]:hover:not(.mdc-list-item--activated){background-color:var(--list-item-hover-background)}"],changeDetection:0}),e})();var N=o(370),f=o(1728),g=o(5580),Z=o(7406),Y=o(8983);let O=(()=>{class e{constructor(n){this.dialogRef=n}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.so))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-new-session-dialog"]],standalone:!0,features:[t.jDz],decls:7,vars:0,consts:[["mat-dialog-title",""],[3,"sessionAdded"],["mat-button","","mat-dialog-close",""]],template:function(n,s){1&n&&(t.TgZ(0,"h2",0),t._uU(1,"Start new session"),t.qZA(),t.TgZ(2,"mat-dialog-content")(3,"app-new-archery-session-form",1),t.NdJ("sessionAdded",function(A){return s.dialogRef.close(A)}),t.qZA()(),t.TgZ(4,"mat-dialog-actions")(5,"button",2),t._uU(6,"Cancel"),t.qZA()())},dependencies:[Y.e,g.Is,g.ZT,g.uh,g.xY,g.H8,f.ot,f.lW],changeDetection:0}),e})();var M=o(6605);function k(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"div",4)(2,"h2"),t._uU(3),t.qZA()(),t._UZ(4,"mat-divider",5)(5,"app-session-sort-menu")(6,"app-session-list"),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(3),t.hij("Your sessions (",n.length,"):")}}function J(e,i){1&e&&(t.ynx(0),t.TgZ(1,"div",6)(2,"h2",7),t._uU(3,"No sessions yet"),t.qZA(),t.TgZ(4,"a",8)(5,"mat-icon"),t._uU(6,"add"),t.qZA(),t._uU(7," Create a new session "),t.qZA()(),t.BQk()),2&e&&(t.xp6(4),t.Q6J("routerLink","/new"))}function Q(e,i){if(1&e&&(t.ynx(0),t.YNc(1,k,7,1,"ng-container",0),t.YNc(2,J,8,1,"ng-container",0),t.BQk()),2&e){const n=i.ngIf;t.xp6(1),t.Q6J("ngIf",n.length),t.xp6(1),t.Q6J("ngIf",!n.length)}}let E=(()=>{class e{constructor(n,s,c){this.archerySessionRepo=n,this.dialog=s,this.router=c}openNewSessionDialog(){this.dialog.open(O,{width:"500px"}).afterClosed().subscribe(s=>{s&&this.router.navigate(["/list",s.id])})}openCSVFileImportDialog(){this.dialog.open(M.L,{width:"500px"})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(T.H),t.Y36(g.uw),t.Y36(a.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-page"]],standalone:!0,features:[t.jDz],decls:15,vars:4,consts:[[4,"ngIf"],["mat-mini-fab","","color","accent",3,"matMenuTriggerFor"],["addMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"margin-bottom-2x","flex-row"],[1,"margin-y-2x"],[1,"flex-column"],[2,"text-align","center"],["mat-stroked-button","",1,"margin-top-2x",3,"routerLink"]],template:function(n,s){if(1&n&&(t.YNc(0,Q,3,2,"ng-container",0),t.ALo(1,"async"),t.TgZ(2,"button",1)(3,"mat-icon"),t._uU(4,"add"),t.qZA()(),t.TgZ(5,"mat-menu",null,2)(7,"button",3),t.NdJ("click",function(){return s.openNewSessionDialog()}),t.TgZ(8,"mat-icon"),t._uU(9,"add"),t.qZA(),t._uU(10," New Session "),t.qZA(),t.TgZ(11,"button",3),t.NdJ("click",function(){return s.openCSVFileImportDialog()}),t.TgZ(12,"mat-icon"),t._uU(13,"upload"),t.qZA(),t._uU(14," Import "),t.qZA()()),2&n){const c=t.MAs(6);t.Q6J("ngIf",t.lcZ(1,2,s.archerySessionRepo.sessions$)),t.xp6(2),t.Q6J("matMenuTriggerFor",c)}},dependencies:[m.O5,m.Ov,a.Bz,a.rH,P,N.A,d.t,d.d,l.Ps,l.Hw,f.ot,f.zs,f.nh,g.Is,Z.Tx,Z.VK,Z.OP,Z.p6],styles:["[_nghost-%COMP%]{display:block;padding:var(--spacing-3x) var(--spacing-1x)}@media (min-width: 768px){[_nghost-%COMP%]{padding:var(--spacing-3x)}}button[mat-mini-fab][_ngcontent-%COMP%]{position:fixed;bottom:56px;right:8px;z-index:2}"],changeDetection:0}),e})()},9613:(C,x,o)=>{o.d(x,{M:()=>h});var m=o(4755),d=o(1728),l=o(5580),t=o(2223);function u(r,_){if(1&r&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&r){const p=t.oxw();t.xp6(1),t.hij(" ",p.data.text," ")}}let h=(()=>{class r{constructor(p,a={}){this.dialogRef=p,this.data=a}}return r.\u0275fac=function(p){return new(p||r)(t.Y36(l.so),t.Y36(l.WI))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-are-you-sure-dialog"]],standalone:!0,features:[t.jDz],decls:10,vars:5,consts:[["mat-dialog-title",""],[4,"ngIf"],["mat-button","","mat-dialog-close",""],[1,"spacer"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(p,a){1&p&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"mat-dialog-content"),t.YNc(3,u,2,1,"p",1),t.qZA(),t.TgZ(4,"mat-dialog-actions")(5,"button",2),t._uU(6),t.qZA(),t._UZ(7,"span",3),t.TgZ(8,"button",4),t._uU(9),t.qZA()()),2&p&&(t.xp6(1),t.hij(" ",a.data.title||"Are you sure ?","\n"),t.xp6(2),t.Q6J("ngIf",a.data.text),t.xp6(3),t.hij(" ",a.data.noText||"No"," "),t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.hij(" ",a.data.yesText||"Yes"," "))},dependencies:[m.O5,l.Is,l.ZT,l.uh,l.xY,l.H8,d.ot,d.lW],changeDetection:0}),r})()}}]);