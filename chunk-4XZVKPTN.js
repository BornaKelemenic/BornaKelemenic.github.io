import{b as et,c as tt,d as it,e as rt,f as Mt,g as xt,i as It}from"./chunk-VQLQTW2M.js";import"./chunk-JTZ6HJ5Y.js";import{a as pt,c as gt,d as ft,e as ut,f as ht,g as vt,h as _t,i as bt,j as St,k as yt,l as Ct,m as ae,o as re,p as se}from"./chunk-EXMOGULT.js";import{c as We,d as Qe,e as Ye,f as Je,g as Xe,h as te,i as Ft,j as Dt,k as Tt,l as Et}from"./chunk-3DWANDWC.js";import{a as Le,f as Ne,h as Z,i as G,k as ke,l as Ze,m as Ge}from"./chunk-VDMVEIZB.js";import{a as st}from"./chunk-HRKTKWSX.js";import{A as dt,a as nt,h as ie,i as at,j as ne,p as lt,r as mt,v as oe,x as ct}from"./chunk-Z2QGYIGV.js";import{Q as ot,a as ee,b as He,c as qe,e as O}from"./chunk-BJ64OEXR.js";import{$ as Y,$a as u,Ba as Te,Bb as h,Db as ze,Eb as _,Fb as S,Gb as $e,Hc as Ae,Ja as Ee,Ka as f,Kc as Oe,Lb as we,M as F,Oa as Ie,P as q,Pa as c,Qb as J,Qc as Ve,Ra as L,Tc as A,Ua as T,V as be,Va as U,Vb as Re,W as Q,Xa as I,Xb as Pe,Ya as B,Z as d,Za as r,_ as g,_a as a,a as he,aa as Se,ab as y,ad as je,bb as C,cc as P,da as ye,db as N,fa as $,ga as w,gb as k,hc as X,ib as m,jd as Ue,la as Ce,na as Me,od as K,p as ve,pa as xe,pd as Ke,qa as Fe,sb as Be,sd as M,t as _e,ta as De,tb as s,td as x,u as me,ub as b,va as o,vb as p,wa as R,wb as ce,xb as D,xc as ge,yb as de,yd as V,zb as pe,zd as j}from"./chunk-N7SP2XQP.js";var jt=0,Bt="mat-badge-content",fe=new Set,Ht=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=g({type:t,selectors:[["ng-component"]],standalone:!0,features:[h],decls:0,vars:0,template:function(i,n){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-app-error));color:var(--mat-badge-text-color, var(--mat-app-on-error));font-family:var(--mat-badge-text-font, var(--mat-app-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-app-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-app-corner-full))}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color, var(--mat-app-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, unset);min-height:var(--mat-badge-small-size-container-size, unset);line-height:var(--mat-badge-legacy-small-size-container-size);padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, unset);min-height:var(--mat-badge-container-size, unset);line-height:var(--mat-badge-legacy-container-size);padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size, var(--mat-app-label-small-size));margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, unset);min-height:var(--mat-badge-large-size-container-size, unset);line-height:var(--mat-badge-legacy-large-size-container-size);padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size, var(--mat-app-label-small-size));margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0})}}return t})(),zt=(()=>{class t{get color(){return this._color}set color(e){this._setColor(e),this._color=e}get content(){return this._content}set content(e){this._updateRenderedContent(e)}get description(){return this._description}set description(e){this._updateDescription(e)}constructor(e,i,n,v,H){this._ngZone=e,this._elementRef=i,this._ariaDescriber=n,this._renderer=v,this._animationMode=H,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=jt++,this._isInitialized=!1,this._interactivityChecker=d(Oe),this._document=d(Pe);let W=d(we);if(!fe.has(W)){fe.add(W);let ue=Re(Ht,{environmentInjector:d(ye)});W.onDestroy(()=>{fe.delete(W),ue.destroy()})}}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let e=this._renderer.createElement("span"),i="mat-badge-active";return e.setAttribute("id",`mat-badge-content-${this._id}`),e.setAttribute("aria-hidden","true"),e.classList.add(Bt),this._animationMode==="NoopAnimations"&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),typeof requestAnimationFrame=="function"&&this._animationMode!=="NoopAnimations"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(i)})}):e.classList.add(i),e}_updateRenderedContent(e){let i=`${e??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!e||this._isHostInteractive())&&this._removeInlineDescription(),this._description=e,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,e):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(e){let i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),e&&i.add(`mat-badge-${e}`)}_clearExistingBadges(){let e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${Bt}`);for(let i of Array.from(e))i!==this._badgeElement&&i.remove()}static{this.\u0275fac=function(i){return new(i||t)(R(Me),R(Fe),R(Ae),R(Te),R(De,8))}}static{this.\u0275dir=Se({type:t,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,n){i&2&&L("mat-badge-overlap",n.overlap)("mat-badge-above",n.isAbove())("mat-badge-below",!n.isAbove())("mat-badge-before",!n.isAfter())("mat-badge-after",n.isAfter())("mat-badge-small",n.size==="small")("mat-badge-medium",n.size==="medium")("mat-badge-large",n.size==="large")("mat-badge-hidden",n.hidden||!n.content)("mat-badge-disabled",n.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",J],disabled:[2,"matBadgeDisabled","disabled",J],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",J]},standalone:!0,features:[Ee]})}}return t})(),$t=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=Q({imports:[Ve,A,A]})}}return t})();var wt=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=ge(e)}get inset(){return this._inset}set inset(e){this._inset=ge(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=g({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,n){i&2&&(Ie("aria-orientation",n.vertical?"vertical":"horizontal"),L("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[h],decls:0,vars:0,template:function(i,n){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-app-outline));border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-app-outline));border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}}return t})(),Rt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Y({type:t})}static{this.\u0275inj=Q({imports:[A,A]})}}return t})();var Zt={sortBy:ie.NEWEST_FIRST,targetFace:null,shootingType:null,distance:null},Lt="archery-stats-session-filters",E=(()=>{class t{constructor(){this.store=Ne({name:Lt},ke(Zt)),Ze(this.store,{key:Lt,storage:Ge}),this.sortBy$=this.store.pipe(G(e=>e.sortBy),F({refCount:!0,bufferSize:1})),this.targetFace$=this.store.pipe(G(e=>e.targetFace),F({refCount:!0,bufferSize:1})),this.shootingType$=this.store.pipe(G(e=>e.shootingType),F({refCount:!0,bufferSize:1})),this.distance$=this.store.pipe(G(e=>e.distance),F({refCount:!0,bufferSize:1})),this.filters$=me({sortBy:this.sortBy$,targetFace:this.targetFace$,shootingType:this.shootingType$,distance:this.distance$}).pipe(F({refCount:!0,bufferSize:1})),this.activeFiltersCount$=me({targetFace:this.targetFace$,shootingType:this.shootingType$,distance:this.distance$}).pipe(_e(e=>{let i=0;return Object.values(e).forEach(n=>{ot(n)&&i++}),i}),F({refCount:!0,bufferSize:1}))}setSortBy(e){this.store.update(Z("sortBy",e))}setTargetFace(e){this.store.update(Z("targetFace",e))}setShootingType(e){this.store.update(Z("shootingType",e))}setDistance(e){this.store.update(Z("distance",e))}getStoreProp(e){return this.store.getValue()[e]}resetAll(){this.store.reset()}resetOnlyFilters(){Le(()=>{let e=this.getStoreProp("sortBy");this.resetAll(),this.setSortBy(e)})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Gt(t,l){if(t&1&&(r(0,"mat-radio-button",3),s(1),a()),t&2){let e=l.$implicit,i=m().$implicit;c("value",e[0]),o(),p(" ",i(e[1])," ")}}function Kt(t,l){if(t&1&&(u(0,"img",8),r(1,"span",9),s(2),a()),t&2){let e=m().$implicit,i=m();c("ngSrc",i.TargetFaceImgMap.get(i.targetFaceControl.value)),o(2),p(" ",e(i.TargetFaceNameMap.get(i.targetFaceControl.value))," ")}}function Wt(t,l){if(t&1&&s(0),t&2){let e=m().$implicit;p(" ",e("generic.all")," ")}}function Qt(t,l){if(t&1&&(D(0)(1),r(2,"mat-option",3),u(3,"img",8),r(4,"span",9),s(5),a()()),t&2){let e=l.$implicit,i=m().$implicit,n=m(),v=e[0],H=e[1];o(2),c("value",v),o(),c("ngSrc",n.TargetFaceImgMap.get(v)),o(2),p(" ",i(H)," ")}}function Yt(t,l){if(t&1&&(y(0),r(1,"div",1)(2,"label"),s(3),a(),r(4,"mat-radio-group",2)(5,"mat-radio-button",3),s(6),a(),I(7,Gt,2,2,"mat-radio-button",3,U),a()(),r(9,"mat-form-field",4)(10,"mat-label"),s(11),a(),r(12,"mat-select",2)(13,"mat-select-trigger"),f(14,Kt,3,2)(15,Wt,1,1),a(),r(16,"mat-option",5),s(17),a(),I(18,Qt,6,3,"mat-option",3,U),a()(),r(20,"div",6)(21,"label"),s(22),a(),u(23,"app-small-counter",7),a(),C()),t&2){let e=l.$implicit,i=m();o(3),p(" ",e("form.labels.shootingType"),": "),o(),c("formControl",i.shootingTypeControl),o(),c("value",null),o(),b(e("generic.all")),o(),B(i.ShootingTypeNameMap.entries()),o(4),b(e("form.labels.targetFace")),o(),c("formControl",i.targetFaceControl),o(2),T(i.targetFaceControl.value!=="all"?14:15),o(3),b(e("generic.all")),o(),B(i.TargetFaceNameMap.entries()),o(4),b(e("form.labels.distance")),o(),c("formControl",i.distanceControl)}}var Nt=(()=>{class t{constructor(){this.destroyRef=d(Ce),this.sessionFiltersRepo=d(E),this.TargetFaceNameMap=re,this.TargetFaceImgMap=se,this.ShootingType=Ct,this.ShootingTypeNameMap=ae,this.targetFaceControl=new oe(this.sessionFiltersRepo.getStoreProp("targetFace")??"all",{nonNullable:!0}),this.shootingTypeControl=new oe(this.sessionFiltersRepo.getStoreProp("shootingType")),this.distanceControl=new oe(this.sessionFiltersRepo.getStoreProp("distance"),{nonNullable:!0,validators:[lt.min(0)]}),this.listenToRepoValueChanges(),this.setupControlValueChangeListeners()}listenToRepoValueChanges(){this.sessionFiltersRepo.filters$.pipe(K(this.destroyRef)).subscribe(({targetFace:e,shootingType:i,distance:n})=>{this.targetFaceControl.setValue(e??"all",{emitEvent:!1}),this.shootingTypeControl.setValue(i,{emitEvent:!1}),this.distanceControl.setValue(n,{emitEvent:!1})})}setupControlValueChangeListeners(){this.targetFaceControl.valueChanges.pipe(K(this.destroyRef)).subscribe(e=>this.sessionFiltersRepo.setTargetFace(e==="all"?null:e)),this.shootingTypeControl.valueChanges.pipe(K(this.destroyRef)).subscribe(e=>this.sessionFiltersRepo.setShootingType(e)),this.distanceControl.valueChanges.pipe(K(this.destroyRef)).subscribe(e=>this.sessionFiltersRepo.setDistance(e===0?null:e))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=g({type:t,selectors:[["app-session-filters"]],standalone:!0,features:[h],decls:1,vars:0,consts:[[4,"transloco"],[1,"flex-column","margin-bottom-4x"],[3,"formControl"],[3,"value"],[1,"margin-bottom-4x"],["value","all"],[1,"flex-column","align-items-start"],["suffix","m","moreIncrements","",3,"formControl"],["width","30","height","30",2,"vertical-align","middle",3,"ngSrc"],[1,"margin-left-2x"]],template:function(i,n){i&1&&f(0,Yt,24,10,"ng-container",0)},dependencies:[dt,mt,ct,X,x,M,yt,vt,ut,ht,St,gt,pt,_t,bt,je,ft],styles:["[_nghost-%COMP%]{display:block}mat-form-field[_ngcontent-%COMP%]{width:100%}"],changeDetection:0})}}return t})();function Jt(t,l){if(t&1){let e=N();y(0),r(1,"h2",1),s(2),a(),r(3,"mat-dialog-content"),u(4,"app-session-filters"),a(),r(5,"mat-dialog-actions")(6,"button",2),s(7),a(),u(8,"span",3),r(9,"button",4),k("click",function(){$(e);let n=m();return w(n.sessionFiltersRepo.resetOnlyFilters())}),s(10),a()(),C()}if(t&2){let e=l.$implicit;o(2),p(" ",e("session.dialogs.filtersDialog.title")," "),o(5),p(" ",e("generic.close")," "),o(3),p(" ",e("generic.resetFilters")," ")}}var Pt=(()=>{class t{constructor(){this.sessionFiltersRepo=d(E)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=g({type:t,selectors:[["app-session-filters-dialog"]],standalone:!0,features:[h],decls:1,vars:0,consts:[[4,"transloco"],["mat-dialog-title",""],["mat-button","","type","button","mat-dialog-close",""],[1,"spacer"],["mat-button","","color","warn",3,"click"]],template:function(i,n){i&1&&f(0,Jt,11,3,"ng-container",0)},dependencies:[x,M,Nt,te,Qe,Ye,Xe,Je,O,ee],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return t})();function Xt(t,l){t&1&&(r(0,"mat-icon"),s(1,"lock"),a())}function ei(t,l){if(t&1&&(y(0),D(1),u(2,"img",1),r(3,"div",2)(4,"span",3),s(5),f(6,Xt,2,0,"mat-icon"),a(),r(7,"small"),s(8),_(9,"date"),_(10,"dateDistance"),a(),r(11,"div",4)(12,"small"),s(13),a(),r(14,"small"),s(15,"\u2022"),a(),r(16,"small"),s(17),a(),r(18,"small"),s(19,"\u2022"),a(),r(20,"small"),s(21),_(22,"async"),a(),r(23,"small"),s(24,"\u2022"),a(),r(25,"small"),s(26),a(),r(27,"small"),s(28),_(29,"async"),a(),r(30,"small"),s(31,"\u2022"),a(),r(32,"small"),s(33),a(),r(34,"small"),s(35),_(36,"async"),a()()(),u(37,"app-session-options-menu",5),C()),t&2){let e=l.$implicit,i=m(),n=i.$session();o(2),c("ngSrc",i.TargetFaceImgMap.get(n.targetFace)),o(3),p(" ",n.name," "),o(),T(n.locked?6:-1),o(2),ce(" ",$e(9,14,n.date,"short")," (",S(10,17,n.date),") "),o(5),b(e(i.ShootingTypeNameMap.get(n.shootingType))),o(4),p("",n.distance,"m"),o(4),ce("",e("session.info.rounds"),": ",S(22,19,i.roundCount$),""),o(5),p("",e("session.info.avg"),":"),o(2),b(S(29,21,i.avgScore$)),o(5),p("",e("session.info.total"),":"),o(2),b(S(36,23,i.shotsTotal$)),o(2),c("session",n)}}var Ot=(()=>{class t{constructor(){this.sessionsDbService=d(ne),this.TargetFaceNameMap=re,this.TargetFaceImgMap=se,this.ShootingTypeNameMap=ae,this.roundCount$=ve(nt(()=>this.sessionsDbService.getRoundsCountBySessionId(this.$session().id))),this.$session=xe.required({alias:"session"}),this.session$=Ke(this.$session).pipe(F({refCount:!0,bufferSize:1})),this.shotsTotal$=this.session$.pipe(q(e=>this.sessionsDbService.getTotalScoreBySessionID$(e.id))),this.avgScore$=this.session$.pipe(q(e=>this.sessionsDbService.getAverageScoreBySessionID$(e.id)))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=g({type:t,selectors:[["app-session-list-item"]],inputs:{$session:[1,"session","$session"]},standalone:!0,features:[h],decls:1,vars:0,consts:[[4,"transloco"],["alt","Target face","width","50","height","50",2,"border-radius","5px",3,"ngSrc"],[1,"flex-column","align-items-start"],[1,"session-name"],[1,"session-info"],[3,"session"]],template:function(i,n){i&1&&f(0,ei,38,25,"ng-container",0)},dependencies:[P,x,M,X,xt,Mt,It,j,V],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:50px minmax(0,1fr) 40px;align-items:center;justify-content:flex-start;gap:var(--spacing-3x);padding:var(--spacing-2x)}.session-name[_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:var(--spacing-1x);font-size:1.25em}.session-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;column-gap:var(--spacing-1x)}"],changeDetection:0})}}return t})();function ti(t,l){t&1&&(r(0,"mat-icon",5),s(1,"radio_button_checked"),a())}function ii(t,l){t&1&&(r(0,"mat-icon"),s(1,"radio_button_unchecked"),a())}function ni(t,l){if(t&1){let e=N();D(0)(1),r(2,"button",4),k("click",function(){$(e);let n=pe(0),v=m(2);return w(v.sessionFiltersRepo.setSortBy(n))}),f(3,ti,2,0,"mat-icon",5)(4,ii,2,0,"mat-icon"),r(5,"span"),s(6),a()()}if(t&2){let e=l.$implicit,i=m().$implicit,n=pe(1),v=de(e[0]),H=e[1];o(3),T(n===v?3:4),o(3),b(i(H))}}function oi(t,l){if(t&1&&(y(0),D(1),_(2,"async"),r(3,"button",2)(4,"mat-icon"),s(5,"sort"),a(),s(6),a(),r(7,"mat-menu",null,0),I(9,ni,7,3,"button",3,U),a(),C()),t&2){let e=l.$implicit,i=Be(8),n=m();o();let v=de(S(2,2,n.sessionFiltersRepo.sortBy$));o(2),c("matMenuTriggerFor",i),o(3),p(" ",e(n.SessionSortLabelMap.get(v))," "),o(3),B(n.SessionSortLabelMap.entries())}}var Vt=(()=>{class t{constructor(){this.sessionFiltersRepo=d(E),this.SessionSort=ie,this.SessionSortLabelMap=at}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=g({type:t,selectors:[["app-session-sort-menu"]],standalone:!0,features:[h],decls:1,vars:0,consts:[["menu","matMenu"],[4,"transloco"],["mat-button","","type","button",3,"matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["color","primary"]],template:function(i,n){i&1&&f(0,oi,11,5,"ng-container",1)},dependencies:[P,x,M,Et,Dt,Ft,Tt,O,ee,j,V],styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0})}}return t})();var ai=(t,l)=>l.id,ri=t=>["/sessions",t];function si(t,l){t&1&&u(0,"mat-divider",10)}function li(t,l){if(t&1&&(r(0,"a",8),u(1,"app-session-list-item",9),_(2,"async"),a(),f(3,si,1,0,"mat-divider",10)),t&2){let e=l.$implicit,i=l.$index,n=l.$count,v=m(2);c("routerLink",ze(7,ri,e.id)),o(),L("active",S(2,5,v.appStateRepo.lastVisitedSession$)===e.id),c("session",e),o(2),T(i!==n-1?3:-1)}}function mi(t,l){if(t&1&&(r(0,"h5",6),s(1),a()),t&2){let e=m().$implicit;o(),p(" ",e("sessionsList.noSessions")," ")}}function ci(t,l){if(t&1){let e=N();y(0),D(1),_(2,"async"),r(3,"app-page-with-title",1)(4,"button",2),k("click",function(){$(e);let n=m();return w(n.openFiltersDialog())}),r(5,"mat-icon",3),s(6,"tune"),a()(),r(7,"div",4)(8,"div",5),u(9,"app-session-sort-menu"),a(),I(10,li,4,9,null,null,ai,!1,mi,2,1,"h5",6),_(13,"async"),a(),r(14,"button",7)(15,"mat-icon"),s(16,"add"),a()()(),C()}if(t&2){let e=l.$implicit,i=m(),n=S(2,6,i.sessionFiltersRepo.activeFiltersCount$);o(3),c("page-title",e("sessionsList.title")),o(),c("matTooltip",e("generic.filters"))("matBadge",n)("matBadgeHidden",!n),o(),c("color",n?"primary":""),o(5),B(S(13,8,i.sessions$))}}var ro=(()=>{class t{constructor(){this.dialog=d(We),this.sessionsDbService=d(ne),this.appStateRepo=d(rt),this.sessionFiltersRepo=d(E),this.sessions$=this.sessionFiltersRepo.filters$.pipe(q(e=>this.sessionsDbService.getFilteredSessions(he({},e))))}openFiltersDialog(){this.dialog.open(Pt,{width:"500px"})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=g({type:t,selectors:[["app-session-list-page"]],standalone:!0,features:[h],decls:1,vars:0,consts:[[4,"transloco"],[3,"page-title"],["mat-icon-button","","page-action","",3,"click","matTooltip","matBadge","matBadgeHidden"],[3,"color"],[1,"standard-centering"],[1,"margin-bottom-2x"],[1,"text-center","margin-top-6x"],["mat-fab","","routerLink","/create",1,"fab-bottom-right"],[3,"routerLink"],[3,"session"],[1,"margin-y-4x"]],template:function(i,n){i&1&&f(0,ci,17,10,"ng-container",0)},dependencies:[P,Ue,x,M,Ot,st,Vt,O,qe,He,j,V,et,te,it,tt,$t,zt,Rt,wt],styles:["[_nghost-%COMP%]{display:block;padding-bottom:var(--spacing-fab-clearance)}a[_ngcontent-%COMP%]{display:block}app-session-list-item.active[_ngcontent-%COMP%]{color:var(--sys-primary)}mat-divider[_ngcontent-%COMP%]{--mat-divider-color: #2e2e2c}"],changeDetection:0})}}return t})();export{ro as SessionListPageComponent};
