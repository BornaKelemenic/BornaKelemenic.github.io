import{b as le,c as ge,d as ke,e as Me,g as we}from"./chunk-KVRJBYNF.js";import"./chunk-XH3LH4H2.js";import{a as Se,b as xe}from"./chunk-OCIICB75.js";import{a as _e,e as ve,f as ye,g as Te,h as Ce,j as st,k as lt}from"./chunk-JDV356Y5.js";import{c as ie,d as ne,e as ae,f as re,g as se,h as nt,i as Ie,j as Fe,k as De,l as Ee}from"./chunk-7JY6PBKC.js";import{a as jt,f as zt,h as tt,i as et,k as Ut,l as te,m as ee}from"./chunk-FDDV7LYV.js";import{a as ce,h as at,i as pe,j as rt,k as ue,l as me,q as he,u as St,w as be,z as fe}from"./chunk-UDHEGLCB.js";import{B as Jt,Q as de,a as N,b as Zt,e as j}from"./chunk-LRLKFKMO.js";import{Ab as Gt,Bb as y,Cb as S,Db as Nt,Ja as ht,K as R,Ka as h,La as Z,Lb as vt,Lc as Qt,Ma as p,N as H,Nb as B,Nc as Ht,Oa as W,Pc as yt,Ra as E,S as Mt,Sa as J,T as It,U as Ft,Ua as P,Uc as Wt,V as mt,Va as A,Vc as qt,Wa as s,Wc as Kt,X as f,Xa as l,Y as _,Ya as b,Z as Dt,Za as x,Zc as Yt,_ as Et,_a as T,_b as G,a as Tt,ab as $,da as O,db as C,dc as ot,ea as L,fb as g,gb as Lt,gd as Xt,ha as wt,hb as $t,ib as Vt,ja as Bt,jb as Pt,ka as Y,kb as bt,lb as ft,ld as it,md as oe,na as Rt,oa as Ot,p as Ct,pb as X,pd as M,qb as c,qd as I,rb as k,sb as u,t as kt,ta as a,tb as _t,u as ut,ua as D,ub as w,vb as q,vd as z,wb as K,wd as U,xb as At,yb as v}from"./chunk-BCNRL4NK.js";var ze={sortBy:at.NEWEST_FIRST,targetFace:null,shootingType:null},Be="archery-stats-session-filters",V=(()=>{let o=class o{constructor(){this.store=zt({name:Be},Ut(ze)),te(this.store,{key:Be,storage:ee}),this.sortBy$=this.store.pipe(et(t=>t.sortBy),R({refCount:!0,bufferSize:1})),this.targetFace$=this.store.pipe(et(t=>t.targetFace),R({refCount:!0,bufferSize:1})),this.shootingType$=this.store.pipe(et(t=>t.shootingType),R({refCount:!0,bufferSize:1})),this.filters$=ut({sortBy:this.sortBy$,targetFace:this.targetFace$,shootingType:this.shootingType$}).pipe(R({refCount:!0,bufferSize:1})),this.activeFiltersCount$=ut({targetFace:this.targetFace$,shootingType:this.shootingType$}).pipe(kt(t=>{let e=0;return Object.values(t).forEach(n=>{de(n)&&e++}),e}),R({refCount:!0,bufferSize:1}))}setSortBy(t){this.store.update(tt("sortBy",t))}setTargetFace(t){this.store.update(tt("targetFace",t))}setShootingType(t){this.store.update(tt("shootingType",t))}getStoreProp(t){return this.store.getValue()[t]}resetAll(){this.store.reset()}resetOnlyFilters(){jt(()=>{let t=this.getStoreProp("sortBy");this.resetAll(),this.setSortBy(t)})}};o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=It({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var Ue=["button"],Qe=["*"];function He(i,o){if(i&1&&b(0,"mat-pseudo-checkbox",3),i&2){let r=g();p("disabled",r.disabled)}}function We(i,o){if(i&1&&b(0,"mat-pseudo-checkbox",3),i&2){let r=g();p("disabled",r.disabled)}}var Re=new mt("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:qe});function qe(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1}}var Oe=new mt("MatButtonToggleGroup"),Ke={provide:me,useExisting:Mt(()=>xt),multi:!0},Le=0,ct=class{constructor(o,r){this.source=o,this.value=r}},xt=(()=>{let o=class o{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get value(){let t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(e=>e.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){let t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=t,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(t){this._hideMultipleSelectionIndicator=t,this._markButtonsForCheck()}constructor(t,e,n){this._changeDetector=t,this._dir=n,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name=`mat-button-toggle-group-${Le++}`,this.valueChange=new Y,this.change=new Y,this.appearance=e&&e.appearance?e.appearance:"standard",this.hideSingleSelectionIndicator=e?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=e?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new Jt(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked)),this.multiple||this._initializeTabIndex()}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_keydown(t){if(this.multiple||this.disabled)return;let n=t.target.id,d=this._buttonToggles.toArray().findIndex(F=>F.buttonId===n),m=null;switch(t.keyCode){case 32:case 13:m=this._buttonToggles.get(d)||null;break;case 38:m=this._getNextButton(d,-1);break;case 37:m=this._getNextButton(d,this.dir==="ltr"?-1:1);break;case 40:m=this._getNextButton(d,1);break;case 39:m=this._getNextButton(d,this.dir==="ltr"?1:-1);break;default:return}m&&(t.preventDefault(),m._onButtonClick(),m.focus())}_emitChangeEvent(t){let e=new ct(t,this.value);this._rawValue=e.value,this._controlValueAccessorChangeFn(e.value),this.change.emit(e)}_syncButtonToggle(t,e,n=!1,d=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):d=!0,d?Promise.resolve().then(()=>this._updateModelValue(t,n)):this._updateModelValue(t,n)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>t.value!=null&&e===t.value):t.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(t=>{t.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let t=0;t<this._buttonToggles.length;t++){let e=this._buttonToggles.get(t);if(!e.disabled){e.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(t,e){let n=this._buttonToggles;for(let d=1;d<=n.length;d++){let m=(t+e*d+n.length)%n.length,F=n.get(m);if(F&&!F.disabled)return F}return null}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(e=>this._selectValue(e))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>{t.checked=!1,this.multiple||(t.tabIndex=-1)})}_selectValue(t){let e=this._buttonToggles.find(n=>n.value!=null&&n.value===t);e&&(e.checked=!0,this._selectionModel.select(e),this.multiple||(e.tabIndex=0))}_updateModelValue(t,e){e&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}};o.\u0275fac=function(e){return new(e||o)(D(vt),D(Re,8),D(Ht,8))},o.\u0275dir=Et({type:o,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,n,d){if(e&1&&Vt(d,dt,5),e&2){let m;bt(m=ft())&&(n._buttonToggles=m)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(e,n){e&1&&C("keydown",function(m){return n._keydown(m)}),e&2&&(Z("role",n.multiple?"group":"radiogroup")("aria-disabled",n.disabled),W("mat-button-toggle-vertical",n.vertical)("mat-button-toggle-group-appearance-standard",n.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",B],value:"value",multiple:[2,"multiple","multiple",B],disabled:[2,"disabled","disabled",B],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",B],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",B]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[At([Ke,{provide:Oe,useExisting:o}]),ht]});let i=o;return i})(),dt=(()=>{let o=class o{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(t){this._tabIndex=t,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=t}constructor(t,e,n,d,m,F){this._changeDetectorRef=e,this._elementRef=n,this._focusMonitor=d,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new Y;let gt=Number(m);this.tabIndex=gt||gt===0?gt:null,this.buttonToggleGroup=t,this.appearance=F&&F.appearance?F.appearance:"standard"}ngOnInit(){let t=this.buttonToggleGroup;this.id=this.id||`mat-button-toggle-${Le++}`,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){let t=this.isSingleSelector()?!0:!this._checked;if(t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let e=this.buttonToggleGroup._buttonToggles.find(n=>n.tabIndex===0);e&&(e.tabIndex=-1),this.tabIndex=0}this.change.emit(new ct(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}};o.\u0275fac=function(e){return new(e||o)(D(Oe,8),D(vt),D(Ot),D(Qt),wt("tabindex"),D(Re,8))},o.\u0275cmp=_({type:o,selectors:[["mat-button-toggle"]],viewQuery:function(e,n){if(e&1&&Pt(Ue,5),e&2){let d;bt(d=ft())&&(n._buttonElement=d.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,n){e&1&&C("focus",function(){return n.focus()}),e&2&&(Z("aria-label",null)("aria-labelledby",null)("id",n.id)("name",null),W("mat-button-toggle-standalone",!n.buttonToggleGroup)("mat-button-toggle-checked",n.checked)("mat-button-toggle-disabled",n.disabled)("mat-button-toggle-appearance-standard",n.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",B],appearance:"appearance",checked:[2,"checked","checked",B],disabled:[2,"disabled","disabled",B]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[ht,v],ngContentSelectors:Qe,decls:8,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,n){if(e&1){let d=$();Lt(),s(0,"button",1,0),C("click",function(){return O(d),L(n._onButtonClick())}),s(2,"span",2),h(3,He,1,1,"mat-pseudo-checkbox",3)(4,We,1,1,"mat-pseudo-checkbox",3),$t(5),l()(),b(6,"span",4)(7,"span",5)}if(e&2){let d=X(1);p("id",n.buttonId)("disabled",n.disabled||null),Z("role",n.isSingleSelector()?"radio":"button")("tabindex",n.disabled?-1:n.tabIndex)("aria-pressed",n.isSingleSelector()?null:n.checked)("aria-checked",n.isSingleSelector()?n.checked:null)("name",n._getButtonName())("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby),a(3),E(n.buttonToggleGroup&&n.checked&&!n.buttonToggleGroup.multiple&&!n.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),a(),E(n.buttonToggleGroup&&n.checked&&n.buttonToggleGroup.multiple&&!n.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),a(3),p("matRippleTrigger",d)("matRippleDisabled",n.disableRipple||n.disabled)}},dependencies:[Wt,Kt],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font);font-size:var(--mat-standard-button-toggle-label-text-size);line-height:var(--mat-standard-button-toggle-label-text-line-height);font-weight:var(--mat-standard-button-toggle-label-text-weight);letter-spacing:var(--mat-standard-button-toggle-label-text-tracking)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape);border-bottom-right-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape);border-bottom-left-radius:var(--mat-standard-button-toggle-shape)}"],encapsulation:2,changeDetection:0});let i=o;return i})(),$e=(()=>{let o=class o{};o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=Dt({type:o}),o.\u0275inj=Ft({imports:[yt,qt,dt,yt]});let i=o;return i})();function Ze(i,o){if(i&1&&(w(0)(1),s(2,"mat-option",3),b(3,"img",4),s(4,"span",5),c(5),l()()),i&2){let r=o.$implicit,t=g().$implicit,e=g(),n=r[0],d=r[1];a(2),p("value",n),a(),p("ngSrc",e.TargetFaceImgMap.get(n)),a(2),u(" ",t(d)," ")}}function Je(i,o){if(i&1&&(x(0),s(1,"div",1)(2,"label"),c(3),l(),c(4," \xA0 "),s(5,"mat-button-toggle-group",2)(6,"mat-button-toggle",3),c(7),l(),s(8,"mat-button-toggle",3),c(9),l(),s(10,"mat-button-toggle",3),c(11),l()()(),s(12,"mat-form-field")(13,"mat-label"),c(14),l(),s(15,"mat-select",2)(16,"mat-option",3),c(17),l(),P(18,Ze,6,3,"mat-option",3,J),l()(),T()),i&2){let r=o.$implicit,t=g();a(3),u("",r("form.labels.shootingType"),":"),a(2),p("formControl",t.shootingTypeControl),a(),p("value",null),a(),k(r("generic.all")),a(),p("value",t.ShootingType.INDOOR),a(),u(" ",r("shootingTypes.indoor")," "),a(),p("value",t.ShootingType.OUTDOOR),a(),u(" ",r("shootingTypes.outdoor")," "),a(3),k(r("form.labels.targetFace")),a(),p("formControl",t.targetFaceControl),a(),p("value",null),a(),k(r("generic.all")),a(),A(t.TargetFaceNameMap.entries())}}var Ve=(()=>{let o=class o{constructor(){this.destroyRef=f(Bt),this.sessionFiltersRepo=f(V),this.TargetFaceNameMap=st,this.TargetFaceImgMap=lt,this.ShootingType=Te,this.targetFaceControl=new St(this.sessionFiltersRepo.getStoreProp("targetFace")),this.shootingTypeControl=new St(this.sessionFiltersRepo.getStoreProp("shootingType")),this.listenToRepoValueChanges(),this.setupControlValueChangeListeners()}listenToRepoValueChanges(){this.sessionFiltersRepo.filters$.pipe(it(this.destroyRef)).subscribe(({targetFace:t,shootingType:e})=>{this.targetFaceControl.setValue(t,{emitEvent:!1}),this.shootingTypeControl.setValue(e,{emitEvent:!1})})}setupControlValueChangeListeners(){this.targetFaceControl.valueChanges.pipe(it(this.destroyRef)).subscribe(t=>this.sessionFiltersRepo.setTargetFace(t)),this.shootingTypeControl.valueChanges.pipe(it(this.destroyRef)).subscribe(t=>this.sessionFiltersRepo.setShootingType(t))}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=_({type:o,selectors:[["app-session-filters"]],standalone:!0,features:[v],decls:1,vars:0,consts:[[4,"transloco"],[1,"margin-bottom-6x"],[3,"formControl"],[3,"value"],["width","30","height","30",2,"vertical-align","middle",3,"ngSrc"],[1,"margin-left-2x"]],template:function(e,n){e&1&&h(0,Je,20,12,"ng-container",0)},dependencies:[fe,he,be,ot,I,M,$e,xt,dt,xe,ve,_e,Se,Yt,ye],styles:["[_nghost-%COMP%]{display:block}mat-form-field[_ngcontent-%COMP%]{width:100%}"],changeDetection:0});let i=o;return i})();function Xe(i,o){if(i&1){let r=$();x(0),s(1,"h2",1),c(2),l(),s(3,"mat-dialog-content"),b(4,"app-session-filters"),l(),s(5,"mat-dialog-actions")(6,"button",2),c(7),l(),b(8,"span",3),s(9,"button",4),C("click",function(){O(r);let e=g();return L(e.sessionFiltersRepo.resetOnlyFilters())}),c(10),l()(),T()}if(i&2){let r=o.$implicit;a(2),u(" ",r("session.dialogs.filtersDialog.title")," "),a(5),u(" ",r("generic.close")," "),a(3),u(" ",r("generic.resetFilters")," ")}}var Ae=(()=>{let o=class o{constructor(){this.sessionFiltersRepo=f(V)}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=_({type:o,selectors:[["app-session-filters-dialog"]],standalone:!0,features:[v],decls:1,vars:0,consts:[[4,"transloco"],["mat-dialog-title",""],["mat-button","","type","button","mat-dialog-close",""],[1,"spacer"],["mat-button","","color","warn",3,"click"]],template:function(e,n){e&1&&h(0,Xe,11,3,"ng-container",0)},dependencies:[I,M,Ve,nt,ne,ae,se,re,j,N],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let i=o;return i})();function to(i,o){i&1&&(s(0,"mat-icon"),c(1,"lock"),l())}function eo(i,o){if(i&1&&(x(0),w(1),b(2,"img",1),s(3,"div",2)(4,"span",3),c(5),h(6,to,2,0,"mat-icon"),l(),s(7,"small"),c(8),y(9,"date"),y(10,"dateDistance"),l(),s(11,"div",4)(12,"small"),c(13),l(),s(14,"small"),c(15,"\u2022"),l(),s(16,"small"),c(17),l(),s(18,"small"),c(19,"\u2022"),l(),s(20,"small"),c(21),y(22,"async"),l(),s(23,"small"),c(24,"\u2022"),l(),s(25,"small"),c(26),l(),s(27,"small"),c(28),y(29,"async"),l(),s(30,"small"),c(31,"\u2022"),l(),s(32,"small"),c(33),l(),s(34,"small"),c(35),y(36,"async"),l()()(),b(37,"app-session-options-menu",5),T()),i&2){let r=o.$implicit,t=g(),e=t.$session();a(2),p("ngSrc",t.TargetFaceImgMap.get(e.targetFace)),a(3),u(" ",e.name," "),a(),E(e.locked?6:-1),a(2),_t(" ",Nt(9,14,e.date,"short")," (",S(10,17,e.date),") "),a(5),k(r(t.ShootingTypeNameMap.get(e.shootingType))),a(4),u("",e.distance,"m"),a(4),_t("",r("session.info.rounds"),": ",S(22,19,t.roundCount$),""),a(5),u("",r("session.info.avg"),":"),a(2),k(S(29,21,t.avgScore$)),a(5),u("",r("session.info.total"),":"),a(2),k(S(36,23,t.shotsTotal$)),a(2),p("session",e)}}var Ne=(()=>{let o=class o{constructor(){this.sessionsDbService=f(rt),this.TargetFaceNameMap=st,this.TargetFaceImgMap=lt,this.ShootingTypeNameMap=Ce,this.roundCount$=Ct(ce(()=>this.sessionsDbService.getRoundsCountBySessionId(this.$session().id))),this.$session=Rt.required({alias:"session"}),this.session$=oe(this.$session).pipe(R({refCount:!0,bufferSize:1})),this.shotsTotal$=this.session$.pipe(H(t=>this.sessionsDbService.getTotalScoreBySessionID$(t.id))),this.avgScore$=this.session$.pipe(H(t=>this.sessionsDbService.getAverageScoreBySessionID$(t.id)))}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=_({type:o,selectors:[["app-session-list-item"]],inputs:{$session:[1,"session","$session"]},standalone:!0,features:[v],decls:1,vars:0,consts:[[4,"transloco"],["alt","Target face","width","50","height","50",2,"border-radius","5px",3,"ngSrc"],[1,"flex-column","align-items-start"],[1,"session-name"],[1,"session-info"],[3,"session"]],template:function(e,n){e&1&&h(0,eo,38,25,"ng-container",0)},dependencies:[G,I,M,ot,Me,ke,we,U,z],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:50px minmax(0,1fr) 40px;align-items:center;justify-content:flex-start;gap:var(--spacing-3x);padding:var(--spacing-2x);background-color:var(--mdc-outlined-card-container-color);border-style:solid;border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.session-name[_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:var(--spacing-1x);font-size:1.25em}.session-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;column-gap:var(--spacing-1x)}"],changeDetection:0});let i=o;return i})();function oo(i,o){i&1&&(s(0,"mat-icon",5),c(1,"radio_button_checked"),l())}function io(i,o){i&1&&(s(0,"mat-icon"),c(1,"radio_button_unchecked"),l())}function no(i,o){if(i&1){let r=$();w(0)(1),s(2,"button",4),C("click",function(){O(r);let e=K(0),n=g(2);return L(n.sessionFiltersRepo.setSortBy(e))}),h(3,oo,2,0,"mat-icon",5)(4,io,2,0,"mat-icon"),s(5,"span"),c(6),l()()}if(i&2){let r=o.$implicit,t=g().$implicit,e=K(1),n=q(r[0]),d=r[1];a(3),E(e===n?3:4),a(3),k(t(d))}}function ao(i,o){if(i&1&&(x(0),w(1),y(2,"async"),s(3,"button",2)(4,"mat-icon"),c(5,"sort"),l(),c(6),l(),s(7,"mat-menu",null,0),P(9,no,7,3,"button",3,J),l(),T()),i&2){let r=o.$implicit,t=X(8),e=g();a();let n=q(S(2,2,e.sessionFiltersRepo.sortBy$));a(2),p("matMenuTriggerFor",t),a(3),u(" ",r(e.SessionSortLabelMap.get(n))," "),a(3),A(e.SessionSortLabelMap.entries())}}var je=(()=>{let o=class o{constructor(){this.sessionFiltersRepo=f(V),this.SessionSort=at,this.SessionSortLabelMap=pe}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=_({type:o,selectors:[["app-session-sort-menu"]],standalone:!0,features:[v],decls:1,vars:0,consts:[["menu","matMenu"],[4,"transloco"],["mat-button","","type","button",3,"matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["color","primary"]],template:function(e,n){e&1&&h(0,ao,11,5,"ng-container",1)},dependencies:[G,I,M,Ee,Fe,Ie,De,j,N,U,z],styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0});let i=o;return i})();var ro=(i,o)=>o.id,so=i=>["/sessions",i];function lo(i,o){if(i&1&&c(0),i&2){g();let r=K(1);u(" (",r,") ")}}function co(i,o){if(i&1&&(s(0,"a",5),b(1,"app-session-list-item",8),y(2,"async"),l()),i&2){let r=o.$implicit,t=g(2);p("routerLink",Gt(6,so,r.id)),a(),W("active",S(2,4,t.appStateRepo.lastVisitedSession$)===r.id),p("session",r)}}function po(i,o){if(i&1&&(s(0,"h5",6),c(1),l()),i&2){let r=g().$implicit;a(),u(" ",r("sessionsList.noSessions")," ")}}function go(i,o){if(i&1){let r=$();x(0),w(1),y(2,"async"),s(3,"app-page-with-title",1)(4,"button",2),C("click",function(){O(r);let e=g();return L(e.openFiltersDialog())}),s(5,"mat-icon"),c(6,"filter_alt"),l(),c(7),h(8,lo,1,1),l(),s(9,"div",3)(10,"div",4),b(11,"app-session-sort-menu"),l(),P(12,co,3,8,"a",5,ro,!1,po,2,1,"h5",6),y(15,"async"),l(),s(16,"button",7)(17,"mat-icon"),c(18,"add"),l()()(),T()}if(i&2){let r=o.$implicit,t=g();a();let e=q(S(2,4,t.sessionFiltersRepo.activeFiltersCount$));a(2),p("page-title",r("sessionsList.title")),a(4),u(" ",r("generic.filters")," "),a(),E(e?8:-1),a(4),A(S(15,7,t.sessions$))}}var dn=(()=>{let o=class o{constructor(){this.dialog=f(ie),this.sessionsDbService=f(rt),this.appStateRepo=f(ge),this.sessionFiltersRepo=f(V),this.sessions$=this.sessionFiltersRepo.filters$.pipe(H(t=>this.sessionsDbService.getFilteredSessions(Tt({},t))))}openFiltersDialog(){this.dialog.open(Ae,{width:"500px"})}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=_({type:o,selectors:[["app-session-list-page"]],standalone:!0,features:[v],decls:1,vars:0,consts:[[4,"transloco"],[3,"page-title"],["mat-button","","page-action","",3,"click"],[1,"standard-centering"],[1,"margin-bottom-2x"],[3,"routerLink"],[1,"text-center","margin-top-6x"],["mat-fab","","routerLink","/create",1,"fab-bottom-right"],[3,"session"]],template:function(e,n){e&1&&h(0,go,19,9,"ng-container",0)},dependencies:[G,Xt,I,M,Ne,ue,je,j,N,Zt,U,z,le,nt],styles:["[_nghost-%COMP%]{display:block;padding-bottom:var(--spacing-fab-clearance)}a[_ngcontent-%COMP%]{display:block}a[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:var(--spacing-4x)}app-session-list-item.active[_ngcontent-%COMP%]{color:var(--sys-on-primary-container);background-color:var(--sys-primary-container)}"],changeDetection:0});let i=o;return i})();export{dn as SessionListPageComponent};
