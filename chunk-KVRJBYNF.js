import{a as H,b as at,c as st,d as mt,e as ct,g as lt}from"./chunk-XH3LH4H2.js";import{a as it,b as nt,e as rt,f as ot,m as ht,n as _t}from"./chunk-JDV356Y5.js";import{a as ze,b as Le,c as Pe,d as Be,e as Xe,f as je,g as $e,h as U,i as dt,j as pt,k as ut,l as ft,m as gt}from"./chunk-7JY6PBKC.js";import{f as Se,h as Me,i as ke,k as De,l as Fe,m as Oe,q as O}from"./chunk-FDDV7LYV.js";import{d as Ye,e as Ue,j as G,m as Ge,o as He,q as We,r as qe,s as Ze,u as Qe,v as Je,x as Ke,y as et,z as tt}from"./chunk-UDHEGLCB.js";import{a as Te,b as Ee,c as Re,e as j}from"./chunk-LRLKFKMO.js";import{$ as L,$b as Ce,F as ae,Ja as he,K as se,Ka as v,La as _e,Lb as ye,Ma as T,Na as Q,Oa as be,Ob as K,Pa as xe,Pb as ve,Pc as Ie,Ra as E,T as z,U as me,V as ce,Vb as we,Wa as a,X as c,Xa as m,Y as C,Ya as S,Z as le,Za as B,_a as X,ab as R,da as x,db as M,ea as y,f as w,fb as p,ka as de,la as pe,ma as ue,na as P,oa as fe,od as Ae,pb as J,pd as $,qb as l,qd as Y,ra as ge,rb as k,sb as D,ta as s,ua as I,vd as Ve,wd as Ne,yb as F}from"./chunk-BCNRL4NK.js";function At(t,e){t&1&&S(0,"div",2)}var Vt=new ce("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var mi=(()=>{let e=class e{constructor(i,n,o,d,u){this._elementRef=i,this._ngZone=n,this._changeDetectorRef=o,this._animationMode=d,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new de,this._mode="determinate",this._transitionendHandler=_=>{this.animationEnd.observers.length===0||!_.target||!_.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=d==="NoopAnimations",u&&(u.color&&(this.color=this._defaultColor=u.color),this.mode=u.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(i){this._color=i}get value(){return this._value}set value(i){this._value=bt(i||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(i){this._bufferValue=bt(i||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(i){this._mode=i,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}};e.\u0275fac=function(n){return new(n||e)(I(fe),I(pe),I(ye),I(ge,8),I(Vt,8))},e.\u0275cmp=C({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(n,o){n&2&&(_e("aria-valuenow",o._isIndeterminate()?null:o.value)("mode",o.mode),xe("mat-"+o.color),be("_mat-animation-noopable",o._isNoopAnimation)("mdc-linear-progress--animation-ready",!o._isNoopAnimation)("mdc-linear-progress--indeterminate",o._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",K],bufferValue:[2,"bufferValue","bufferValue",K],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[he,F],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(n,o){n&1&&(a(0,"div",0),S(1,"div",1),v(2,At,1,0,"div",2),m(),a(3,"div",3),S(4,"span",4),m(),a(5,"div",5),S(6,"span",4),m()),n&2&&(s(),Q("flex-basis",o._getBufferBarFlexBasis()),s(),E(o.mode==="buffer"?2:-1),s(),Q("transform",o._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color);border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape)}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color)}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0});let t=e;return t})();function bt(t,e=0,r=100){return Math.max(e,Math.min(r,t))}var ci=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=le({type:e}),e.\u0275inj=me({imports:[Ie]});let t=e;return t})();var Nt={lastVisitedSession:null},xt="archery-stats-app-state",yt=(()=>{let e=class e{constructor(){this.store=Se({name:xt},De(Nt)),Fe(this.store,{key:xt,storage:Oe}),this.lastVisitedSession$=this.store.pipe(ke(i=>i.lastVisitedSession),se({refCount:!0,bufferSize:1}))}setLastVisitedSession(i){this.store.update(Me("lastVisitedSession",i))}getStoreProp(i){return this.store.getValue()[i]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vt=(()=>{let e=class e{constructor(){this.settingsRepo=c(O),this.lock=new Audio("assets/lock.wav"),this.lock.load(),this.unlock=new Audio("assets/unlock.wav"),this.unlock.load(),this.interfaceClick=new Audio("assets/interface-click.wav"),this.interfaceClick.load(),this.gameClick=new Audio("assets/game-click.wav"),this.gameClick.load()}play(i){if(this.settingsRepo.getStoreProp("playSounds"))switch(i){case"lock":this.lock.currentTime=0,this.lock.play();break;case"unlock":this.unlock.currentTime=0,this.unlock.play();break;case"click":this.interfaceClick.currentTime=0,this.interfaceClick.play();break;case"gameClick":this.gameClick.currentTime=0,this.gameClick.play();break;default:break}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Pt(t,e){if(t&1&&(a(0,"mat-error"),l(1),m()),t&2){let r=p().$implicit;s(),D(" ",r("form.validations.fieldRequired")," ")}}function Bt(t,e){if(t&1){let r=R();B(0),a(1,"h2",1),l(2),m(),a(3,"form",2),M("ngSubmit",function(){x(r);let n=p();return y(n.submitForm())}),a(4,"mat-dialog-content")(5,"mat-form-field")(6,"mat-label"),l(7),m(),S(8,"input",3),v(9,Pt,2,1,"mat-error"),m()(),a(10,"mat-dialog-actions")(11,"button",4),l(12),m(),S(13,"span",5),a(14,"button",6),l(15),m()()(),X()}if(t&2){let r=e.$implicit,i=p();s(2),D(" ",r("session.dialogs.renameDialog.title")," "),s(),T("formGroup",i.form),s(4),k(r("form.labels.name")),s(2),E(i.form.controls.name.hasError("required")?9:-1),s(3),D(" ",r("generic.cancel")," "),s(2),T("disabled",i.form.invalid),s(),D(" ",r("session.dialogs.renameDialog.saveButton")," ")}}var St=(()=>{let e=class e{constructor(){this.sessionsDbService=c(G),this.dialogRef=c(ze),this.data=c(Le),this.form=new Ze({name:new Qe("",{nonNullable:!0,validators:[He.required]})}),this.fillFormWithSessionName()}fillFormWithSessionName(){return w(this,null,function*(){let i=yield this.sessionsDbService.getSessionById(this.data.sessionId);this.form.controls.name.setValue(i?.name||"",{emitEvent:!1})})}submitForm(){return w(this,null,function*(){if(this.form.invalid)return;let i=this.form.getRawValue().name;yield this.sessionsDbService.updateSession(this.data.sessionId,{name:i}),this.dialogRef.close(!0)})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=C({type:e,selectors:[["app-rename-session-dialog"]],standalone:!0,features:[F],decls:1,vars:0,consts:[[4,"transloco"],["mat-dialog-title",""],[3,"ngSubmit","formGroup"],["matInput","","formControlName","name"],["mat-button","","type","button","mat-dialog-close",""],[1,"spacer"],["mat-flat-button","","type","submit",3,"disabled"]],template:function(n,o){n&1&&v(0,Bt,16,7,"ng-container",0)},dependencies:[tt,Je,Ge,We,qe,Ke,et,Y,$,U,Be,Xe,$e,je,ot,rt,it,nt,_t,ht,j,Te],styles:["[_nghost-%COMP%]{display:block}mat-form-field[_ngcontent-%COMP%]{width:100%}"],changeDetection:0});let t=e;return t})();function Xt(t,e){if(t&1){let r=R();a(0,"button",6),M("click",function(n){return x(r),n.preventDefault(),y(n.stopPropagation())}),a(1,"mat-icon"),l(2),m()()}if(t&2){p();let r=J(4),i=p();T("matMenuTriggerFor",r),s(2),k(i.$icon())}}function jt(t,e){if(t&1){let r=R();a(0,"button",7),M("click",function(n){return x(r),n.preventDefault(),y(n.stopPropagation())}),a(1,"mat-icon"),l(2),m()()}if(t&2){p();let r=J(4),i=p();T("matMenuTriggerFor",r),s(2),k(i.$icon())}}function $t(t,e){if(t&1){let r=R();B(0),v(1,Xt,3,2,"button",2)(2,jt,3,2,"button",3),a(3,"mat-menu",null,0)(5,"button",4),M("click",function(){x(r);let n=p();return y(n.toggleLock())}),a(6,"mat-icon"),l(7),m(),a(8,"span"),l(9),m()(),a(10,"button",4),M("click",function(){x(r);let n=p();return y(n.openRenameDialog())}),a(11,"mat-icon"),l(12,"edit"),m(),a(13,"span"),l(14),m()(),a(15,"button",4),M("click",function(){x(r);let n=p();return y(n.deleteSession())}),a(16,"mat-icon",5),l(17,"delete"),m(),a(18,"span"),l(19),m()()(),X()}if(t&2){let r,i=e.$implicit,n=p();s(),E((r=n.$buttonType())==="icon"?1:r==="fab"?2:-1),s(6),k(n.$isSessionLocked()?"lock":"lock_open"),s(2),D(" ",n.$isSessionLocked()?i("session.actions.pressToUnlock"):i("session.actions.pressToLock")," "),s(5),k(i("session.actions.rename")),s(5),k(i("session.actions.deleteSession"))}}var Ji=(()=>{let e=class e{constructor(){this.sessionsDbService=c(G),this.dialog=c(Pe),this.transloco=c(Ae),this.appStateRepo=c(yt),this.soundboard=c(vt),this.$isSessionLocked=ve(()=>Ue(this.$session().locked)),this.$session=P.required({alias:"session"}),this.$icon=P("more_vert",{alias:"icon-name"}),this.$buttonType=P("icon",{alias:"button-type"}),this.sessionDeleted=ue()}deleteSession(){this.dialog.open(gt,{width:"500px",data:{text:this.transloco.translate("session.dialogs.deleteDialog.text")}}).afterClosed().pipe(ae(1)).subscribe(n=>w(this,null,function*(){n&&(yield this.sessionsDbService.deleteSession(this.$session().id),this.appStateRepo.setLastVisitedSession(null),this.sessionDeleted.emit())}))}openRenameDialog(){this.dialog.open(St,{width:"500px",data:{sessionId:this.$session().id}})}toggleLock(){return w(this,null,function*(){this.soundboard.play(this.$isSessionLocked()?"unlock":"lock"),yield this.sessionsDbService.updateSession(this.$session().id,{locked:Ye(!this.$isSessionLocked())})})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=C({type:e,selectors:[["app-session-options-menu"]],inputs:{$session:[1,"session","$session"],$icon:[1,"icon-name","$icon"],$buttonType:[1,"button-type","$buttonType"]},outputs:{sessionDeleted:"sessionDeleted"},standalone:!0,features:[F],decls:1,vars:0,consts:[["menu","matMenu"],[4,"transloco"],["mat-icon-button","","type","button",3,"matMenuTriggerFor"],["mat-fab","","type","button",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["color","warn"],["mat-icon-button","","type","button",3,"click","matMenuTriggerFor"],["mat-fab","","type","button",3,"click","matMenuTriggerFor"]],template:function(n,o){n&1&&v(0,$t,20,5,"ng-container",1)},dependencies:[Y,$,j,Re,Ee,Ne,Ve,ft,pt,dt,ut,U],styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0});let t=e;return t})();function h(t){let e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}var Yt={};function Mt(){return Yt}var Ut={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ht={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kt={date:H({formats:Ut,defaultWidth:"full"}),time:H({formats:Gt,defaultWidth:"full"}),dateTime:H({formats:Ht,defaultWidth:"full"})};var ee={code:"en-US",formatDistance:at,formatLong:kt,formatRelative:st,localize:mt,match:ct,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Dt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}var Wt=Math.pow(10,8)*24*60*60*1e3,un=-Wt;var te=6e4;var ie=525600,ne=43200,re=1440;var qt=3600;var wt=qt*24,fn=wt*7,Zt=wt*365.2425,Qt=Zt/12,gn=Qt*3;function oe(t){let e=h(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Ct(t,e){let r=h(t),i=h(e),n=r.getTime()-i.getTime();return n<0?-1:n>0?1:n}function It(t){return Dt(t,Date.now())}function W(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Tt(t){if(!W(t)&&typeof t!="number")return!1;let e=h(t);return!isNaN(Number(e))}function Et(t){return e=>{let i=(t?Math[t]:Math.trunc)(e);return i===0?0:i}}function Rt(t,e,r){let i=Mt(),n=r?.locale??i.locale??ee,o=Ct(t,e);if(isNaN(o))throw new RangeError("Invalid time value");let d=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o}),u,_;o>0?(u=h(e),_=h(t)):(u=h(t),_=h(e));let b=Et(r?.roundingMethod??"round"),q=_.getTime()-u.getTime(),V=q/te,Ot=oe(_)-oe(u),N=(q-Ot)/te,Z=r?.unit,f;if(Z?f=Z:V<1?f="second":V<60?f="minute":V<re?f="hour":N<ne?f="day":N<ie?f="month":f="year",f==="second"){let g=b(q/1e3);return n.formatDistance("xSeconds",g,d)}else if(f==="minute"){let g=b(V);return n.formatDistance("xMinutes",g,d)}else if(f==="hour"){let g=b(V/60);return n.formatDistance("xHours",g,d)}else if(f==="day"){let g=b(N/re);return n.formatDistance("xDays",g,d)}else if(f==="month"){let g=b(N/ne);return g===12&&Z!=="month"?n.formatDistance("xYears",1,d):n.formatDistance("xMonths",g,d)}else{let g=b(N/ie);return n.formatDistance("xYears",g,d)}}function Ft(t,e){return Rt(t,It(t),e)}var Gn=(()=>{let e=class e{constructor(){this.settingsRepo=c(O)}transform(i,n){let o=new Date(i);if(!W(o)||!Tt(o))return"Invalid date";let d=this.settingsRepo.getStoreProp("language");return Ft(o,{addSuffix:!0,locale:lt.get(d),unit:n})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=L({name:"dateDistance",type:e,pure:!0,standalone:!0});let t=e;return t})();var Jn=(()=>{let e=class e{constructor(){this.defaultOptions=c(Ce),this.settingsRepo=c(O)}transform(i,n,o,d){if(i==null||i===""||i!==i)return null;try{let u=n??this.defaultOptions?.dateFormat??"mediumDate",_=d??this.defaultOptions?.timezone??this.defaultOptions.timezone??void 0,b=this.settingsRepo.getStoreProp("language");return we(i,u,o||b,_)}catch{return null}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=L({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();export{mi as a,ci as b,yt as c,Gn as d,Jn as e,vt as f,Ji as g};
