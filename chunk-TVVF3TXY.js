import{a as pn,b as un,c as _n,d as fn,f as gn,g as wn,h as Sn,i as Rn,j as je,k as Mn}from"./chunk-AXZOP7B2.js";import"./chunk-F27NAALJ.js";import{m as kn,o as Cn,p as Dn,q as Kt}from"./chunk-NH2CIWPX.js";import{a as sn,b as cn,c as Pe,d as dn,e as ln,f as mn,g as hn,h as qt,i as Yt}from"./chunk-2CJLXFWS.js";import{j as Ce,q as nn}from"./chunk-FY57YLLO.js";import{a as de,c as Le,d as Xt,e as Zt,f as vn,g as bn,j as Gt,k as xn,l as yn}from"./chunk-F4R66FVK.js";import{A as Gi,C as Ee,D as Ki,E as Oe,F as Ae,G as Ye,H as Yi,Q as Bt,a as Me,c as Te,d as Wi,e as Rt,h as ce,i as Wt,k as Mt,l as Tt,m as Ut,t as Ui,v as qi,w as Xi,x as Ie,y as Zi,z as Ke}from"./chunk-VNHB2W6P.js";import{$ as lt,$a as H,Ab as K,B as $t,Ba as yi,Bb as R,Ca as Ct,Cb as Ei,Cc as ji,Cd as It,D as Z,Db as Oi,Dc as Bi,Dd as Et,Ea as _t,Eb as I,F as gi,Fa as ki,Fb as P,G as st,Gb as re,H as qe,Ha as V,Hb as Ai,J as vi,Ja as ot,Ka as b,Kc as Ni,La as Ci,Lc as $i,M as ge,Mc as Vi,Na as ne,O as Vt,Oa as ft,Ob as Y,P as ct,Pa as k,Pb as Ht,Q as j,Qa as it,Qb as W,Qc as Se,Ra as F,Rb as xe,S as bi,Sb as ye,Sc as Re,U as Xe,Ua as S,Ub as ke,Uc as jt,V as wi,Va as Di,W as dt,Wa as Si,X as z,Xa as oe,Xb as Qt,Y as xi,Ya as ae,Z as v,Za as c,Zc as zi,_ as D,_a as l,_c as Ge,aa as _,ab as q,ad as Hi,ba as zt,bb as X,bd as Qi,cb as Dt,cc as St,db as E,ea as ut,ec as Fi,f as xt,fa as x,fb as Ri,fc as Pi,g as Nt,ga as y,gb as w,ha as Ze,hb as Mi,hc as Li,ia as Ft,ib as m,ja as ve,jb as G,k as L,ka as ee,kb as C,kd as Ji,l as _i,lb as A,ma as $,mb as gt,md as tn,na as nt,nb as M,nc as Lt,nd as en,o as ue,oa as ie,ob as T,p as yt,pa as B,q as Ue,qa as O,qb as Ti,ra as be,rb as Ii,s as fi,sb as vt,sd as on,t as At,ta as kt,tb as h,td as an,ub as Q,ud as rn,va as d,vb as f,vd as Fe,wa as s,wb as we,wc as De,wd as ht,xb as bt,xc as at,xd as pt,y as _e,ya as rt,yb as Pt,yc as se,z as fe,zb as mt}from"./chunk-BKCHISGB.js";var wo=0,Je=new z("CdkAccordion"),Tn=(()=>{class i{constructor(){this._stateChanges=new L,this._openCloseAllActions=new L,this.id=`cdk-accordion-${wo++}`,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275dir=_({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",W]},exportAs:["cdkAccordion"],standalone:!0,features:[K([{provide:Je,useExisting:i}]),ot,ut]})}}return i})(),xo=0,In=(()=>{class i{get expanded(){return this._expanded}set expanded(t){if(this._expanded!==t){if(this._expanded=t,this.expandedChange.emit(t),t){this.opened.emit();let e=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,e)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=Nt.EMPTY,this.closed=new $,this.opened=new $,this.destroyed=new $,this.expandedChange=new $,this.id=`cdk-accordion-child-${xo++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((o,a)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===a&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static{this.\u0275fac=function(e){return new(e||i)(s(Je,12),s(Y),s(Ee))}}static{this.\u0275dir=_({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",W],disabled:[2,"disabled","disabled",W]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[K([{provide:Je,useValue:void 0}]),ot]})}}return i})(),En=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=lt({type:i})}static{this.\u0275inj=dt({})}}return i})();var Do=["body"],So=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Ro=["mat-expansion-panel-header","*","mat-action-row"];function Mo(i,r){}var To=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Io=["mat-panel-title","mat-panel-description","*"];function Eo(i,r){if(i&1&&(c(0,"span",1),Ze(),c(1,"svg",2),H(2,"path",3),l()()),i&2){let t=m();k("@indicatorRotate",t._getExpandedState())}}var ti=new z("MAT_ACCORDION"),On="225ms cubic-bezier(0.4,0.0,0.2,1)",Fn={indicatorRotate:ce("indicatorRotate",[Tt("collapsed, void",Mt({transform:"rotate(0deg)"})),Tt("expanded",Mt({transform:"rotate(180deg)"})),Ut("expanded <=> collapsed, void => collapsed",Wt(On))]),bodyExpansion:ce("bodyExpansion",[Tt("collapsed, void",Mt({height:"0px",visibility:"hidden"})),Tt("expanded",Mt({height:"*",visibility:""})),Ut("expanded <=> collapsed, void => collapsed",Wt(On))])},Pn=new z("MAT_EXPANSION_PANEL"),Oo=(()=>{class i{constructor(t,e){this._template=t,this._expansionPanel=e}static{this.\u0275fac=function(e){return new(e||i)(s(rt),s(Pn,8))}}static{this.\u0275dir=_({type:i,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}}return i})(),Ao=0,Ln=new z("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),ei=(()=>{class i extends In{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,e,n,o,a,p,g){super(t,e,n),this._viewContainerRef=o,this._animationMode=p,this._hideToggle=!1,this.afterExpand=new $,this.afterCollapse=new $,this._inputChanges=new L,this._headerId=`mat-expansion-panel-header-${Ao++}`,this.accordion=t,this._document=a,this._animationsDisabled=p==="NoopAnimations",g&&(this.hideToggle=g.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Vt(null),Z(()=>this.expanded&&!this._portal),st(1)).subscribe(()=>{this._portal=new Ui(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}_animationStarted(t){!An(t)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(t){An(t)||(t.toState==="expanded"?this.afterExpand.emit():t.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static{this.\u0275fac=function(e){return new(e||i)(s(ti,12),s(Y),s(Ee),s(Ct),s(Qt),s(kt,8),s(Ln,8))}}static{this.\u0275cmp=D({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(e,n,o){if(e&1&&A(o,Oo,5),e&2){let a;M(a=T())&&(n._lazyContent=a.first)}},viewQuery:function(e,n){if(e&1&&gt(Do,5),e&2){let o;M(o=T())&&(n._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,n){e&2&&F("mat-expanded",n.expanded)("_mat-animation-noopable",n._animationsDisabled)("mat-expansion-panel-spacing",n._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",W],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[K([{provide:ti,useValue:void 0},{provide:Pn,useExisting:i}]),ot,V,ut,R],ngContentSelectors:Ro,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,n){if(e&1){let o=E();G(So),C(0),c(1,"div",1,0),w("@bodyExpansion.start",function(p){return x(o),y(n._animationStarted(p))})("@bodyExpansion.done",function(p){return x(o),y(n._animationDone(p))}),c(3,"div",2),C(4,1),b(5,Mo,0,0,"ng-template",3),l(),C(6,2),l()}e&2&&(d(),k("@bodyExpansion",n._getExpandedState())("id",n.id),ft("aria-labelledby",n._headerId),d(4),k("cdkPortalOutlet",n._portal))},dependencies:[qi],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Fn.bodyExpansion]},changeDetection:0})}}return i})();function An(i){return i.fromState==="void"}var ii=(()=>{class i{constructor(t,e,n,o,a,p,g){this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=o,this._animationMode=p,this._parentChangeSubscription=Nt.EMPTY,this.tabIndex=0;let J=t.accordion?t.accordion._stateChanges.pipe(Z(u=>!!(u.hideToggle||u.togglePosition))):ue;this.tabIndex=parseInt(g||"")||0,this._parentChangeSubscription=$t(t.opened,t.closed,J,t._inputChanges.pipe(Z(u=>!!(u.hideToggle||u.disabled||u.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Z(()=>t._containsFocus())).subscribe(()=>n.focusVia(e,"program")),a&&(this.expandedHeight=a.expandedHeight,this.collapsedHeight=a.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:De(t)||(t.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t);return}}focus(t,e){t?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(e){return new(e||i)(s(ei,1),s(O),s(Se),s(Y),s(Ln,8),s(kt,8),ve("tabindex"))}}static{this.\u0275cmp=D({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,n){e&1&&w("click",function(){return n._toggle()})("keydown",function(a){return n._keydown(a)}),e&2&&(ft("id",n.panel._headerId)("tabindex",n.disabled?-1:n.tabIndex)("aria-controls",n._getPanelId())("aria-expanded",n._isExpanded())("aria-disabled",n.panel.disabled),it("height",n._getHeaderHeight()),F("mat-expanded",n._isExpanded())("mat-expansion-toggle-indicator-after",n._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",n._getTogglePosition()==="before")("_mat-animation-noopable",n._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:xe(t)]},standalone:!0,features:[ot,R],ngContentSelectors:Io,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(e,n){e&1&&(G(To),c(0,"span",0),C(1),C(2,1),C(3,2),l(),b(4,Eo,3,1,"span",1)),e&2&&(F("mat-content-hide-toggle",!n._showToggle()),d(4),S(n._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Fn.indicatorRotate]},changeDetection:0})}}return i})();var jn=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275dir=_({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}}return i})(),Bn=(()=>{class i extends Tn{constructor(){super(...arguments),this._ownHeaders=new be,this.hideToggle=!1,this.displayMode="default",this.togglePosition="after"}ngAfterContentInit(){this._headers.changes.pipe(Vt(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(e=>e.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Ni(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=Ft(i)))(n||i)}})()}static{this.\u0275dir=_({type:i,selectors:[["mat-accordion"]],contentQueries:function(e,n,o){if(e&1&&A(o,ii,5),e&2){let a;M(a=T())&&(n._headers=a)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,n){e&2&&F("mat-accordion-multi",n.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",W],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],standalone:!0,features:[K([{provide:ti,useExisting:i}]),ot,V]})}}return i})(),Nn=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=lt({type:i})}static{this.\u0275inj=dt({imports:[jt,En,Xi]})}}return i})();function Po(i,r){if(i&1&&(c(0,"span"),h(1),l(),c(2,"span"),h(3),I(4,"async"),l()),i&2){let t=m().$implicit,e=m();d(),f("",t("session.info.xCount"),":"),d(2),Q(P(4,2,e.xCount$))}}function Lo(i,r){if(i&1){let t=E();q(0),bt(1),c(2,"mat-accordion",3)(3,"mat-expansion-panel",4)(4,"mat-expansion-panel-header")(5,"mat-panel-title"),h(6),l()(),c(7,"div",5),H(8,"img",6),l(),c(9,"div",7)(10,"span"),h(11),l(),c(12,"span"),h(13),l(),c(14,"span"),h(15),l(),c(16,"span"),h(17),l(),c(18,"span"),h(19),l(),c(20,"span"),h(21),l(),c(22,"span"),h(23),l(),c(24,"span"),h(25),l(),c(26,"span"),h(27),l(),c(28,"small"),h(29),I(30,"date"),I(31,"dateDistance"),l()()(),c(32,"mat-expansion-panel",4)(33,"mat-expansion-panel-header")(34,"mat-panel-title"),h(35),l()(),c(36,"div",7)(37,"span"),h(38),l(),c(39,"span"),h(40),I(41,"async"),l(),c(42,"span"),h(43),l(),c(44,"span"),h(45),I(46,"async"),c(47,"mat-icon",8,0),w("click",function(){x(t);let n=vt(48);return y(n.toggle())}),h(49,"info"),l()(),c(50,"span"),h(51),l(),c(52,"span"),h(53),I(54,"async"),c(55,"mat-icon",8,1),w("click",function(){x(t);let n=vt(56);return y(n.toggle())}),h(57,"info"),l()(),b(58,Po,5,4),l()()(),X()}if(i&2){let t=r.$implicit,e=m(),n=e.$session();d(3),k("expanded",e.$panelsOpened()),d(3),Q(t("session.sections.sessionDetails")),d(2),k("ngSrc",e.TargetFaceImgMap.get(n.targetFace)),d(3),f("",t("session.info.shootingType"),":"),d(2),Q(t(e.ShootingTypeNameMap.get(n.shootingType))),d(2),f("",t("session.info.distance"),":"),d(2),f("",n.distance,"m"),d(2),f("",t("session.info.targetFace"),":"),d(2),Q(t(e.TargetFaceNameMap.get(n.targetFace))),d(2),f("",t("session.info.amountOfArrows"),":"),d(2),Q(n.arrowCount),d(2),f("",t("session.info.dateCreated"),":"),d(2),we("",re(30,25,n.date,"short")," (",P(31,28,n.date),")"),d(3),k("expanded",e.$panelsOpened()),d(3),Q(t("session.sections.sessionStatistics")),d(3),f("",t("session.info.rounds"),":"),d(2),Q(P(41,30,e.roundsCount$)),d(3),f("",t("session.info.totalScore"),":"),d(2),f(" ",P(46,32,e.shotsTotal$)," "),d(2),k("matTooltip",t("session.info.onlyCountingValidRounds")),d(4),f("",t("session.info.averageScore"),":"),d(2),f(" ",P(54,34,e.avgScore$)," "),d(2),k("matTooltip",t("session.info.onlyCountingValidRounds")),d(3),S(e.$targetFaceHasXValue()?58:-1)}}var $n=(()=>{class i{constructor(){this.sessionsDbService=v(Gt),this.ShootingTypeNameMap=kn,this.TargetFaceNameMap=Cn,this.TargetFaceImgMap=Dn,this.TargetFaceScoreConfigMap=Kt,this.$panelsOpened=B(!1,{alias:"panelsOpened",transform:W}),this.$session=B.required({alias:"session"}),this.session$=an(this.$session).pipe(ge({refCount:!0,bufferSize:1})),this.roundsCount$=this.session$.pipe(ct(t=>yt(de(()=>this.sessionsDbService.getRoundsCountBySessionId(t.id))))),this.shotsTotal$=this.session$.pipe(ct(t=>this.sessionsDbService.getTotalScoreBySessionID$(t.id))),this.avgScore$=this.session$.pipe(ct(t=>this.sessionsDbService.getAverageScoreBySessionID$(t.id))),this.xCount$=this.session$.pipe(ct(t=>this.sessionsDbService.getXCountBySessionID$(t.id))),this.$targetFaceHasXValue=ye(()=>{let t=this.$session().targetFace;return this.TargetFaceScoreConfigMap.get(t).map(n=>n.value).includes("X")})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-session-expandable-details"]],inputs:{$panelsOpened:[1,"panelsOpened","$panelsOpened"],$session:[1,"session","$session"]},standalone:!0,features:[R],decls:1,vars:0,consts:[["tooltip1","matTooltip"],["tooltip2","matTooltip"],[4,"transloco"],["multi","true"],[3,"expanded"],[1,"flex-row","justify-content-center","margin-bottom-2x"],["width","100","height","100",3,"ngSrc"],[1,"details"],[3,"click","matTooltip"]],template:function(e,n){e&1&&b(0,Lo,59,36,"ng-container",2)},dependencies:[St,pt,ht,Li,Rn,Sn,Nn,Bn,ei,ii,jn,Et,It,fn,_n],styles:["[_nghost-%COMP%]{display:block}.details[_ngcontent-%COMP%]{display:grid;column-gap:var(--spacing-2x);grid-template-columns:max-content 1fr;align-items:center}.details[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:inline-flex;align-items:center;column-gap:var(--spacing-2x)}"],changeDetection:0})}}return i})();var Vn=(()=>{class i{constructor(){this.el=v(O),this.renderer=v(yi),this.classToApply=B.required(),this.duration=B.required({transform:xe}),_e(this.el.nativeElement,"click").pipe(ct(()=>(this.renderer.addClass(this.el.nativeElement,this.classToApply()),fe(this.duration()))),on()).subscribe(()=>{this.renderer.removeClass(this.el.nativeElement,this.classToApply())})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275dir=_({type:i,selectors:[["","appApplyClassOnClick",""]],inputs:{classToApply:[1,"classToApply"],duration:[1,"duration"]},standalone:!0})}}return i})();var zn=(()=>{class i{constructor(){this.soundboard=v(je),this.$sound=B("click",{alias:"playSoundOnClick",transform:t=>t||"click"})}playSound(){this.soundboard.play(this.$sound())}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275dir=_({type:i,selectors:[["","playSoundOnClick",""]],hostBindings:function(e,n){e&1&&w("click",function(){return n.playSound()})("touch",function(){return n.playSound()})},inputs:{$sound:[1,"playSoundOnClick","$sound"]},standalone:!0})}}return i})();var jo=(i,r)=>r.label;function Bo(i,r){i&1&&h(0," X ")}function No(i,r){i&1&&h(0," M ")}function $o(i,r){if(i&1&&h(0),i&2){let t,e=m().$implicit;f(" ",(t=e==null?null:e.value)!==null&&t!==void 0?t:"-"," ")}}function Vo(i,r){if(i&1){let t=E();c(0,"div",10),w("click",function(){let n=x(t).$index,o=m(2);return y(o.$activeShotIndex.set(n))}),b(1,Bo,1,0)(2,No,1,0)(3,$o,1,1),l()}if(i&2){let t=r.$implicit,e=r.$index,n=m(2);F("active",n.$activeShotIndex()===e),d(),S(t!=null&&t.isX?1:(t==null?null:t.value)===0?2:3)}}function zo(i,r){if(i&1){let t=E();c(0,"button",11),w("click",function(){let n=x(t).$implicit,o=m(2);return y(o.setActiveShotValue(n.value))}),h(1),l()}if(i&2){let t=r.$implicit;m();let e=mt(4);it("--score-button-color",e&&t.theme?t.theme.color:"")("--score-button-background",e&&t.theme?t.theme.background:""),k("playSoundOnClick",t.value===10||t.value==="X"?"gameClick":"click")("classToApply","filled")("duration",180),d(),f(" ",t.label," ")}}function Ho(i,r){if(i&1){let t=E();q(0),c(1,"div",1),oe(2,Vo,4,3,"div",2,Di),l(),bt(4),I(5,"async"),c(6,"div",3),oe(7,zo,2,8,"button",4,jo),c(9,"button",5),w("click",function(){x(t);let n=m();return y(n.setActiveShotValue(0))}),h(10," M "),l()(),c(11,"div",6)(12,"button",7),w("click",function(){x(t);let n=m();return y(n.deleteShotValue())}),c(13,"mat-icon"),h(14,"delete_forever"),l()()(),c(15,"div",8)(16,"button",9),w("click",function(){x(t);let n=m();return y(n.saveShots())}),h(17,"Save"),l()(),X()}if(i&2){let t=m();d(2),ae(t.$shots()),d(2),Pt(P(5,12,t.settingsRepo.showColoredButtons$)),d(3),ae(t.$buttonSchema()),d(2),it("--score-button-color","white")("--score-button-background","#535653"),k("classToApply","filled")("duration",180),d(3),it("--score-button-color","white")("--score-button-background","#535653"),k("classToApply","filled")("duration",180)}}var Ne=(()=>{class i{constructor(){this.dialog=v(Pe),this.transloco=v(Fe),this.settingsRepo=v(nn),this.$activeShotIndex=_t(0),this.$shots=_t([]),this.$arrowCount=B.required({alias:"arrow-count"}),this.$buttonSchema=B.required({alias:"button-schema"}),this.$initialValues=B([],{alias:"initial-values"}),this.onShotsSaved=ie(),ke(()=>{let t=this.$initialValues(),e=this.$arrowCount();t.length?this.initializeShotsWithValues(e,t):this.initializeShotsWithNull(e)},{allowSignalWrites:!0})}initializeShotsWithNull(t){this.$shots.set(new Array(t).fill(null)),this.$activeShotIndex.set(0)}initializeShotsWithValues(t,e){let n=[...e];for(;n.length<t;)n.push(null);this.$shots.set(n),this.$activeShotIndex.set(0)}moveActiveIndexToNextValue(){let e=(this.$activeShotIndex()+1)%this.$shots().length;this.$activeShotIndex.set(e)}emitSavedShotsEvent(){this.onShotsSaved.emit(this.$shots()),this.initializeShotsWithNull(this.$arrowCount())}setActiveShotValue(t){this.$shots.update(e=>(e[this.$activeShotIndex()]={value:typeof t=="number"?t:10,isX:t==="X"},e)),this.moveActiveIndexToNextValue()}deleteShotValue(){this.$shots.update(t=>(t[this.$activeShotIndex()]=null,t))}saveShots(){let t=this.$shots().filter(Bt);t.length?t.length<this.$arrowCount()?this.dialog.open(Yt,{width:"500px",data:{title:this.transloco.translate("session.dialogs.partiallyEmptyShotsWarningDialog.title"),text:this.transloco.translate("session.dialogs.partiallyEmptyShotsWarningDialog.text")}}).afterClosed().pipe(st(1)).subscribe(n=>{n&&this.emitSavedShotsEvent()}):this.emitSavedShotsEvent():this.dialog.open(Yt,{width:"500px",data:{title:this.transloco.translate("session.dialogs.emptyShotsWarningDialog.title")}}).afterClosed().pipe(st(1)).subscribe(n=>{n&&this.emitSavedShotsEvent()})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-score-input-buttons"]],inputs:{$arrowCount:[1,"arrow-count","$arrowCount"],$buttonSchema:[1,"button-schema","$buttonSchema"],$initialValues:[1,"initial-values","$initialValues"]},outputs:{onShotsSaved:"onShotsSaved"},standalone:!0,features:[R],decls:1,vars:0,consts:[[4,"transloco"],[1,"shots-wrapper","margin-bottom-8x"],[1,"shot",3,"active"],[1,"input-buttons"],["mat-raised-button","","appApplyClassOnClick","","disableRipple","",1,"score-button",3,"playSoundOnClick","--score-button-color","--score-button-background","classToApply","duration"],["mat-raised-button","","playSoundOnClick","","disableRipple","","appApplyClassOnClick","",1,"score-button",3,"click","classToApply","duration"],[1,"flex-row","justify-content-center","margin-top-3x"],["mat-icon-button","","playSoundOnClick","","disableRipple","","appApplyClassOnClick","",1,"score-button","center-icon",3,"click","classToApply","duration"],[1,"flex-row","justify-content-end","margin-top-3x",2,"max-width","300px","margin","0 auto"],["mat-flat-button","","disableRipple","",3,"click"],[1,"shot",3,"click"],["mat-raised-button","","appApplyClassOnClick","","disableRipple","",1,"score-button",3,"click","playSoundOnClick","classToApply","duration"]],template:function(e,n){e&1&&b(0,Ho,18,15,"ng-container",0)},dependencies:[St,pt,ht,zn,Vn,Rt,Me,Te,qt,Et,It],styles:["[_nghost-%COMP%]{display:block}.shots-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,max-content);gap:var(--spacing-2x);width:max-content;margin:0 auto;place-items:center}.shots-wrapper[_ngcontent-%COMP%]   .shot[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;font-size:1.25em;width:50px;height:50px;color:var(--sys-on-surface);background-color:var(--sys-surface-container-lowest);border-radius:5px}.shots-wrapper[_ngcontent-%COMP%]   .shot.active[_ngcontent-%COMP%]{color:var(--sys-on-primary);background-color:var(--sys-primary)}.input-buttons[_ngcontent-%COMP%]{display:grid;gap:var(--spacing-2x);grid-template-columns:repeat(4,max-content);place-items:center;margin:0 auto;width:max-content}button.score-button[_ngcontent-%COMP%]{--mat-protected-button-state-layer-color: transparent !important;--mat-icon-button-state-layer-color: transparent !important;--mdc-protected-button-label-text-size: 20px;width:50px;height:50px;min-width:0!important;border-radius:50%;box-shadow:var(--mat-app-elevation-shadow-level-4)!important;color:var(--sys-on-surface);background-color:var(--sys-surface)}button.score-button[_ngcontent-%COMP%]:not(.filled){border-style:solid;border-width:1px;border-color:var(--score-button-background, var(--sys-surface))!important}button.score-button.filled[_ngcontent-%COMP%]{color:var(--score-button-color, var(--sys-on-surface))!important;background-color:var(--score-button-background, var(--sys-surface))!important}.center-icon[_ngcontent-%COMP%]{display:inline-flex;place-content:center;place-items:center}"],changeDetection:0})}}return i})();var Uo=[[["caption"]],[["colgroup"],["col"]],"*"],qo=["caption","colgroup, col","*"];function Xo(i,r){i&1&&C(0,2)}function Zo(i,r){i&1&&(c(0,"thead",0),Dt(1,1),l(),c(2,"tbody",0),Dt(3,2)(4,3),l(),c(5,"tfoot",0),Dt(6,4),l())}function Go(i,r){i&1&&Dt(0,1)(1,2)(2,3)(3,4)}var wt=new z("CDK_TABLE");var ai=(()=>{class i{constructor(t){this.template=t}static{this.\u0275fac=function(e){return new(e||i)(s(rt))}}static{this.\u0275dir=_({type:i,selectors:[["","cdkCellDef",""]],standalone:!0})}}return i})(),ri=(()=>{class i{constructor(t){this.template=t}static{this.\u0275fac=function(e){return new(e||i)(s(rt))}}static{this.\u0275dir=_({type:i,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}}return i})(),si=(()=>{class i{constructor(t){this.template=t}static{this.\u0275fac=function(e){return new(e||i)(s(rt))}}static{this.\u0275dir=_({type:i,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}}return i})(),Jt=(()=>{class i{get name(){return this._name}set name(t){this._setNameInput(t)}get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){t!==this._stickyEnd&&(this._stickyEnd=t,this._hasStickyChanged=!0)}constructor(t){this._table=t,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(e){return new(e||i)(s(wt,8))}}static{this.\u0275dir=_({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,n,o){if(e&1&&(A(o,ai,5),A(o,ri,5),A(o,si,5)),e&2){let a;M(a=T())&&(n.cell=a.first),M(a=T())&&(n.headerCell=a.first),M(a=T())&&(n.footerCell=a.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",W],stickyEnd:[2,"stickyEnd","stickyEnd",W]},standalone:!0,features:[K([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),ot]})}}return i})(),le=class{constructor(r,t){t.nativeElement.classList.add(...r._columnCssClassName)}},Zn=(()=>{class i extends le{constructor(t,e){super(t,e)}static{this.\u0275fac=function(e){return new(e||i)(s(Jt),s(O))}}static{this.\u0275dir=_({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[V]})}}return i})(),Gn=(()=>{class i extends le{constructor(t,e){super(t,e);let n=t._table?._getCellRole();n&&e.nativeElement.setAttribute("role",n)}static{this.\u0275fac=function(e){return new(e||i)(s(Jt),s(O))}}static{this.\u0275dir=_({type:i,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],standalone:!0,features:[V]})}}return i})(),Kn=(()=>{class i extends le{constructor(t,e){super(t,e);let n=t._table?._getCellRole();n&&e.nativeElement.setAttribute("role",n)}static{this.\u0275fac=function(e){return new(e||i)(s(Jt),s(O))}}static{this.\u0275dir=_({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[V]})}}return i})(),Ve=class{constructor(){this.tasks=[],this.endTasks=[]}},Qn=new z("_COALESCED_STYLE_SCHEDULER"),Ko=(()=>{class i{constructor(t){this._currentSchedule=null,this._ngZone=v(nt)}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Ve,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let t=this._currentSchedule;this._currentSchedule=new Ve;for(let e of t.tasks)e();for(let e of t.endTasks)e()}this._currentSchedule=null})))}static{this.\u0275fac=function(e){return new(e||i)(xi(nt))}}static{this.\u0275prov=wi({token:i,factory:i.\u0275fac})}}return i})();var ci=(()=>{class i{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){let e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof ze?t.headerCell.template:this instanceof He?t.footerCell.template:t.cell.template}static{this.\u0275fac=function(e){return new(e||i)(s(rt),s(Ht))}}static{this.\u0275dir=_({type:i,features:[ut]})}}return i})(),ze=(()=>{class i extends ci{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,e,n){super(t,e),this._table=n,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(e){return new(e||i)(s(rt),s(Ht),s(wt,8))}}static{this.\u0275dir=_({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",W]},standalone:!0,features:[ot,V,ut]})}}return i})(),He=(()=>{class i extends ci{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,e,n){super(t,e),this._table=n,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(e){return new(e||i)(s(rt),s(Ht),s(wt,8))}}static{this.\u0275dir=_({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",W]},standalone:!0,features:[ot,V,ut]})}}return i})(),di=(()=>{class i extends ci{constructor(t,e,n){super(t,e),this._table=n}static{this.\u0275fac=function(e){return new(e||i)(s(rt),s(Ht),s(wt,8))}}static{this.\u0275dir=_({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[V]})}}return i})(),me=(()=>{class i{static{this.mostRecentCellOutlet=null}constructor(t){this._viewContainer=t,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}static{this.\u0275fac=function(e){return new(e||i)(s(Ct))}}static{this.\u0275dir=_({type:i,selectors:[["","cdkCellOutlet",""]],standalone:!0})}}return i})(),Yn=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=D({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[R],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){e&1&&Dt(0,0)},dependencies:[me],encapsulation:2})}}return i})(),Jn=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=D({type:i,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],standalone:!0,features:[R],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){e&1&&Dt(0,0)},dependencies:[me],encapsulation:2})}}return i})(),to=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=D({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[R],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){e&1&&Dt(0,0)},dependencies:[me],encapsulation:2})}}return i})(),Yo=(()=>{class i{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(e){return new(e||i)(s(rt))}}static{this.\u0275dir=_({type:i,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}}return i})(),Wn=["top","bottom","left","right"],oi=class{constructor(r,t,e,n,o=!0,a=!0,p){this._isNativeHtmlTable=r,this._stickCellCss=t,this.direction=e,this._coalescedStyleScheduler=n,this._isBrowser=o,this._needsPositionStickyOnElement=a,this._positionListener=p,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(r,t){let e=[];for(let n of r)if(n.nodeType===n.ELEMENT_NODE){e.push(n);for(let o=0;o<n.children.length;o++)e.push(n.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(let n of e)this._removeStickyStyle(n,t)})}updateStickyColumns(r,t,e,n=!0){if(!r.length||!this._isBrowser||!(t.some(o=>o)||e.some(o=>o))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let o=r[0],a=o.children.length,p=this._getCellWidths(o,n),g=this._getStickyStartColumnPositions(p,t),J=this._getStickyEndColumnPositions(p,e),u=t.lastIndexOf(!0),N=e.indexOf(!0),tt=this.direction==="rtl",Ot=tt?"right":"left",vo=tt?"left":"right";for(let te of r)for(let et=0;et<a;et++){let ui=te.children[et];t[et]&&this._addStickyStyle(ui,Ot,g[et],et===u),e[et]&&this._addStickyStyle(ui,vo,J[et],et===N)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:u===-1?[]:p.slice(0,u+1).map((te,et)=>t[et]?te:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:N===-1?[]:p.slice(N).map((te,et)=>e[et+N]?te:null).reverse()}))})}stickRows(r,t,e){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let n=e==="bottom"?r.slice().reverse():r,o=e==="bottom"?t.slice().reverse():t,a=[],p=[],g=[];for(let u=0,N=0;u<n.length;u++){if(!o[u])continue;a[u]=N;let tt=n[u];g[u]=this._isNativeHtmlTable?Array.from(tt.children):[tt];let Ot=tt.getBoundingClientRect().height;N+=Ot,p[u]=Ot}let J=o.lastIndexOf(!0);for(let u=0;u<n.length;u++){if(!o[u])continue;let N=a[u],tt=u===J;for(let Ot of g[u])this._addStickyStyle(Ot,e,N,tt)}e==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:p,offsets:a,elements:g}):this._positionListener?.stickyFooterRowsUpdated({sizes:p,offsets:a,elements:g})})}updateStickyFooterContainer(r,t){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let e=r.querySelector("tfoot");e&&(t.some(n=>!n)?this._removeStickyStyle(e,["bottom"]):this._addStickyStyle(e,"bottom",0,!1))})}_removeStickyStyle(r,t){for(let n of t)r.style[n]="",r.classList.remove(this._borderCellCss[n]);Wn.some(n=>t.indexOf(n)===-1&&r.style[n])?r.style.zIndex=this._getCalculatedZIndex(r):(r.style.zIndex="",this._needsPositionStickyOnElement&&(r.style.position=""),r.classList.remove(this._stickCellCss))}_addStickyStyle(r,t,e,n){r.classList.add(this._stickCellCss),n&&r.classList.add(this._borderCellCss[t]),r.style[t]=`${e}px`,r.style.zIndex=this._getCalculatedZIndex(r),this._needsPositionStickyOnElement&&(r.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(r){let t={top:100,bottom:10,left:1,right:1},e=0;for(let n of Wn)r.style[n]&&(e+=t[n]);return e?`${e}`:""}_getCellWidths(r,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;let e=[],n=r.children;for(let o=0;o<n.length;o++){let a=n[o];e.push(a.getBoundingClientRect().width)}return this._cachedCellWidths=e,e}_getStickyStartColumnPositions(r,t){let e=[],n=0;for(let o=0;o<r.length;o++)t[o]&&(e[o]=n,n+=r[o]);return e}_getStickyEndColumnPositions(r,t){let e=[],n=0;for(let o=r.length;o>0;o--)t[o]&&(e[o]=n,n+=r[o]);return e}};var Un=new z("CDK_SPL");var Jo=(()=>{class i{constructor(t,e){this.viewContainer=t,this.elementRef=e;let n=v(wt);n._rowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(e){return new(e||i)(s(Ct),s(O))}}static{this.\u0275dir=_({type:i,selectors:[["","rowOutlet",""]],standalone:!0})}}return i})(),ta=(()=>{class i{constructor(t,e){this.viewContainer=t,this.elementRef=e;let n=v(wt);n._headerRowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(e){return new(e||i)(s(Ct),s(O))}}static{this.\u0275dir=_({type:i,selectors:[["","headerRowOutlet",""]],standalone:!0})}}return i})(),ea=(()=>{class i{constructor(t,e){this.viewContainer=t,this.elementRef=e;let n=v(wt);n._footerRowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(e){return new(e||i)(s(Ct),s(O))}}static{this.\u0275dir=_({type:i,selectors:[["","footerRowOutlet",""]],standalone:!0})}}return i})(),ia=(()=>{class i{constructor(t,e){this.viewContainer=t,this.elementRef=e;let n=v(wt);n._noDataRowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(e){return new(e||i)(s(Ct),s(O))}}static{this.\u0275dir=_({type:i,selectors:[["","noDataRowOutlet",""]],standalone:!0})}}return i})();var he=(()=>{class i{_getCellRole(){if(this._cellRoleInternal===void 0){let t=this._elementRef.nativeElement.getAttribute("role"),e=t==="grid"||t==="treegrid"?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&e==="cell"?null:e}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=t,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=t,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,e,n,o,a,p,g,J,u,N,tt,Ot){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=a,this._platform=g,this._viewRepeater=J,this._coalescedStyleScheduler=u,this._viewportRuler=N,this._stickyPositioningListener=tt,this._onDestroy=new L,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new $,this.viewChange=new _i({start:0,end:Number.MAX_VALUE}),this._injector=v(ee),o||n.nativeElement.setAttribute("role","table"),this._document=p,this._isServer=!g.isBrowser,this._isNativeHtmlTable=n.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e),this._viewportRuler.change().pipe(j(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Ie(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let t=this._dataDiffer.diff(this._renderRows);if(!t){this._updateNoDataRow(),this.contentChanged.next();return}let e=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,e,(n,o,a)=>this._getEmbeddedViewArgs(n.item,a),n=>n.item.data,n=>{n.operation===Zi.INSERTED&&n.context&&this._renderCellTemplateForItem(n.record.item.rowDef,n.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(n=>{let o=e.get(n.currentIndex);o.context.$implicit=n.item.data}),this._updateNoDataRow(),ne(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){let t=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let n=qn(this._headerRowOutlet,"thead");n&&(n.style.display=t.length?"":"none")}let e=this._headerRowDefs.map(n=>n.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,e,"top"),this._headerRowDefs.forEach(n=>n.resetStickyChanged())}updateStickyFooterRowStyles(){let t=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let n=qn(this._footerRowOutlet,"tfoot");n&&(n.style.display=t.length?"":"none")}let e=this._footerRowDefs.map(n=>n.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,e,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,e),this._footerRowDefs.forEach(n=>n.resetStickyChanged())}updateStickyColumnStyles(){let t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((o,a)=>{this._addStickyColumnStyles([o],this._headerRowDefs[a])}),this._rowDefs.forEach(o=>{let a=[];for(let p=0;p<e.length;p++)this._renderRows[p].rowDef===o&&a.push(e[p]);this._addStickyColumnStyles(a,o)}),n.forEach((o,a)=>{this._addStickyColumnStyles([o],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let e=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||e,this._forceRecalculateCellWidths=e,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let o=this._data[n],a=this._getRenderRowsForData(o,n,e.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let p=0;p<a.length;p++){let g=a[p],J=this._cachedRenderRowsMap.get(g.data);J.has(g.rowDef)?J.get(g.rowDef).push(g):J.set(g.rowDef,[g]),t.push(g)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(a=>{let p=n&&n.has(a)?n.get(a):[];if(p.length){let g=p.shift();return g.dataIndex=e,g}else return{data:t,rowDef:a,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),$e(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(e=>{this._columnDefsByName.has(e.name),this._columnDefsByName.set(e.name,e)})}_cacheRowDefs(){this._headerRowDefs=$e(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=$e(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=$e(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let t=this._rowDefs.filter(e=>!e.when);!this.multiTemplateDataRows&&t.length>1,this._defaultRowDef=t[0]}_renderUpdatedColumns(){let t=(a,p)=>a||!!p.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();let n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(t,!1);return o&&this._forceRenderFooterRows(),e||n||o}_switchDataSource(t){this._data=[],Ie(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;Ie(this.dataSource)?t=this.dataSource.connect(this):fi(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Ue(this.dataSource)),this._renderChangeSubscription=t.pipe(j(this._onDestroy)).subscribe(e=>{this._data=e||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){let n=Array.from(e.columns||[]).map(p=>{let g=this._columnDefsByName.get(p);return g}),o=n.map(p=>p.sticky),a=n.map(p=>p.stickyEnd);this._stickyStyler.updateStickyColumns(t,o,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){let e=[];for(let n=0;n<t.viewContainer.length;n++){let o=t.viewContainer.get(n);e.push(o.rootNodes[0])}return e}_getRowDefs(t,e){if(this._rowDefs.length==1)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(o=>!o.when||o.when(e,t));else{let o=this._rowDefs.find(a=>a.when&&a.when(e,t))||this._defaultRowDef;o&&n.push(o)}return n.length,n}_getEmbeddedViewArgs(t,e){let n=t.rowDef,o={$implicit:t.data};return{templateRef:n.template,context:o,index:e}}_renderRow(t,e,n,o={}){let a=t.viewContainer.createEmbeddedView(e.template,o,n);return this._renderCellTemplateForItem(e,o),a}_renderCellTemplateForItem(t,e){for(let n of this._getCellTemplates(t))me.mostRecentCellOutlet&&me.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){let a=t.get(e).context;a.count=n,a.first=e===0,a.last=e===n-1,a.even=e%2===0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[e].dataIndex,a.renderIndex=e):a.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return!t||!t.columns?[]:Array.from(t.columns,e=>{let n=this._columnDefsByName.get(e);return t.extractCellTemplate(n)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let t=(e,n)=>e||n.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let t=this._dir?this._dir.value:"ltr";this._stickyStyler=new oi(this._isNativeHtmlTable,this.stickyCssClass,t,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ue()).pipe(j(this._onDestroy)).subscribe(e=>{this._stickyStyler.direction=e,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(e=>!e._table||e._table===this)}_updateNoDataRow(){let t=this._customNoDataRow||this._noDataRow;if(!t)return;let e=this._rowOutlet.viewContainer.length===0;if(e===this._isShowingNoDataRow)return;let n=this._noDataRowOutlet.viewContainer;if(e){let o=n.createEmbeddedView(t.templateRef),a=o.rootNodes[0];o.rootNodes.length===1&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(t._contentClassName))}else n.clear();this._isShowingNoDataRow=e,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(e){return new(e||i)(s(Ht),s(Y),s(O),ve("role"),s(Re,8),s(Qt),s(Lt),s(Ke),s(Qn),s(Ae),s(Un,12),s(nt,8))}}static{this.\u0275cmp=D({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,n,o){if(e&1&&(A(o,Yo,5),A(o,Jt,5),A(o,di,5),A(o,ze,5),A(o,He,5)),e&2){let a;M(a=T())&&(n._noDataRow=a.first),M(a=T())&&(n._contentColumnDefs=a),M(a=T())&&(n._contentRowDefs=a),M(a=T())&&(n._contentHeaderRowDefs=a),M(a=T())&&(n._contentFooterRowDefs=a)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,n){e&2&&F("cdk-table-fixed-layout",n.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",W],fixedLayout:[2,"fixedLayout","fixedLayout",W]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[K([{provide:wt,useExisting:i},{provide:Ke,useClass:Gi},{provide:Qn,useClass:Ko},{provide:Un,useValue:null}]),ot,R],ngContentSelectors:qo,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,n){e&1&&(G(Uo),C(0),C(1,1),b(2,Xo,1,0)(3,Zo,7,0)(4,Go,4,0)),e&2&&(d(2),S(n._isServer?2:-1),d(),S(n._isNativeHtmlTable?3:4))},dependencies:[ta,Jo,ia,ea],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return i})();function $e(i,r){return i.concat(Array.from(r))}function qn(i,r){let t=r.toUpperCase(),e=i.viewContainer.element.nativeElement;for(;e;){let n=e.nodeType===1?e.nodeName:null;if(n===t)return e;if(n==="TABLE")break;e=e.parentNode}return null}var eo=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=lt({type:i})}static{this.\u0275inj=dt({imports:[Yi]})}}return i})();var io=250,no=(()=>{class i{set hold(t){this._hold=se(t,io)}get hold(){return this._hold}constructor(){this.destroy$=new L,this.state=new L,this._hold=io,this.holdDone=new $,this.cancel=this.state.pipe(Z(t=>t==="cancel"),j(this.destroy$))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onExit(){this.state.next("cancel")}onHold(){this.state.next("start"),fe(this.hold).pipe(j(this.cancel),j(this.destroy$)).subscribe(()=>this.holdDone.emit())}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275dir=_({type:i,selectors:[["","hold",""]],hostBindings:function(e,n){e&1&&w("mouseup",function(a){return n.onExit(a)})("mouseleave",function(a){return n.onExit(a)})("touchend",function(a){return n.onExit(a)})("touchcancel",function(a){return n.onExit(a)})("mousedown",function(a){return n.onHold(a)})("touchstart",function(a){return n.onHold(a)})},inputs:{hold:"hold"},outputs:{holdDone:"holdDone"},standalone:!0})}}return i})();var oo=(()=>{class i{transform(t,e=2){return!t||!t.length?"0":bn(t).toFixed(e)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275pipe=zt({name:"average",type:i,pure:!0,standalone:!0})}}return i})();var ao=(()=>{class i{transform(t,e){return!t||!e?[]:t.map(n=>n[e])}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275pipe=zt({name:"pluck",type:i,pure:!0,standalone:!0})}}return i})();var ro=(()=>{class i{transform(t){return!t||!t.length?0:vn(t)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275pipe=zt({name:"sum",type:i,pure:!0,standalone:!0})}}return i})();function oa(i,r){if(i&1&&(c(0,"th",16),h(1),l()),i&2){let t=m().$implicit;d(),Q(t("session.roundsTable.columns.number"))}}function aa(i,r){if(i&1&&(c(0,"td",17),h(1),l()),i&2){let t=r.index;d(),f("",t+1,".")}}function ra(i,r){if(i&1&&(c(0,"td",18),h(1),l()),i&2){let t=m().$implicit,e=m();d(),we(" ",t("session.info.arrows"),": ",e.$totalArrowsShot()," ")}}function sa(i,r){if(i&1&&(c(0,"th",16),h(1),l()),i&2){let t=m().$implicit;it("min-width",1.6,"em"),d(),f("",+t+1,".")}}function ca(i,r){i&1&&h(0," - ")}function da(i,r){i&1&&h(0," X ")}function la(i,r){i&1&&h(0," M ")}function ma(i,r){if(i&1&&h(0),i&2){m();let t=mt(1);f(" ",t.value," ")}}function ha(i,r){if(i&1&&(c(0,"td",17),bt(1),b(2,ca,1,0)(3,da,1,0)(4,la,1,0)(5,ma,1,1),l()),i&2){let t=r.$implicit,e=m().$implicit;d();let n=Pt(m(2).castToRoundData(t).shots[+e]);d(),S(n?n.isX?3:n.value===0?4:5:2)}}function pa(i,r){i&1&&H(0,"td",18)}function ua(i,r){if(i&1&&(q(0,7),b(1,sa,2,3,"th",9)(2,ha,6,2,"td",5)(3,pa,1,0,"td",6),X()),i&2){let t=r.$implicit;k("cdkColumnDef",t)}}function _a(i,r){if(i&1&&(c(0,"th",16),h(1),l()),i&2){let t=m().$implicit;it("min-width",3.5,"em"),d(),f(" ",t("session.roundsTable.columns.sum")," ")}}function fa(i,r){if(i&1&&(c(0,"td",17),h(1),I(2,"pluck"),I(3,"sum"),l()),i&2){let t=r.$implicit,e=m(2);F("invalid-round",!e.castToRoundData(t).isValid),d(),f(" ",P(3,6,re(2,3,e.castToRoundData(t).shots,"value"))," ")}}function ga(i,r){if(i&1&&(c(0,"td",18),h(1),I(2,"sum"),l()),i&2){m();let t=mt(3);d(),Q(P(2,1,t))}}function va(i,r){if(i&1&&(c(0,"th",16),h(1),l()),i&2){let t=m().$implicit;it("min-width",4.5,"em"),d(),f(" ",t("session.roundsTable.columns.average")," ")}}function ba(i,r){if(i&1&&(c(0,"td",17),h(1),I(2,"pluck"),I(3,"average"),l()),i&2){let t=r.$implicit,e=m(2);F("invalid-round",!e.castToRoundData(t).isValid),d(),f(" ",P(3,6,re(2,3,e.castToRoundData(t).shots,"value"))," ")}}function wa(i,r){if(i&1&&(c(0,"td",18),h(1),I(2,"average"),l()),i&2){m();let t=mt(3);d(),f(" ",P(2,1,t)," ")}}function xa(i,r){i&1&&H(0,"tr",19)}function ya(i,r){if(i&1){let t=E();c(0,"tr",20),w("holdDone",function(){let n=x(t).$implicit,o=m(2);return y(o.onRowHold(n))})("click",function(){let n=x(t).$implicit,o=m(2);return y(o.openEditEntryDialog(n))}),l()}}function ka(i,r){i&1&&H(0,"tr",21)}function Ca(i,r){if(i&1&&(c(0,"div",15)(1,"small"),h(2),l()()),i&2){let t=m().$implicit;d(2),f(" ",t("session.roundsTable.hints.tableActions")," ")}}function Da(i,r){if(i&1&&(q(0),c(1,"div",1),bt(2)(3),c(4,"table",2),q(5,3),b(6,oa,2,1,"th",4)(7,aa,2,1,"td",5)(8,ra,2,2,"td",6),X(),oe(9,ua,4,1,"ng-container",7,Si),I(11,"slice"),q(12,8),b(13,_a,2,3,"th",9)(14,fa,4,8,"td",10)(15,ga,3,3,"td",6),X(),q(16,11),b(17,va,2,3,"th",9)(18,ba,4,8,"td",10)(19,wa,3,3,"td",6),X(),b(20,xa,1,0,"tr",12)(21,ya,1,0,"tr",13)(22,ka,1,0,"tr",14),l(),b(23,Ca,3,1,"div",15),l(),X()),i&2){let t=m(),e=t.$displayedColumns();d(3),Pt(t.$allValidRoundsShotValues()),d(),k("dataSource",t.$rounds())("trackBy",t.trackBy),d(5),ae(Ai(11,7,e,1,e.length-2)),d(11),k("cdkHeaderRowDef",e),d(),k("cdkRowDefColumns",e),d(),k("cdkFooterRowDef",e),d(),S(t.$disabled()?-1:23)}}var so=(()=>{class i{constructor(){this.$displayedColumns=_t([]),this.$table=ki(he),this.$allValidRoundsShotValues=_t([]),this.$totalArrowsShot=_t(0),this.$rounds=B.required({alias:"rounds"}),this.$disabled=B(!1,{alias:"disabled"}),this.roundClicked=ie(),this.roundHeld=ie(),ke(()=>{let t=this.$rounds().reduce((e,n)=>n.shots.length>e.length?n.shots:e,[]);this.$displayedColumns.set(["roundNumber",...t.map((e,n)=>n.toString()),"sum","avg"]),this.$allValidRoundsShotValues.set(this.$rounds().filter(e=>e.isValid).map(e=>e.shots).flat().map(e=>e.value)),this.$totalArrowsShot.set(this.$rounds().map(e=>e.shots).flat().map(e=>e.value).length),this.$table()?.renderRows()},{allowSignalWrites:!0})}trackBy(t,e){return e.id}castToRoundData(t){return t}openEditEntryDialog(t){this.$disabled()||this.roundClicked.emit(t.id)}onRowHold(t){this.$disabled()||this.roundHeld.emit(t.id)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-rounds-table"]],viewQuery:function(e,n){e&1&&Ti(n.$table,he,5),e&2&&Ii()},inputs:{$rounds:[1,"rounds","$rounds"],$disabled:[1,"disabled","$disabled"]},outputs:{roundClicked:"roundClicked",roundHeld:"roundHeld"},standalone:!0,features:[R],decls:1,vars:0,consts:[[4,"transloco"],[1,"table-wrapper"],["cdk-table","","fixedLayout","",3,"dataSource","trackBy"],["cdkColumnDef","roundNumber"],["cdk-header-cell","",4,"cdkHeaderCellDef"],["cdk-cell","",4,"cdkCellDef"],["cdk-footer-cell","",4,"cdkFooterCellDef"],[3,"cdkColumnDef"],["cdkColumnDef","sum"],["cdk-header-cell","",3,"min-width",4,"cdkHeaderCellDef"],["cdk-cell","",3,"invalid-round",4,"cdkCellDef"],["cdkColumnDef","avg"],["cdk-header-row","",4,"cdkHeaderRowDef"],["cdk-row","","hold","1500",3,"holdDone","click",4,"cdkRowDef","cdkRowDefColumns"],["cdk-footer-row","",4,"cdkFooterRowDef"],[1,"text-center"],["cdk-header-cell",""],["cdk-cell",""],["cdk-footer-cell",""],["cdk-header-row",""],["cdk-row","","hold","1500",3,"holdDone","click"],["cdk-footer-row",""]],template:function(e,n){e&1&&b(0,Da,24,11,"ng-container",0)},dependencies:[Fi,pt,ht,ao,ro,oo,no,eo,he,di,ai,ri,si,Jt,Kn,to,Zn,Gn,Yn,ze,Jn,He],styles:["[_nghost-%COMP%]{display:block}table[_ngcontent-%COMP%]{margin:0 auto;border-collapse:collapse;overflow:hidden}table[_ngcontent-%COMP%]   .cdk-header-cell[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .cdk-footer-cell[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .cdk-cell[_ngcontent-%COMP%]{text-align:left;padding:max(2px,.15em);line-height:normal}[cdk-footer-row][_ngcontent-%COMP%], [cdk-header-row][_ngcontent-%COMP%], .cdk-column-roundNumber[_ngcontent-%COMP%]{color:var(--sys-on-surface);background-color:var(--sys-surface)}[cdk-cell].cdk-column-sum[_ngcontent-%COMP%], [cdk-cell].cdk-column-avg[_ngcontent-%COMP%]{color:var(--sys-on-surface);background-color:var(--sys-surface-bright)}[cdk-cell].cdk-column-sum.invalid-round[_ngcontent-%COMP%], [cdk-cell].cdk-column-avg.invalid-round[_ngcontent-%COMP%]{color:var(--sys-error)}"],changeDetection:0})}}return i})();var Sa=()=>[];function Ra(i,r){if(i&1){let t=E();c(0,"app-score-input-buttons",5),I(1,"async"),w("onShotsSaved",function(n){x(t);let o=m(2);return y(o.onShotsSaved(n))}),l()}if(i&2){let t=r,e=m(2);k("arrow-count",t.arrowCount)("button-schema",e.TargetFaceScoreConfigMap.get(t.targetFace))("initial-values",P(1,3,e.shotsValues$)||Ei(5,Sa))}}function Ma(i,r){if(i&1&&(q(0),c(1,"h2",1),h(2),l(),c(3,"mat-dialog-content"),b(4,Ra,2,6,"app-score-input-buttons",2),I(5,"async"),l(),c(6,"mat-dialog-actions",3)(7,"button",4),h(8),l()(),X()),i&2){let t,e=r.$implicit,n=m();d(2),f(" ",e("round.dialogs.editRound.title")," "),d(2),S((t=P(5,3,n.session$))?4:-1,t),d(4),f(" ",e("generic.cancel")," ")}}var co=(()=>{class i{constructor(){this.sessionsDbService=v(Gt),this.dialogRef=v(sn),this.data=v(cn),this.TargetFaceScoreConfigMap=Kt,this.session$=yt(this.sessionsDbService.getSessionById(this.data.sessionId)).pipe(Ce()),this.shotsValues$=yt(this.sessionsDbService.getShotsByRoundId(this.data.roundId)).pipe(At(t=>{let e=[];for(let n of t)e.push({isX:Zt(n.isX),value:n.value});return e}))}onShotsSaved(t){return xt(this,null,function*(){let e=t.filter(Bt).map(n=>({roundId:this.data.roundId,value:n.value,isX:Xt(n.isX)}));yield this.sessionsDbService.addShotsForRound(this.data.roundId,e),this.dialogRef.close(!0)})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-edit-round-dialog"]],standalone:!0,features:[R],decls:1,vars:0,consts:[[4,"transloco"],["mat-dialog-title",""],[3,"arrow-count","button-schema","initial-values"],["align","start"],["mat-button","","type","button","mat-dialog-close",""],[3,"onShotsSaved","arrow-count","button-schema","initial-values"]],template:function(e,n){e&1&&b(0,Ma,9,5,"ng-container",0)},dependencies:[St,pt,ht,Ne,qt,dn,ln,hn,mn,Rt,Me],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var lo=["*"],Ia=["content"],Ea=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Oa=["mat-drawer","mat-drawer-content","*"];function Aa(i,r){if(i&1){let t=E();c(0,"div",1),w("click",function(){x(t);let n=m();return y(n._onBackdropClicked())}),l()}if(i&2){let t=m();F("mat-drawer-shown",t._isShowingBackdrop())}}function Fa(i,r){i&1&&(c(0,"mat-drawer-content"),C(1,2),l())}var Pa={transformDrawer:ce("transform",[Tt("open, open-instant",Mt({transform:"none",visibility:"visible"})),Tt("void",Mt({"box-shadow":"none",visibility:"hidden"})),Ut("void => open-instant",Wt("0ms")),Ut("void <=> open, open-instant => void",Wt("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var La=new z("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:ja}),mo=new z("MAT_DRAWER_CONTAINER");function ja(){return!1}var pe=(()=>{class i extends Oe{constructor(t,e,n,o,a){super(n,o,a),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(e){return new(e||i)(s(Y),s(Xe(()=>mi)),s(O),s(Ki),s(nt))}}static{this.\u0275cmp=D({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,n){e&2&&it("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},standalone:!0,features:[K([{provide:Oe,useExisting:i}]),V,R],ngContentSelectors:lo,decls:1,vars:0,template:function(e,n){e&1&&(G(),C(0))},encapsulation:2,changeDetection:0})}}return i})(),li=(()=>{class i{get position(){return this._position}set position(t){t=t==="end"?"end":"start",t!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=at(t)}get autoFocus(){let t=this._autoFocus;return t??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(t){(t==="true"||t==="false"||t==null)&&(t=at(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(at(t))}constructor(t,e,n,o,a,p,g,J){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=o,this._ngZone=a,this._interactivityChecker=p,this._doc=g,this._container=J,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new L,this._animationEnd=new L,this._animationState="void",this.openedChange=new $(!0),this._openedStream=this.openedChange.pipe(Z(u=>u),At(()=>{})),this.openedStart=this._animationStarted.pipe(Z(u=>u.fromState!==u.toState&&u.toState.indexOf("open")===0),qe(void 0)),this._closedStream=this.openedChange.pipe(Z(u=>!u),At(()=>{})),this.closedStart=this._animationStarted.pipe(Z(u=>u.fromState!==u.toState&&u.toState==="void"),qe(void 0)),this._destroyed=new L,this.onPositionChanged=new $,this._modeChanged=new L,this._injector=v(ee),this._changeDetectorRef=v(Y),this.openedChange.pipe(j(this._destroyed)).subscribe(u=>{u?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{_e(this._elementRef.nativeElement,"keydown").pipe(Z(u=>u.keyCode===27&&!this.disableClose&&!De(u)),j(this._destroyed)).subscribe(u=>this._ngZone.run(()=>{this.close(),u.stopPropagation(),u.preventDefault()}))}),this._animationEnd.pipe(vi((u,N)=>u.fromState===N.fromState&&u.toState===N.toState)).subscribe(u=>{let{fromState:N,toState:tt}=u;(tt.indexOf("open")===0&&N==="void"||tt==="void"&&N.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(t,e){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{t.removeEventListener("blur",n),t.removeEventListener("mousedown",n),t.removeAttribute("tabindex")};t.addEventListener("blur",n),t.addEventListener("mousedown",n)})),t.focus(e)}_focusByCssSelector(t,e){let n=this._elementRef.nativeElement.querySelector(t);n&&this._forceFocus(n,e)}_takeFocus(){if(!this._focusTrap)return;let t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":ne(()=>{!this._focusTrap.focusInitialElement()&&typeof t.focus=="function"&&t.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(t){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,e){t&&e&&(this._openedVia=e);let n=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),n}_setOpen(t,e,n){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",e&&this._restoreFocus(n)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(st(1)).subscribe(a=>o(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(t){if(!this._platform.isBrowser)return;let e=this._elementRef.nativeElement,n=e.parentNode;t==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),n.insertBefore(this._anchor,e)),n.appendChild(e)):this._anchor&&this._anchor.parentNode.insertBefore(e,this._anchor)}static{this.\u0275fac=function(e){return new(e||i)(s(O),s(Vi),s(Se),s(Lt),s(nt),s($i),s(Qt,8),s(mo,8))}}static{this.\u0275cmp=D({type:i,selectors:[["mat-drawer"]],viewQuery:function(e,n){if(e&1&&gt(Ia,5),e&2){let o;M(o=T())&&(n._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,n){e&1&&Mi("@transform.start",function(a){return n._animationStarted.next(a)})("@transform.done",function(a){return n._animationEnd.next(a)}),e&2&&(Ri("@transform",n._animationState),ft("align",null),F("mat-drawer-end",n.position==="end")("mat-drawer-over",n.mode==="over")("mat-drawer-push",n.mode==="push")("mat-drawer-side",n.mode==="side")("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[R],ngContentSelectors:lo,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,n){e&1&&(G(),c(0,"div",1,0),C(2),l())},dependencies:[Oe],encapsulation:2,data:{animation:[Pa.transformDrawer]},changeDetection:0})}}return i})(),mi=(()=>{class i{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=at(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=t==null?null:at(t)}get scrollable(){return this._userContent||this._content}constructor(t,e,n,o,a,p=!1,g){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=o,this._animationMode=g,this._drawers=new be,this.backdropClick=new $,this._destroyed=new L,this._doCheckSubject=new L,this._contentMargins={left:null,right:null},this._contentMarginChanges=new L,this._injector=v(ee),t&&t.change.pipe(j(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(j(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=p}ngAfterContentInit(){this._allDrawers.changes.pipe(Vt(this._allDrawers),j(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(e=>!e._container||e._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Vt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(gi(10),j(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened){if(this._left.mode=="side")t+=this._left._getWidth();else if(this._left.mode=="push"){let n=this._left._getWidth();t+=n,e-=n}}if(this._right&&this._right.opened){if(this._right.mode=="side")e+=this._right._getWidth();else if(this._right.mode=="push"){let n=this._right._getWidth();e+=n,t-=n}}t=t||null,e=e||null,(t!==this._contentMargins.left||e!==this._contentMargins.right)&&(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Z(e=>e.fromState!==e.toState),j(this._drawers.changes)).subscribe(e=>{e.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),t.mode!=="side"&&t.openedChange.pipe(j(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(j(this._drawers.changes)).subscribe(()=>{ne(()=>{this._validateDrawers()},{injector:this._injector,phase:Ci.Read})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(j($t(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){let e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{t.position=="end"?(this._end!=null,this._end=t):(this._start!=null,this._start=t)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return t!=null&&t.opened}_drawerHasBackdrop(t){return this._backdropOverride==null?!!t&&t.mode!=="side":this._backdropOverride}static{this.\u0275fac=function(e){return new(e||i)(s(Re,8),s(O),s(nt),s(Y),s(Ae),s(La),s(kt,8))}}static{this.\u0275cmp=D({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(e,n,o){if(e&1&&(A(o,pe,5),A(o,li,5)),e&2){let a;M(a=T())&&(n._content=a.first),M(a=T())&&(n._allDrawers=a)}},viewQuery:function(e,n){if(e&1&&gt(pe,5),e&2){let o;M(o=T())&&(n._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,n){e&2&&F("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[K([{provide:mo,useExisting:i}]),R],ngContentSelectors:Oa,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,n){e&1&&(G(Ea),b(0,Aa,1,2,"div",0),C(1),C(2,1),b(3,Fa,2,0,"mat-drawer-content")),e&2&&(S(n.hasBackdrop?0:-1),d(3),S(n._content?-1:3))},dependencies:[pe],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}}return i})();var Qe=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=lt({type:i})}static{this.\u0275inj=dt({imports:[jt,Ye,Ye,jt]})}}return i})();var Na=["*"];var $a=["unscopedContent"],Va=["text"],za=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Ha=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var Qa=new z("ListOption"),hi=(()=>{class i{constructor(t){this._elementRef=t}static{this.\u0275fac=function(e){return new(e||i)(s(O))}}static{this.\u0275dir=_({type:i,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}}return i})(),Wa=(()=>{class i{constructor(t){this._elementRef=t}static{this.\u0275fac=function(e){return new(e||i)(s(O))}}static{this.\u0275dir=_({type:i,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}}return i})(),Ua=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275dir=_({type:i,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}}return i})(),ho=(()=>{class i{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static{this.\u0275fac=function(e){return new(e||i)(s(Qa,8))}}static{this.\u0275dir=_({type:i,hostVars:4,hostBindings:function(e,n){e&2&&F("mdc-list-item__start",n._isAlignedAtStart())("mdc-list-item__end",!n._isAlignedAtStart())},standalone:!0})}}return i})(),qa=(()=>{class i extends ho{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=Ft(i)))(n||i)}})()}static{this.\u0275dir=_({type:i,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[V]})}}return i})(),pi=(()=>{class i extends ho{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=Ft(i)))(n||i)}})()}static{this.\u0275dir=_({type:i,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[V]})}}return i})(),Xa=new z("MAT_LIST_CONFIG"),We=(()=>{class i{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=v(Xa,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=at(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=at(t)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275dir=_({type:i,hostVars:1,hostBindings:function(e,n){e&2&&ft("aria-disabled",n.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}}return i})(),Za=(()=>{class i{set lines(t){this._explicitLines=se(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=at(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=at(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,e,n,o,a,p){this._elementRef=t,this._ngZone=e,this._listBase=n,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Nt,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=a||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=p==="NoopAnimations",n&&!n._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new zi(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add($t(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();let e=this._explicitLines??this._inferLinesFromContent(),n=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",e<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",e<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",e===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",e===3),this._hasUnscopedTextContent){let o=this._titles.length===0&&e===1;n.classList.toggle("mdc-list-item__primary-text",o),n.classList.toggle("mdc-list-item__secondary-text",!o)}else n.classList.remove("mdc-list-item__primary-text"),n.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!!(t.textContent&&t.textContent.trim()))}static{this.\u0275fac=function(e){return new(e||i)(s(O),s(nt),s(We,8),s(Lt),s(Ge,8),s(kt,8))}}static{this.\u0275dir=_({type:i,contentQueries:function(e,n,o){if(e&1&&(A(o,qa,4),A(o,pi,4)),e&2){let a;M(a=T())&&(n._avatars=a),M(a=T())&&(n._icons=a)}},hostVars:4,hostBindings:function(e,n){e&2&&(ft("aria-disabled",n.disabled)("disabled",n._isButtonElement&&n.disabled||null),F("mdc-list-item--disabled",n.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}}return i})();var po=(()=>{class i extends We{constructor(){super(...arguments),this._isNonInteractive=!1}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=Ft(i)))(n||i)}})()}static{this.\u0275cmp=D({type:i,selectors:[["mat-action-list"]],hostAttrs:["role","group",1,"mat-mdc-action-list","mat-mdc-list-base","mdc-list"],exportAs:["matActionList"],standalone:!0,features:[K([{provide:We,useExisting:i}]),V,R],ngContentSelectors:Na,decls:1,vars:0,template:function(e,n){e&1&&(G(),C(0))},styles:['.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-app-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-app-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-app-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-app-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-app-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-app-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-app-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-app-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-app-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-app-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-app-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-app-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-app-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-app-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-app-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full));--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-app-secondary-container))}'],encapsulation:2,changeDetection:0})}}return i})();var uo=(()=>{class i extends Za{get activated(){return this._activated}set activated(t){this._activated=at(t)}constructor(t,e,n,o,a,p){super(t,e,n,o,a,p),this._activated=!1}_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static{this.\u0275fac=function(e){return new(e||i)(s(O),s(nt),s(We,8),s(Lt),s(Ge,8),s(kt,8))}}static{this.\u0275cmp=D({type:i,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,n,o){if(e&1&&(A(o,Wa,5),A(o,hi,5),A(o,Ua,5)),e&2){let a;M(a=T())&&(n._lines=a),M(a=T())&&(n._titles=a),M(a=T())&&(n._meta=a)}},viewQuery:function(e,n){if(e&1&&(gt($a,5),gt(Va,5)),e&2){let o;M(o=T())&&(n._unscopedContent=o.first),M(o=T())&&(n._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(e,n){e&2&&(ft("aria-current",n._getAriaCurrent()),F("mdc-list-item--activated",n.activated)("mdc-list-item--with-leading-avatar",n._avatars.length!==0)("mdc-list-item--with-leading-icon",n._icons.length!==0)("mdc-list-item--with-trailing-meta",n._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",n._hasBothLeadingAndTrailing())("_mat-animation-noopable",n._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[V,R],ngContentSelectors:Ha,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(e,n){if(e&1){let o=E();G(za),C(0),c(1,"span",1),C(2,1),C(3,2),c(4,"span",2,0),w("cdkObserveContent",function(){return x(o),y(n._updateItemLines(!0))}),C(6,3),l()(),C(7,4),C(8,5),H(9,"div",3)}},dependencies:[ji],encapsulation:2,changeDetection:0})}}return i})();var _o=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275dir=_({type:i,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"],standalone:!0})}}return i})();var fo=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=lt({type:i})}static{this.\u0275inj=dt({imports:[Bi,Pi,jt,Hi,Qi,gn]})}}return i})();var Ka=[[["","drawer-content-left",""]],[["","drawer-content-right",""]],"*",[["","page-title",""]]],Ya=["[drawer-content-left]","[drawer-content-right]","*","[page-title]"];function Ja(i,r){i&1&&(c(0,"a",2),H(1,"mat-icon",8),l()),i&2&&k("routerLink",r)}function tr(i,r){i&1&&(c(0,"span"),h(1),l()),i&2&&(d(),f(" ",r," "))}function er(i,r){i&1&&C(0,3)}function ir(i,r){if(i&1){let t=E();c(0,"button",9),w("click",function(){x(t),m();let n=vt(12);return y(n.toggle())}),c(1,"mat-icon"),h(2),l()()}if(i&2){m();let t=vt(12);d(2),f(" ",t.opened?"close":"menu"," ")}}function nr(i,r){if(i&1){let t=E();c(0,"button",9),w("click",function(){x(t),m();let n=vt(9);return y(n.toggle())}),c(1,"mat-icon"),h(2),l()()}if(i&2){m();let t=vt(9);d(2),f(" ",t.opened?"close":"menu"," ")}}var go=(()=>{class i{constructor(){this.$drawerUsed=B("right",{alias:"drawerUsed"}),this.$title=B("",{alias:"page-title"}),this.$backLink=B("",{alias:"page-back-link"})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-page-with-drawer"]],inputs:{$drawerUsed:[1,"drawerUsed","$drawerUsed"],$title:[1,"page-title","$title"],$backLink:[1,"page-back-link","$backLink"]},standalone:!0,features:[R],ngContentSelectors:Ya,decls:17,vars:3,consts:[["drawerLeft",""],["drawerRight",""],["mat-icon-button","",1,"margin-right-1x",3,"routerLink"],[1,"spacer"],["mat-icon-button",""],["mode","over","autoFocus","false"],["mode","over","autoFocus","false","position","end"],[1,"drawer-content-wrapper"],["svgIcon","archers-arrow"],["mat-icon-button","",3,"click"]],template:function(e,n){if(e&1&&(G(Ka),c(0,"mat-toolbar"),b(1,Ja,2,1,"a",2)(2,tr,2,1,"span")(3,er,1,0),H(4,"span",3),b(5,ir,3,1,"button",4)(6,nr,3,1,"button",4),l(),c(7,"mat-drawer-container")(8,"mat-drawer",5,0),C(10),l(),c(11,"mat-drawer",6,1),C(13,1),l(),c(14,"mat-drawer-content")(15,"div",7),C(16,2),l()()()),e&2){let o,a;d(),S((o=n.$backLink())?1:-1,o),d(),S((a=n.$title())?2:3,a),d(3),S(n.$drawerUsed()==="right"?5:6)}},dependencies:[en,Qe,li,mi,pe,yn,xn,Et,It,Rt,Wi,Te],styles:["[_nghost-%COMP%]{display:block}mat-toolbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;background:transparent;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}mat-drawer-container[_ngcontent-%COMP%]{position:absolute;top:var(--mat-toolbar-mobile-height);left:0;right:0;bottom:48px}@media (width >= 600px){mat-drawer-container[_ngcontent-%COMP%]{top:var(--mat-toolbar-standard-height)}}mat-drawer-content[_ngcontent-%COMP%]{padding:var(--spacing-2x);overflow:auto}@media (width >= 600px){mat-drawer-content[_ngcontent-%COMP%]{padding:var(--spacing-4x)}}.drawer-content-wrapper[_ngcontent-%COMP%]{padding-bottom:var(--spacing-fab-clearance)}"],changeDetection:0})}}return i})();var or=i=>({id:i});function ar(i,r){i&1&&H(0,"mat-progress-bar",1)}function rr(i,r){if(i&1){let t=E();c(0,"app-score-input-buttons",13),w("onShotsSaved",function(n){x(t);let o=m(3);return y(o.onShotsSaved(n))}),l()}if(i&2){m(2);let t=mt(1),e=m();k("arrow-count",t.arrowCount)("button-schema",e.TargetFaceScoreConfigMap.get(t.targetFace))}}function sr(i,r){if(i&1){let t=E();c(0,"app-rounds-table",15),w("roundClicked",function(n){x(t);let o=m(4);return y(o.openRoundEditDialog(n))})("roundHeld",function(n){x(t);let o=m(4);return y(o.deleteRound(n))}),l()}if(i&2){let t=m();m(2);let e=mt(1);k("rounds",t)("disabled",!!e.locked)}}function cr(i,r){i&1&&b(0,sr,1,2,"app-rounds-table",14),i&2&&S(r.length?0:-1)}function dr(i,r){if(i&1){let t=E();c(0,"app-page-with-drawer",2)(1,"div",4),H(2,"app-session-expandable-details",5),c(3,"mat-action-list")(4,"div",6),h(5),l(),c(6,"button",7),w("click",function(){x(t);let n=m(2);return y(n.toggleLock())}),c(7,"mat-icon",8),h(8),l(),c(9,"span",9),h(10),l()(),c(11,"button",10),w("click",function(){x(t);let n=m(2);return y(n.openEditSessionDialog())}),c(12,"mat-icon",8),h(13,"edit"),l(),c(14,"span",9),h(15),l()(),c(16,"button",7),w("click",function(){x(t);let n=m(2);return y(n.deleteSession())}),c(17,"mat-icon",11),h(18,"delete"),l(),c(19,"span",9),h(20),l()()()(),b(21,rr,1,2,"app-score-input-buttons",12)(22,cr,1,1),I(23,"async"),l()}if(i&2){let t,e=m().$implicit,n=mt(1),o=m();k("page-title",(n==null?null:n.name)||""),d(2),k("session",n)("panelsOpened",!0),d(3),Q(e("session.sections.sessionActions")),d(3),Q(o.$isSessionLocked()?"lock":"lock_open"),d(2),f(" ",o.$isSessionLocked()?e("session.actions.pressToUnlock"):e("session.actions.pressToLock")," "),d(),k("disabled",o.$isSessionLocked()),d(4),Q(e("session.actions.editSession")),d(5),Q(e("session.actions.deleteSession")),d(),S(n.locked?-1:21),d(),S((t=P(23,11,o.roundsData$))?22:-1,t)}}function lr(i,r){if(i&1&&(c(0,"h4",3),h(1),I(2,"async"),l()),i&2){let t=m().$implicit,e=m();d(),f(" ",t("session.warnings.sessionWithIdNotFound",Oi(3,or,P(2,1,e.routeSessionIdParam$)))," ")}}function mr(i,r){if(i&1&&(q(0),bt(1),I(2,"async"),b(3,ar,1,0,"mat-progress-bar",1)(4,dr,24,13,"app-page-with-drawer",2)(5,lr,3,5,"h4",3),X()),i&2){let t=m();d();let e=Pt(P(2,1,t.session$));d(2),S(t.$loading()?3:e?4:5)}}var wl=(()=>{class i{constructor(){this.route=v(Ji),this.sessionsDbService=v(Gt),this.dialog=v(Pe),this.transloco=v(Fe),this.soundboard=v(je),this.appStateRepo=v(wn),this.router=v(tn),this.TargetFaceScoreConfigMap=Kt,this.$loading=_t(!0),this.routeSessionIdParam$=this.route.paramMap.pipe(At(t=>t.get("id"))),this.session$=this.routeSessionIdParam$.pipe(ct(t=>t?(this.$loading.set(!0),yt(de(()=>this.sessionsDbService.getSessionById(+t)))):(this.router.navigate(["/"]),ue)),bi(t=>{this.$loading.set(!1),this.appStateRepo.setLastVisitedSession(t?.id||null)}),ge({refCount:!0,bufferSize:1})),this.$session=rn(this.session$),this.roundsData$=this.session$.pipe(Ce(),ct(t=>yt(de(()=>xt(this,null,function*(){let e=yield this.sessionsDbService.getRoundsBySessionId(t.id),n=[];for(let o of e){let a=yield this.sessionsDbService.getShotsByRoundId(o.id);n.push({id:o.id,isValid:Zt(o.countsTowardsStats),shots:a.map(p=>({id:p.id,isX:Zt(p.isX),value:p.value})).sort((p,g)=>p.value===g.value?p.value===10?p.isX===g.isX?0:p.isX?-1:1:0:g.value-p.value)})}return n}))))),this.$isSessionLocked=ye(()=>Zt(this.$session()?.locked||0))}onShotsSaved(t){return xt(this,null,function*(){let e=this.$session()?.id,n=this.$session()?.arrowCount;e&&Le.transaction("rw",Le.rounds,Le.shots,()=>xt(this,null,function*(){let o=yield this.sessionsDbService.addRound({sessionId:e,countsTowardsStats:Xt(t.filter(Bt).length===n)});yield this.sessionsDbService.addMultipleShots(t.filter(Bt).map(a=>({roundId:o,isX:Xt(a.isX),value:a.value})))}))})}openRoundEditDialog(t){this.dialog.open(co,{width:"500px",data:{sessionId:this.$session().id,roundId:t}})}deleteRound(t){this.dialog.open(Yt,{width:"500px",data:{title:this.transloco.translate("round.dialogs.deleteDialog.title")}}).afterClosed().pipe(st(1)).subscribe(n=>{n&&this.sessionsDbService.deleteRound(t)})}toggleLock(){return xt(this,null,function*(){this.soundboard.play(this.$isSessionLocked()?"unlock":"lock"),yield this.sessionsDbService.updateSession(this.$session().id,{locked:Xt(!this.$isSessionLocked())})})}openEditSessionDialog(){this.dialog.open(Mn,{width:"500px",data:{sessionId:this.$session().id}})}deleteSession(){this.dialog.open(Yt,{width:"500px",data:{text:this.transloco.translate("session.dialogs.deleteDialog.text")}}).afterClosed().pipe(st(1)).subscribe(e=>xt(this,null,function*(){e&&(yield this.sessionsDbService.deleteSession(this.$session().id),this.appStateRepo.setLastVisitedSession(null),this.router.navigateByUrl("/"))}))}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-session-page"]],standalone:!0,features:[R],decls:1,vars:0,consts:[[4,"transloco"],["mode","indeterminate"],["page-back-link","/",3,"page-title"],[1,"text-center","margin-top-6x"],["drawer-content-right",""],[1,"margin-bottom-2x",3,"session","panelsOpened"],["mat-subheader",""],["mat-list-item","",3,"click"],["matListItemIcon",""],["matListItemTitle",""],["mat-list-item","",3,"click","disabled"],["matListItemIcon","","color","warn"],[1,"margin-top-12x",3,"arrow-count","button-schema"],[1,"margin-top-12x",3,"onShotsSaved","arrow-count","button-schema"],[1,"margin-y-6x",3,"rounds","disabled"],[1,"margin-y-6x",3,"roundClicked","roundHeld","rounds","disabled"]],template:function(e,n){e&1&&b(0,mr,6,4,"ng-container",0)},dependencies:[St,pt,ht,go,$n,Ne,so,un,pn,qt,Qe,Rt,Et,It,fo,po,uo,pi,_o,hi],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();export{wl as SessionPageComponent};
