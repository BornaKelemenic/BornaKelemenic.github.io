import{a as W,b as bt,c as xt,d as yt,e as vt,g as St}from"./chunk-XH3LH4H2.js";import{a as ct,b as lt,c as dt,d as pt,e as ut,f as ft,h as gt,j as ht,k as _t,m as Tt,n as It,o as Et,p as Ft,q as Rt}from"./chunk-XS634OQR.js";import{a as Ge,b as qe,c as He,d as We,e as Ze,f as Qe,g as Je,h as U,i as Mt,j as kt,k as Dt,l as Ct,m as wt}from"./chunk-7JY6PBKC.js";import{f as Ie,h as Ee,i as Fe,k as Re,l as Xe,m as $e,q as O}from"./chunk-FDDV7LYV.js";import{d as Ke,e as et,j as G,m as tt,o as q,q as it,r as nt,s as rt,u as H,v as ot,x as at,y as st,z as mt}from"./chunk-UDHEGLCB.js";import{Q as oe,a as Le,b as Be,c as Pe,e as $}from"./chunk-LRLKFKMO.js";import{$ as L,$b as Ne,F as pe,Ja as Se,K as ue,Ka as D,La as Me,Lb as we,Ma as x,Na as K,Oa as ke,Ob as re,Pa as De,Pb as Te,Pc as Ae,Ra as E,Sa as ee,T as z,U as fe,Ua as te,V as ge,Va as ie,Vb as Oe,Wa as a,X as d,Xa as m,Y as T,Ya as y,Z as he,Za as P,Zc as ze,_a as X,ab as F,da as M,db as C,dc as Ve,ea as k,f as w,fb as p,ka as _e,la as be,ma as xe,na as B,oa as ye,od as je,pb as ne,pd as j,qb as c,qd as Y,ra as ve,rb as v,sb as _,ta as s,ua as I,ub as Ce,vd as Ye,wd as Ue,yb as R}from"./chunk-BCNRL4NK.js";function Wt(t,e){t&1&&y(0,"div",2)}var Zt=new ge("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Di=(()=>{let e=class e{constructor(i,n,o,l,u){this._elementRef=i,this._ngZone=n,this._changeDetectorRef=o,this._animationMode=l,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new _e,this._mode="determinate",this._transitionendHandler=b=>{this.animationEnd.observers.length===0||!b.target||!b.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=l==="NoopAnimations",u&&(u.color&&(this.color=this._defaultColor=u.color),this.mode=u.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(i){this._color=i}get value(){return this._value}set value(i){this._value=Ot(i||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(i){this._bufferValue=Ot(i||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(i){this._mode=i,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}};e.\u0275fac=function(n){return new(n||e)(I(ye),I(be),I(we),I(ve,8),I(Zt,8))},e.\u0275cmp=T({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(n,o){n&2&&(Me("aria-valuenow",o._isIndeterminate()?null:o.value)("mode",o.mode),De("mat-"+o.color),ke("_mat-animation-noopable",o._isNoopAnimation)("mdc-linear-progress--animation-ready",!o._isNoopAnimation)("mdc-linear-progress--indeterminate",o._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",re],bufferValue:[2,"bufferValue","bufferValue",re],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[Se,R],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(n,o){n&1&&(a(0,"div",0),y(1,"div",1),D(2,Wt,1,0,"div",2),m(),a(3,"div",3),y(4,"span",4),m(),a(5,"div",5),y(6,"span",4),m()),n&2&&(s(),K("flex-basis",o._getBufferBarFlexBasis()),s(),E(o.mode==="buffer"?2:-1),s(),K("transform",o._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color);border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape)}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color)}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0});let t=e;return t})();function Ot(t,e=0,r=100){return Math.max(e,Math.min(r,t))}var Ci=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=he({type:e}),e.\u0275inj=fe({imports:[Ae]});let t=e;return t})();var Qt={lastVisitedSession:null},Nt="archery-stats-app-state",Vt=(()=>{let e=class e{constructor(){this.store=Ie({name:Nt},Re(Qt)),Xe(this.store,{key:Nt,storage:$e}),this.lastVisitedSession$=this.store.pipe(Fe(i=>i.lastVisitedSession),ue({refCount:!0,bufferSize:1}))}setLastVisitedSession(i){this.store.update(Ee("lastVisitedSession",i))}getStoreProp(i){return this.store.getValue()[i]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var At=(()=>{let e=class e{constructor(){this.settingsRepo=d(O),this.lock=new Audio("assets/lock.wav"),this.lock.load(),this.unlock=new Audio("assets/unlock.wav"),this.unlock.load(),this.interfaceClick=new Audio("assets/interface-click.wav"),this.interfaceClick.load(),this.gameClick=new Audio("assets/game-click.wav"),this.gameClick.load()}play(i){if(this.settingsRepo.getStoreProp("playSounds"))switch(i){case"lock":this.lock.currentTime=0,this.lock.play();break;case"unlock":this.unlock.currentTime=0,this.unlock.play();break;case"click":this.interfaceClick.currentTime=0,this.interfaceClick.play();break;case"gameClick":this.gameClick.currentTime=0,this.gameClick.play();break;default:break}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ei(t,e){if(t&1&&(a(0,"mat-error"),c(1),m()),t&2){let r=p().$implicit;s(),_(" ",r("form.validations.fieldRequired")," ")}}function ti(t,e){if(t&1&&(a(0,"mat-radio-button",7),c(1),m()),t&2){let r=e.$implicit,i=p().$implicit;x("value",r[0]),s(),_(" ",i(r[1])," ")}}function ii(t,e){if(t&1&&(Ce(0)(1),a(2,"mat-option",7),y(3,"img",12),a(4,"span",13),c(5),m()()),t&2){let r=e.$implicit,i=p().$implicit,n=p(),o=r[0],l=r[1];s(2),x("value",o),s(),x("ngSrc",n.TargetFaceImgMap.get(o)),s(2),_(" ",i(l)," ")}}function ni(t,e){if(t&1){let r=F();P(0),a(1,"h2",1),c(2),m(),a(3,"form",2),C("ngSubmit",function(){M(r);let n=p();return k(n.submitForm())}),a(4,"mat-dialog-content")(5,"mat-form-field",3)(6,"mat-label"),c(7),m(),y(8,"input",4),D(9,ei,2,1,"mat-error"),m(),a(10,"div",5)(11,"label"),c(12),m(),a(13,"mat-radio-group",6),te(14,ti,2,2,"mat-radio-button",7,ee),m()(),a(16,"mat-form-field")(17,"mat-label"),c(18),m(),a(19,"mat-select",8),te(20,ii,6,3,"mat-option",7,ee),m()()(),a(22,"mat-dialog-actions")(23,"button",9),c(24),m(),y(25,"span",10),a(26,"button",11),c(27),m()()(),X()}if(t&2){let r=e.$implicit,i=p();s(2),_(" ",r("session.dialogs.editSessionDialog.title")," "),s(),x("formGroup",i.form),s(4),v(r("form.labels.name")),s(2),E(i.form.controls.name.hasError("required")?9:-1),s(3),_(" ",r("form.labels.shootingType")," "),s(2),ie(i.ShootingTypeNameMap.entries()),s(4),v(r("form.labels.targetFace")),s(2),ie(i.TargetFaceNameMap.entries()),s(4),_(" ",r("generic.cancel")," "),s(2),x("disabled",i.form.invalid),s(),_(" ",r("session.dialogs.editSessionDialog.saveButton")," ")}}var zt=(()=>{let e=class e{constructor(){this.sessionsDbService=d(G),this.dialogRef=d(Ge),this.data=d(qe),this.ShootingTypeNameMap=gt,this.TargetFaceNameMap=ht,this.TargetFaceImgMap=_t,this.form=new rt({name:new H("",{nonNullable:!0,validators:[q.required]}),shootingType:new H(null,{nonNullable:!0,validators:[q.required]}),targetFace:new H(null,{nonNullable:!0,validators:[q.required]})}),this.initializeFormValues()}initializeFormValues(){return w(this,null,function*(){let i=yield this.sessionsDbService.getSessionById(this.data.sessionId);if(!i){this.dialogRef.close(!1);return}let{name:n,targetFace:o,shootingType:l}=i;this.form.patchValue({name:n,targetFace:o,shootingType:l},{emitEvent:!1})})}submitForm(){return w(this,null,function*(){if(this.form.invalid)return;let{name:i,shootingType:n,targetFace:o}=this.form.getRawValue();!oe(n)||!oe(o)||(yield this.sessionsDbService.updateSession(this.data.sessionId,{name:i,shootingType:n,targetFace:o}),this.dialogRef.close(!0))})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=T({type:e,selectors:[["app-edit-session-dialog"]],standalone:!0,features:[R],decls:1,vars:0,consts:[[4,"transloco"],["mat-dialog-title",""],[3,"ngSubmit","formGroup"],[1,"margin-bottom-2x"],["matInput","","formControlName","name"],[1,"flex-column","margin-bottom-4x"],["formControlName","shootingType"],[3,"value"],["formControlName","targetFace"],["mat-button","","type","button","mat-dialog-close",""],[1,"spacer"],["mat-flat-button","","type","submit",3,"disabled"],["width","30","height","30",2,"vertical-align","middle",3,"ngSrc"],[1,"margin-left-2x"]],template:function(n,o){n&1&&D(0,ni,28,9,"ng-container",0)},dependencies:[mt,ot,tt,it,nt,at,st,Y,j,Ve,U,We,Ze,Je,Qe,pt,dt,ct,lt,It,Tt,$,Le,Rt,Et,Ft,ft,ut,ze],styles:["[_nghost-%COMP%]{display:block}mat-form-field[_ngcontent-%COMP%]{width:100%}"],changeDetection:0});let t=e;return t})();function ri(t,e){if(t&1){let r=F();a(0,"button",6),C("click",function(n){return M(r),n.preventDefault(),k(n.stopPropagation())}),a(1,"mat-icon"),c(2),m()()}if(t&2){p();let r=ne(4),i=p();x("matMenuTriggerFor",r),s(2),v(i.$icon())}}function oi(t,e){if(t&1){let r=F();a(0,"button",7),C("click",function(n){return M(r),n.preventDefault(),k(n.stopPropagation())}),a(1,"mat-icon"),c(2),m()()}if(t&2){p();let r=ne(4),i=p();x("matMenuTriggerFor",r),s(2),v(i.$icon())}}function ai(t,e){if(t&1){let r=F();P(0),D(1,ri,3,2,"button",2)(2,oi,3,2,"button",3),a(3,"mat-menu",null,0)(5,"button",4),C("click",function(){M(r);let n=p();return k(n.toggleLock())}),a(6,"mat-icon"),c(7),m(),a(8,"span"),c(9),m()(),a(10,"button",4),C("click",function(){M(r);let n=p();return k(n.openEditDialog())}),a(11,"mat-icon"),c(12,"edit"),m(),a(13,"span"),c(14),m()(),a(15,"button",4),C("click",function(){M(r);let n=p();return k(n.deleteSession())}),a(16,"mat-icon",5),c(17,"delete"),m(),a(18,"span"),c(19),m()()(),X()}if(t&2){let r,i=e.$implicit,n=p();s(),E((r=n.$buttonType())==="icon"?1:r==="fab"?2:-1),s(6),v(n.$isSessionLocked()?"lock":"lock_open"),s(2),_(" ",n.$isSessionLocked()?i("session.actions.pressToUnlock"):i("session.actions.pressToLock")," "),s(5),v(i("session.actions.editSession")),s(5),v(i("session.actions.deleteSession"))}}var Dn=(()=>{let e=class e{constructor(){this.sessionsDbService=d(G),this.dialog=d(He),this.transloco=d(je),this.appStateRepo=d(Vt),this.soundboard=d(At),this.$isSessionLocked=Te(()=>et(this.$session().locked)),this.$session=B.required({alias:"session"}),this.$icon=B("more_vert",{alias:"icon-name"}),this.$buttonType=B("icon",{alias:"button-type"}),this.sessionDeleted=xe()}deleteSession(){this.dialog.open(wt,{width:"500px",data:{text:this.transloco.translate("session.dialogs.deleteDialog.text")}}).afterClosed().pipe(pe(1)).subscribe(n=>w(this,null,function*(){n&&(yield this.sessionsDbService.deleteSession(this.$session().id),this.appStateRepo.setLastVisitedSession(null),this.sessionDeleted.emit())}))}openEditDialog(){this.dialog.open(zt,{width:"500px",data:{sessionId:this.$session().id}})}toggleLock(){return w(this,null,function*(){this.soundboard.play(this.$isSessionLocked()?"unlock":"lock"),yield this.sessionsDbService.updateSession(this.$session().id,{locked:Ke(!this.$isSessionLocked())})})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=T({type:e,selectors:[["app-session-options-menu"]],inputs:{$session:[1,"session","$session"],$icon:[1,"icon-name","$icon"],$buttonType:[1,"button-type","$buttonType"]},outputs:{sessionDeleted:"sessionDeleted"},standalone:!0,features:[R],decls:1,vars:0,consts:[["menu","matMenu"],[4,"transloco"],["mat-icon-button","","type","button",3,"matMenuTriggerFor"],["mat-fab","","type","button",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["color","warn"],["mat-icon-button","","type","button",3,"click","matMenuTriggerFor"],["mat-fab","","type","button",3,"click","matMenuTriggerFor"]],template:function(n,o){n&1&&D(0,ai,20,5,"ng-container",1)},dependencies:[Y,j,$,Pe,Be,Ue,Ye,Ct,kt,Mt,Dt,U],styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0});let t=e;return t})();function h(t){let e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}var si={};function Lt(){return si}var mi={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ci={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},li={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bt={date:W({formats:mi,defaultWidth:"full"}),time:W({formats:ci,defaultWidth:"full"}),dateTime:W({formats:li,defaultWidth:"full"})};var ae={code:"en-US",formatDistance:bt,formatLong:Bt,formatRelative:xt,localize:yt,match:vt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}var di=Math.pow(10,8)*24*60*60*1e3,Bn=-di;var se=6e4;var me=525600,ce=43200,le=1440;var pi=3600;var Xt=pi*24,Pn=Xt*7,ui=Xt*365.2425,fi=ui/12,Xn=fi*3;function de(t){let e=h(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function $t(t,e){let r=h(t),i=h(e),n=r.getTime()-i.getTime();return n<0?-1:n>0?1:n}function jt(t){return Pt(t,Date.now())}function Z(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Yt(t){if(!Z(t)&&typeof t!="number")return!1;let e=h(t);return!isNaN(Number(e))}function Ut(t){return e=>{let i=(t?Math[t]:Math.trunc)(e);return i===0?0:i}}function Gt(t,e,r){let i=Lt(),n=r?.locale??i.locale??ae,o=$t(t,e);if(isNaN(o))throw new RangeError("Invalid time value");let l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o}),u,b;o>0?(u=h(e),b=h(t)):(u=h(t),b=h(e));let S=Ut(r?.roundingMethod??"round"),Q=b.getTime()-u.getTime(),V=Q/se,Ht=de(b)-de(u),A=(Q-Ht)/se,J=r?.unit,f;if(J?f=J:V<1?f="second":V<60?f="minute":V<le?f="hour":A<ce?f="day":A<me?f="month":f="year",f==="second"){let g=S(Q/1e3);return n.formatDistance("xSeconds",g,l)}else if(f==="minute"){let g=S(V);return n.formatDistance("xMinutes",g,l)}else if(f==="hour"){let g=S(V/60);return n.formatDistance("xHours",g,l)}else if(f==="day"){let g=S(A/le);return n.formatDistance("xDays",g,l)}else if(f==="month"){let g=S(A/ce);return g===12&&J!=="month"?n.formatDistance("xYears",1,l):n.formatDistance("xMonths",g,l)}else{let g=S(A/me);return n.formatDistance("xYears",g,l)}}function qt(t,e){return Gt(t,jt(t),e)}var br=(()=>{let e=class e{constructor(){this.settingsRepo=d(O)}transform(i,n){let o=new Date(i);if(!Z(o)||!Yt(o))return"Invalid date";let l=this.settingsRepo.getStoreProp("language");return qt(o,{addSuffix:!0,locale:St.get(l),unit:n})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=L({name:"dateDistance",type:e,pure:!0,standalone:!0});let t=e;return t})();var kr=(()=>{let e=class e{constructor(){this.defaultOptions=d(Ne),this.settingsRepo=d(O)}transform(i,n,o,l){if(i==null||i===""||i!==i)return null;try{let u=n??this.defaultOptions?.dateFormat??"mediumDate",b=l??this.defaultOptions?.timezone??this.defaultOptions.timezone??void 0,S=this.settingsRepo.getStoreProp("language");return Oe(i,u,o||S,b)}catch{return null}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=L({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();export{Di as a,Ci as b,Vt as c,br as d,kr as e,At as f,Dn as g};
