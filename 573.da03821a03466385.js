"use strict";(self.webpackChunkarchery_stats=self.webpackChunkarchery_stats||[]).push([[573],{5985:(M,D,c)=>{c.d(D,{S:()=>I});var C=c(6895),R=c(9918),u=c(489),f=c(2189),h=c(4926),l=c(4650);function t(w,v){if(1&w&&(l.ynx(0),l.TgZ(1,"span",6),l._uU(2),l.qZA(),l.BQk()),2&w){const p=v.$implicit;l.xp6(2),l.hij(" ",p.value," ")}}function O(w,v){if(1&w&&(l.ynx(0),l.TgZ(1,"span"),l._uU(2),l.qZA(),l.TgZ(3,"div",5),l.YNc(4,t,3,1,"ng-container",1),l.qZA(),l.TgZ(5,"span",3),l._uU(6),l.ALo(7,"sum"),l.ALo(8,"pluck"),l.qZA(),l.TgZ(9,"span",4),l._uU(10),l.ALo(11,"average"),l.ALo(12,"pluck"),l.qZA(),l.BQk()),2&w){const p=v.$implicit,S=v.index,L=l.oxw();l.xp6(2),l.hij("",S+1,"."),l.xp6(1),l.Udp("grid-template-columns",L.gridTemplateColumnsCSS),l.xp6(1),l.Q6J("ngForOf",p.shots),l.xp6(2),l.hij(" ",l.lcZ(7,6,l.xi3(8,8,p.shots,"value"))," "),l.xp6(4),l.hij(" ",l.lcZ(11,11,l.xi3(12,13,p.shots,"value"))," ")}}let I=(()=>{class w{constructor(){this._entries=[],this.gridTemplateColumnsCSS="repeat(auto-fill, minmax(var(--circle-size), var(--circle-size)))",this.allShots=[]}set entries(p){this._entries=p;const S=(0,R.Q)(p).length;this.gridTemplateColumnsCSS=`repeat(${S}, minmax(var(--circle-size), var(--circle-size)))`,this.allShots=(0,R.F)(p)}get entries(){return this._entries}}return w.\u0275fac=function(p){return new(p||w)},w.\u0275cmp=l.Xpm({type:w,selectors:[["app-entries-circles-list"]],inputs:{entries:"entries"},standalone:!0,features:[l.jDz],decls:13,vars:7,consts:[[1,"entries-grid"],[4,"ngFor","ngForOf"],[1,"margin-top-2x","total-row"],[1,"sum"],[1,"avg"],[1,"entry-row"],[1,"shot"]],template:function(p,S){1&p&&(l.TgZ(0,"div",0),l.YNc(1,O,13,16,"ng-container",1),l.qZA(),l.TgZ(2,"div",2)(3,"h4"),l._uU(4," Total: "),l.TgZ(5,"span",3),l._uU(6),l.ALo(7,"sum"),l.qZA()(),l.TgZ(8,"h4"),l._uU(9," Average: "),l.TgZ(10,"span",4),l._uU(11),l.ALo(12,"average"),l.qZA()()()),2&p&&(l.xp6(1),l.Q6J("ngForOf",S.entries),l.xp6(5),l.Oqu(l.lcZ(7,3,S.allShots)),l.xp6(5),l.Oqu(l.lcZ(12,5,S.allShots)))},dependencies:[C.ax,h.q,u.p,f.F],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;overflow:hidden;padding:var(--spacing-1x) 0;--circle-size: 35px;--circle-padding: 5px}[_nghost-%COMP%]   .entries-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,max-content);align-items:center;justify-content:safe center;column-gap:1.25em;row-gap:.5em;overflow-x:auto;width:100%;padding:var(--spacing-1x)}[_nghost-%COMP%]   .entries-grid[_ngcontent-%COMP%]   .entry-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(var(--circle-size),var(--circle-size)));align-items:center;gap:.25em}[_nghost-%COMP%]   .shot[_ngcontent-%COMP%], [_nghost-%COMP%]   .sum[_ngcontent-%COMP%], [_nghost-%COMP%]   .avg[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:var(--circle-padding);border-radius:50%;width:var(--circle-size);height:var(--circle-size);font-size:var(--caption-font-size);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}[_nghost-%COMP%]   .total-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--spacing-2x)}"],changeDetection:0}),w})()},8735:(M,D,c)=>{c.d(D,{j:()=>We});var C=c(6895),R=c(445),u=c(1281),f=c(5017),h=c(3353),l=c(5589),t=c(4650),O=c(7579),I=c(2076),w=c(1135),v=c(9751),p=c(576),L=c(9646),F=c(2722),ee=c(5698);const he=[[["caption"]],[["colgroup"],["col"]]],fe=["caption","colgroup, col"];function G(o){return class extends o{get sticky(){return this._sticky}set sticky(i){const e=this._sticky;this._sticky=(0,u.Ig)(i),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const i=this._hasStickyChanged;return this._hasStickyChanged=!1,i}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...i){super(...i),this._sticky=!1,this._hasStickyChanged=!1}}}const A=new t.OlP("CDK_TABLE");let N=(()=>{class o{constructor(e){this.template=e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.Rgc))},o.\u0275dir=t.lG2({type:o,selectors:[["","cdkCellDef",""]]}),o})(),P=(()=>{class o{constructor(e){this.template=e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.Rgc))},o.\u0275dir=t.lG2({type:o,selectors:[["","cdkHeaderCellDef",""]]}),o})(),j=(()=>{class o{constructor(e){this.template=e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.Rgc))},o.\u0275dir=t.lG2({type:o,selectors:[["","cdkFooterCellDef",""]]}),o})();class ge{}const Ce=G(ge);let x=(()=>{class o extends Ce{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const n=this._stickyEnd;this._stickyEnd=(0,u.Ig)(e),this._hasStickyChanged=n!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A,8))},o.\u0275dir=t.lG2({type:o,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,n,s){if(1&e&&(t.Suo(s,N,5),t.Suo(s,P,5),t.Suo(s,j,5)),2&e){let r;t.iGM(r=t.CRH())&&(n.cell=r.first),t.iGM(r=t.CRH())&&(n.headerCell=r.first),t.iGM(r=t.CRH())&&(n.footerCell=r.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[t._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:o}]),t.qOj]}),o})();class Q{constructor(i,e){e.nativeElement.classList.add(...i._columnCssClassName)}}let z=(()=>{class o extends Q{constructor(e,n){super(e,n)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x),t.Y36(t.SBq))},o.\u0275dir=t.lG2({type:o,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[t.qOj]}),o})(),te=(()=>{class o extends Q{constructor(e,n){if(super(e,n),1===e._table?._elementRef.nativeElement.nodeType){const s=e._table._elementRef.nativeElement.getAttribute("role");n.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x),t.Y36(t.SBq))},o.\u0275dir=t.lG2({type:o,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],features:[t.qOj]}),o})(),W=(()=>{class o extends Q{constructor(e,n){if(super(e,n),1===e._table?._elementRef.nativeElement.nodeType){const s=e._table._elementRef.nativeElement.getAttribute("role");n.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x),t.Y36(t.SBq))},o.\u0275dir=t.lG2({type:o,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[t.qOj]}),o})();class oe{constructor(){this.tasks=[],this.endTasks=[]}}const ne=new t.OlP("_COALESCED_STYLE_SCHEDULER");let we=(()=>{class o{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new O.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new oe,this._getScheduleObservable().pipe((0,F.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new oe;for(const n of e.tasks)n();for(const n of e.endTasks)n()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,I.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,ee.q)(1))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(t.R0b))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),$=(()=>{class o{constructor(e,n){this.template=e,this._differs=n}ngOnChanges(e){if(!this._columnsDiffer){const n=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof H?e.headerCell.template:this instanceof B?e.footerCell.template:e.cell.template}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.Rgc),t.Y36(t.ZZ4))},o.\u0275dir=t.lG2({type:o,features:[t.TTD]}),o})();class ye extends ${}const Re=G(ye);let H=(()=>{class o extends Re{constructor(e,n,s){super(e,n),this._table=s}ngOnChanges(e){super.ngOnChanges(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.Rgc),t.Y36(t.ZZ4),t.Y36(A,8))},o.\u0275dir=t.lG2({type:o,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[t.qOj,t.TTD]}),o})();class De extends ${}const ke=G(De);let B=(()=>{class o extends ke{constructor(e,n,s){super(e,n),this._table=s}ngOnChanges(e){super.ngOnChanges(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.Rgc),t.Y36(t.ZZ4),t.Y36(A,8))},o.\u0275dir=t.lG2({type:o,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[t.qOj,t.TTD]}),o})(),q=(()=>{class o extends ${constructor(e,n,s){super(e,n),this._table=s}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.Rgc),t.Y36(t.ZZ4),t.Y36(A,8))},o.\u0275dir=t.lG2({type:o,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[t.qOj]}),o})(),b=(()=>{class o{constructor(e){this._viewContainer=e,o.mostRecentCellOutlet=this}ngOnDestroy(){o.mostRecentCellOutlet===this&&(o.mostRecentCellOutlet=null)}}return o.mostRecentCellOutlet=null,o.\u0275fac=function(e){return new(e||o)(t.Y36(t.s_b))},o.\u0275dir=t.lG2({type:o,selectors:[["","cdkCellOutlet",""]]}),o})(),se=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&t.GkF(0,0)},dependencies:[b],encapsulation:2}),o})(),ie=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&t.GkF(0,0)},dependencies:[b],encapsulation:2}),o})(),re=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&t.GkF(0,0)},dependencies:[b],encapsulation:2}),o})(),le=(()=>{class o{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.Rgc))},o.\u0275dir=t.lG2({type:o,selectors:[["ng-template","cdkNoDataRow",""]]}),o})();const ae=["top","bottom","left","right"];class ve{constructor(i,e,n,s,r=!0,a=!0,d){this._isNativeHtmlTable=i,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=s,this._isBrowser=r,this._needsPositionStickyOnElement=a,this._positionListener=d,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(i,e){const n=[];for(const s of i)if(s.nodeType===s.ELEMENT_NODE){n.push(s);for(let r=0;r<s.children.length;r++)n.push(s.children[r])}this._coalescedStyleScheduler.schedule(()=>{for(const s of n)this._removeStickyStyle(s,e)})}updateStickyColumns(i,e,n,s=!0){if(!i.length||!this._isBrowser||!e.some(g=>g)&&!n.some(g=>g))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const r=i[0],a=r.children.length,d=this._getCellWidths(r,s),_=this._getStickyStartColumnPositions(d,e),T=this._getStickyEndColumnPositions(d,n),m=e.lastIndexOf(!0),k=n.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const g="rtl"===this.direction,E=g?"right":"left",$e=g?"left":"right";for(const Z of i)for(let y=0;y<a;y++){const ue=Z.children[y];e[y]&&this._addStickyStyle(ue,E,_[y],y===m),n[y]&&this._addStickyStyle(ue,$e,T[y],y===k)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===m?[]:d.slice(0,m+1).map((Z,y)=>e[y]?Z:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===k?[]:d.slice(k).map((Z,y)=>n[y+k]?Z:null).reverse()}))})}stickRows(i,e,n){if(!this._isBrowser)return;const s="bottom"===n?i.slice().reverse():i,r="bottom"===n?e.slice().reverse():e,a=[],d=[],_=[];for(let m=0,k=0;m<s.length;m++){if(!r[m])continue;a[m]=k;const g=s[m];_[m]=this._isNativeHtmlTable?Array.from(g.children):[g];const E=g.getBoundingClientRect().height;k+=E,d[m]=E}const T=r.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let m=0;m<s.length;m++){if(!r[m])continue;const k=a[m],g=m===T;for(const E of _[m])this._addStickyStyle(E,n,k,g)}"top"===n?this._positionListener?.stickyHeaderRowsUpdated({sizes:d,offsets:a,elements:_}):this._positionListener?.stickyFooterRowsUpdated({sizes:d,offsets:a,elements:_})})}updateStickyFooterContainer(i,e){if(!this._isNativeHtmlTable)return;const n=i.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(s=>!s)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(i,e){for(const s of e)i.style[s]="",i.classList.remove(this._borderCellCss[s]);ae.some(s=>-1===e.indexOf(s)&&i.style[s])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,e,n,s){i.classList.add(this._stickCellCss),s&&i.classList.add(this._borderCellCss[e]),i.style[e]=`${n}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const s of ae)i.style[s]&&(n+=e[s]);return n?`${n}`:""}_getCellWidths(i,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],s=i.children;for(let r=0;r<s.length;r++)n.push(s[r].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(i,e){const n=[];let s=0;for(let r=0;r<i.length;r++)e[r]&&(n[r]=s,s+=i[r]);return n}_getStickyEndColumnPositions(i,e){const n=[];let s=0;for(let r=i.length;r>0;r--)e[r]&&(n[r]=s,s+=i[r]);return n}}const ce=new t.OlP("CDK_SPL");let K=(()=>{class o{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.s_b),t.Y36(t.SBq))},o.\u0275dir=t.lG2({type:o,selectors:[["","rowOutlet",""]]}),o})(),V=(()=>{class o{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.s_b),t.Y36(t.SBq))},o.\u0275dir=t.lG2({type:o,selectors:[["","headerRowOutlet",""]]}),o})(),X=(()=>{class o{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.s_b),t.Y36(t.SBq))},o.\u0275dir=t.lG2({type:o,selectors:[["","footerRowOutlet",""]]}),o})(),J=(()=>{class o{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.s_b),t.Y36(t.SBq))},o.\u0275dir=t.lG2({type:o,selectors:[["","noDataRowOutlet",""]]}),o})(),Y=(()=>{class o{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=(0,u.Ig)(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=(0,u.Ig)(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,n,s,r,a,d,_,T,m,k,g,E){this._differs=e,this._changeDetectorRef=n,this._elementRef=s,this._dir=a,this._platform=_,this._viewRepeater=T,this._coalescedStyleScheduler=m,this._viewportRuler=k,this._stickyPositioningListener=g,this._ngZone=E,this._onDestroy=new O.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new t.vpe,this.viewChange=new w.X({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","table"),this._document=d,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe((0,F.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,f.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,n,(s,r,a)=>this._getEmbeddedViewArgs(s.item,a),s=>s.item.data,s=>{1===s.operation&&s.context&&this._renderCellTemplateForItem(s.record.item.rowDef,s.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(s=>{n.get(s.currentIndex).context.$implicit=s.item.data}),this._updateNoDataRow(),this._ngZone&&t.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,ee.q)(1),(0,F.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),s=this._elementRef.nativeElement.querySelector("thead");s&&(s.style.display=e.length?"":"none");const r=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,r,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),s=this._elementRef.nativeElement.querySelector("tfoot");s&&(s.style.display=e.length?"":"none");const r=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,r,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,r),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),s=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...n,...s],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((r,a)=>{this._addStickyColumnStyles([r],this._headerRowDefs[a])}),this._rowDefs.forEach(r=>{const a=[];for(let d=0;d<n.length;d++)this._renderRows[d].rowDef===r&&a.push(n[d]);this._addStickyColumnStyles(a,r)}),s.forEach((r,a)=>{this._addStickyColumnStyles([r],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(r=>r.resetStickyChanged())}_getAllRenderRows(){const e=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let s=0;s<this._data.length;s++){let r=this._data[s];const a=this._getRenderRowsForData(r,s,n.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let d=0;d<a.length;d++){let _=a[d];const T=this._cachedRenderRowsMap.get(_.data);T.has(_.rowDef)?T.get(_.rowDef).push(_):T.set(_.rowDef,[_]),e.push(_)}}return e}_getRenderRowsForData(e,n,s){return this._getRowDefs(e,n).map(a=>{const d=s&&s.has(a)?s.get(a):[];if(d.length){const _=d.shift();return _.dataIndex=n,_}return{data:e,rowDef:a,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),U(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=U(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=U(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=U(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(n=>!n.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,d)=>a||!!d.getColumnsDiff(),n=this._rowDefs.reduce(e,!1);n&&this._forceRenderDataRows();const s=this._headerRowDefs.reduce(e,!1);s&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(e,!1);return r&&this._forceRenderFooterRows(),n||s||r}_switchDataSource(e){this._data=[],(0,f.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;(0,f.Z9)(this.dataSource)?e=this.dataSource.connect(this):function S(o){return!!o&&(o instanceof v.y||(0,p.m)(o.lift)&&(0,p.m)(o.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,L.of)(this.dataSource)),this._renderChangeSubscription=e.pipe((0,F.R)(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,n)=>this._renderRow(this._headerRowOutlet,e,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,n)=>this._renderRow(this._footerRowOutlet,e,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,n){const s=Array.from(n.columns||[]).map(d=>this._columnDefsByName.get(d)),r=s.map(d=>d.sticky),a=s.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(e,r,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const n=[];for(let s=0;s<e.viewContainer.length;s++){const r=e.viewContainer.get(s);n.push(r.rootNodes[0])}return n}_getRowDefs(e,n){if(1==this._rowDefs.length)return[this._rowDefs[0]];let s=[];if(this.multiTemplateDataRows)s=this._rowDefs.filter(r=>!r.when||r.when(n,e));else{let r=this._rowDefs.find(a=>a.when&&a.when(n,e))||this._defaultRowDef;r&&s.push(r)}return s}_getEmbeddedViewArgs(e,n){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:n}}_renderRow(e,n,s,r={}){const a=e.viewContainer.createEmbeddedView(n.template,r,s);return this._renderCellTemplateForItem(n,r),a}_renderCellTemplateForItem(e,n){for(let s of this._getCellTemplates(e))b.mostRecentCellOutlet&&b.mostRecentCellOutlet._viewContainer.createEmbeddedView(s,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let n=0,s=e.length;n<s;n++){const a=e.get(n).context;a.count=s,a.first=0===n,a.last=n===s-1,a.even=n%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[n].dataIndex,a.renderIndex=n):a.index=this._renderRows[n].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,n=>{const s=this._columnDefsByName.get(n);return e.extractCellTemplate(s)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),n=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const s of n){const r=this._document.createElement(s.tag);r.setAttribute("role","rowgroup");for(const a of s.outlets)r.appendChild(a.elementRef.nativeElement);e.appendChild(r)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(n,s)=>n||s.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new ve(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,L.of)()).pipe((0,F.R)(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const n=0===this._rowOutlet.viewContainer.length;if(n===this._isShowingNoDataRow)return;const s=this._noDataRowOutlet.viewContainer;if(n){const r=s.createEmbeddedView(e.templateRef),a=r.rootNodes[0];1===r.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else s.clear();this._isShowingNoDataRow=n}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.ZZ4),t.Y36(t.sBO),t.Y36(t.SBq),t.$8M("role"),t.Y36(R.Is,8),t.Y36(C.K0),t.Y36(h.t4),t.Y36(f.k),t.Y36(ne),t.Y36(l.rL),t.Y36(ce,12),t.Y36(t.R0b,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,n,s){if(1&e&&(t.Suo(s,le,5),t.Suo(s,x,5),t.Suo(s,q,5),t.Suo(s,H,5),t.Suo(s,B,5)),2&e){let r;t.iGM(r=t.CRH())&&(n._noDataRow=r.first),t.iGM(r=t.CRH())&&(n._contentColumnDefs=r),t.iGM(r=t.CRH())&&(n._contentRowDefs=r),t.iGM(r=t.CRH())&&(n._contentHeaderRowDefs=r),t.iGM(r=t.CRH())&&(n._contentFooterRowDefs=r)}},viewQuery:function(e,n){if(1&e&&(t.Gf(K,7),t.Gf(V,7),t.Gf(X,7),t.Gf(J,7)),2&e){let s;t.iGM(s=t.CRH())&&(n._rowOutlet=s.first),t.iGM(s=t.CRH())&&(n._headerRowOutlet=s.first),t.iGM(s=t.CRH())&&(n._footerRowOutlet=s.first),t.iGM(s=t.CRH())&&(n._noDataRowOutlet=s.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("cdk-table-fixed-layout",n.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[t._Bn([{provide:A,useExisting:o},{provide:f.k,useClass:f.yy},{provide:ne,useClass:we},{provide:ce,useValue:null}])],ngContentSelectors:fe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,n){1&e&&(t.F$t(he),t.Hsn(0),t.Hsn(1,1),t.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[K,V,X,J],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),o})();function U(o,i){return o.concat(Array.from(i))}let xe=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.Cl]}),o})();var Ee=c(489),Oe=c(4926),be=c(2189),de=c(9918);function Me(o,i){1&o&&(t.TgZ(0,"th",12),t._uU(1,"Number"),t.qZA())}function Fe(o,i){if(1&o&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&o){const e=i.index;t.xp6(1),t.hij("",e+1,".")}}function Ae(o,i){if(1&o&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("Shots: ",e.allShots.length,"")}}function Ne(o,i){if(1&o&&(t.TgZ(0,"th",12),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.Udp("min-width",1.6,"em"),t.xp6(1),t.hij(" ",+e+1,". ")}}function Pe(o,i){if(1&o&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&o){const e=i.$implicit,n=t.oxw().$implicit;let s;t.xp6(1),t.hij(" ",null!==(s=null==e||null==e.shots[n]?null:e.shots[n].value)&&void 0!==s?s:"-"," ")}}function Ze(o,i){1&o&&t._UZ(0,"td",14)}function Le(o,i){1&o&&(t.ynx(0,15),t.YNc(1,Ne,2,3,"th",7),t.YNc(2,Pe,2,1,"td",3),t.YNc(3,Ze,1,0,"td",4),t.BQk()),2&o&&t.Q6J("cdkColumnDef",i.$implicit)}function He(o,i){1&o&&(t.TgZ(0,"th",12),t._uU(1,"Sum"),t.qZA()),2&o&&t.Udp("min-width",3.5,"em")}function Be(o,i){if(1&o&&(t.TgZ(0,"td",13),t._uU(1),t.ALo(2,"sum"),t.ALo(3,"pluck"),t.qZA()),2&o){const e=i.$implicit,n=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,t.xi3(3,3,n.typeCastToArcheryEntry(e).shots,"value"))," ")}}function Ye(o,i){if(1&o&&(t.TgZ(0,"td",14),t._uU(1),t.ALo(2,"sum"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,e.allShots))}}function Ue(o,i){1&o&&(t.TgZ(0,"th",12),t._uU(1," Average "),t.qZA()),2&o&&t.Udp("min-width",4.5,"em")}function Ie(o,i){if(1&o&&(t.TgZ(0,"td",13),t._uU(1),t.ALo(2,"average"),t.ALo(3,"pluck"),t.qZA()),2&o){const e=i.$implicit,n=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,t.xi3(3,3,n.typeCastToArcheryEntry(e).shots,"value"))," ")}}function Ge(o,i){if(1&o&&(t.TgZ(0,"td",14),t._uU(1),t.ALo(2,"average"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,e.allShots)," ")}}function je(o,i){1&o&&t._UZ(0,"tr",16)}function Qe(o,i){1&o&&t._UZ(0,"tr",17)}function ze(o,i){1&o&&t._UZ(0,"tr",18)}let We=(()=>{class o{constructor(){this.dataSource=[],this.displayedColumns=[],this.allShots=[]}set entries(e){this.dataSource=e;const n=(0,de.Q)(e);this.displayedColumns=["shotNumber",...n.map((s,r)=>r.toString()),"sum","avg"],this.allShots=(0,de.F)(e),this.table?.renderRows()}typeCastToArcheryEntry(e){return e}trackBy(e,n){return n.id}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-entries-table"]],viewQuery:function(e,n){if(1&e&&t.Gf(Y,5),2&e){let s;t.iGM(s=t.CRH())&&(n.table=s.first)}},inputs:{entries:"entries"},standalone:!0,features:[t.jDz],decls:18,vars:10,consts:[["cdk-table","","fixedLayout","",3,"dataSource","trackBy"],["cdkColumnDef","shotNumber"],["cdk-header-cell","",4,"cdkHeaderCellDef"],["cdk-cell","",4,"cdkCellDef"],["cdk-footer-cell","",4,"cdkFooterCellDef"],[3,"cdkColumnDef",4,"ngFor","ngForOf"],["cdkColumnDef","sum"],["cdk-header-cell","",3,"min-width",4,"cdkHeaderCellDef"],["cdkColumnDef","avg"],["cdk-header-row","",4,"cdkHeaderRowDef"],["cdk-row","",4,"cdkRowDef","cdkRowDefColumns"],["cdk-footer-row","",4,"cdkFooterRowDef"],["cdk-header-cell",""],["cdk-cell",""],["cdk-footer-cell",""],[3,"cdkColumnDef"],["cdk-header-row",""],["cdk-row",""],["cdk-footer-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,Me,2,0,"th",2),t.YNc(3,Fe,2,1,"td",3),t.YNc(4,Ae,2,1,"td",4),t.BQk(),t.YNc(5,Le,4,1,"ng-container",5),t.ALo(6,"slice"),t.ynx(7,6),t.YNc(8,He,2,2,"th",7),t.YNc(9,Be,4,6,"td",3),t.YNc(10,Ye,3,3,"td",4),t.BQk(),t.ynx(11,8),t.YNc(12,Ue,2,2,"th",7),t.YNc(13,Ie,4,6,"td",3),t.YNc(14,Ge,3,3,"td",4),t.BQk(),t.YNc(15,je,1,0,"tr",9),t.YNc(16,Qe,1,0,"tr",10),t.YNc(17,ze,1,0,"tr",11),t.qZA()),2&e&&(t.Q6J("dataSource",n.dataSource)("trackBy",n.trackBy),t.xp6(5),t.Q6J("ngForOf",t.Dn7(6,6,n.displayedColumns,1,n.displayedColumns.length-2)),t.xp6(10),t.Q6J("cdkHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("cdkRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("cdkFooterRowDef",n.displayedColumns))},dependencies:[C.ax,C.OU,Ee.p,Oe.q,be.F,xe,Y,q,N,P,j,x,W,re,z,te,se,H,ie,B],styles:["[_nghost-%COMP%]{display:block;overflow-x:auto}table[_ngcontent-%COMP%]{margin:0 auto;border-collapse:collapse;overflow:hidden}table[_ngcontent-%COMP%]   .cdk-header-cell[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .cdk-footer-cell[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .cdk-cell[_ngcontent-%COMP%]{text-align:left;padding:max(2px,.15em);line-height:normal}"],changeDetection:0}),o})()},9918:(M,D,c)=>{function C(u){return u.reduce((f,h)=>h.shots.length>f.length?h.shots:f,[])}function R(u){return u.map(f=>f.shots).flat().map(f=>f.value)}c.d(D,{F:()=>R,Q:()=>C})},489:(M,D,c)=>{c.d(D,{p:()=>R});var C=c(4650);let R=(()=>{class u{transform(h,l=2){return h&&h.length?(h.reduce((t,O)=>t+O,0)/h.length).toFixed(l):"0"}}return u.\u0275fac=function(h){return new(h||u)},u.\u0275pipe=C.Yjl({name:"average",type:u,pure:!0,standalone:!0}),u})()},2189:(M,D,c)=>{c.d(D,{F:()=>R});var C=c(4650);let R=(()=>{class u{transform(h,l){return h&&l?h.map(t=>t[l]):[]}}return u.\u0275fac=function(h){return new(h||u)},u.\u0275pipe=C.Yjl({name:"pluck",type:u,pure:!0,standalone:!0}),u})()},4926:(M,D,c)=>{c.d(D,{q:()=>R});var C=c(4650);let R=(()=>{class u{transform(h){return h&&h.length?h.reduce((l,t)=>l+t,0):0}}return u.\u0275fac=function(h){return new(h||u)},u.\u0275pipe=C.Yjl({name:"sum",type:u,pure:!0,standalone:!0}),u})()}}]);