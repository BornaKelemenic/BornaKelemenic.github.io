"use strict";(self.webpackChunkarchery_stats=self.webpackChunkarchery_stats||[]).push([[28],{9028:(w,h,i)=>{i.r(h),i.d(h,{ListPageComponent:()=>g});var a=i(6895),x=i(4850),u=i(3336),t=i(4650),d=i(4859),p=i(6338),C=i(8778);class c{transform(n){return n.flat()}}c.\u0275fac=function(n){return new(n||c)},c.\u0275pipe=t.Yjl({name:"flatten",type:c,pure:!0,standalone:!0});var v=i(2189),A=i(489),Z=i(5412),y=i(9613),_=i(858),T=i(1331),L=i(9229);function S(s,n){if(1&s){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(l){t.CHM(e);const r=t.oxw().$implicit,f=t.oxw(3);return l.stopPropagation(),t.KtG(f.removeArcherySession(r))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete_outline"),t.qZA()()}}const k=function(s){return["/list",s]};function I(s,n){if(1&s){const e=t.EpF();t.TgZ(0,"mat-list-item",4),t.NdJ("click",function(){const r=t.CHM(e).$implicit,f=t.oxw(3);return t.KtG(f.sessionClicked.emit(r))}),t.ALo(1,"async"),t.TgZ(2,"span",5),t._uU(3),t.qZA(),t.TgZ(4,"span",6)(5,"span",7),t.ALo(6,"date"),t._uU(7),t.ALo(8,"dateDistance"),t.qZA()(),t.TgZ(9,"span",6)(10,"span"),t._uU(11),t.qZA(),t.TgZ(12,"span",8),t._uU(13,"\u2022"),t.qZA(),t.TgZ(14,"span"),t._uU(15),t.ALo(16,"average"),t.ALo(17,"pluck"),t.ALo(18,"flatten"),t.ALo(19,"pluck"),t.qZA(),t.TgZ(20,"span",8),t._uU(21,"\u2022"),t.qZA(),t.TgZ(22,"span"),t._uU(23),t.qZA()(),t.YNc(24,S,3,0,"button",9),t.qZA()}if(2&s){const e=n.$implicit,o=n.index,l=t.oxw(3);let r;t.Udp("padding-right",l.showAction?"48px":null),t.Q6J("routerLink",t.VKq(29,k,e.id))("lines",3)("activated",e.id===(null==(r=t.lcZ(1,13,l.archerySessionRepo.activeSession$))?null:r.id)),t.xp6(3),t.AsE(" ",o+1,". ",e.name," "),t.xp6(2),t.Q6J("title",t.lcZ(6,15,e.date_created)||""),t.xp6(2),t.hij(" ",t.lcZ(8,17,e.date_created)," "),t.xp6(4),t.hij(" Arrows: ",e.numberOfArrows," "),t.xp6(4),t.hij(" Average: ",t.lcZ(16,19,t.xi3(17,21,t.lcZ(18,24,t.xi3(19,26,e.entries,"shots")),"value"))," "),t.xp6(8),t.hij(" Entires: ",e.entries.length," "),t.xp6(1),t.Q6J("ngIf",l.showAction)}}function U(s,n){if(1&s&&(t.ynx(0),t.YNc(1,I,25,31,"mat-list-item",3),t.BQk()),2&s){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function P(s,n){1&s&&(t.TgZ(0,"mat-list-item")(1,"span",5),t._uU(2," No sessions "),t.qZA()())}function F(s,n){if(1&s&&(t.TgZ(0,"mat-list"),t.YNc(1,U,2,1,"ng-container",1),t.YNc(2,P,3,0,"ng-template",null,2,t.W1O),t.qZA()),2&s){const e=n.ngIf,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.length)("ngIfElse",o)}}class m{constructor(n,e){this.archerySessionRepo=n,this.dialog=e,this.showAction=!0,this.sessionClicked=new t.vpe}removeArcherySession(n){this.dialog.open(y.M,{restoreFocus:!1,autoFocus:!1,width:"300px",data:{title:"Delete session ?"}}).afterClosed().subscribe(o=>{o&&(0,T.xr)(()=>{this.archerySessionRepo.getActiveSession()?.id===n.id&&this.archerySessionRepo.resetActiveSession(),this.archerySessionRepo.deleteSessions(n.id)})})}}function Q(s,n){if(1&s&&(t.ynx(0),t.TgZ(1,"div",1)(2,"h2"),t._uU(3),t.qZA()(),t._UZ(4,"mat-divider",2),t.TgZ(5,"h3"),t._uU(6),t.ALo(7,"average"),t.ALo(8,"pluck"),t.ALo(9,"flatten"),t.ALo(10,"pluck"),t.ALo(11,"flatten"),t.ALo(12,"pluck"),t.qZA(),t._UZ(13,"mat-divider",2),t.BQk()),2&s){const e=t.oxw().ngIf;t.xp6(3),t.hij("Your sessions (",e.length,"):"),t.xp6(3),t.hij(" Your overall average: ",t.lcZ(7,2,t.xi3(8,4,t.lcZ(9,7,t.xi3(10,9,t.lcZ(11,12,t.xi3(12,14,e,"entries")),"shots")),"value"))," ")}}function Y(s,n){1&s&&(t.ynx(0),t.TgZ(1,"div",2)(2,"a",3)(3,"mat-icon"),t._uU(4,"add"),t.qZA(),t._uU(5," Create a new session "),t.qZA()(),t.BQk()),2&s&&(t.xp6(2),t.Q6J("routerLink","/new"))}function O(s,n){if(1&s&&(t.ynx(0),t.YNc(1,Q,14,17,"ng-container",0),t._UZ(2,"app-session-list"),t.YNc(3,Y,6,1,"ng-container",0),t.BQk()),2&s){const e=n.ngIf;t.xp6(1),t.Q6J("ngIf",e.length),t.xp6(2),t.Q6J("ngIf",!e.length)}}m.\u0275fac=function(n){return new(n||m)(t.Y36(L.H),t.Y36(Z.uw))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-session-list"]],inputs:{showAction:"showAction"},outputs:{sessionClicked:"sessionClicked"},standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["noSessions",""],[3,"routerLink","lines","activated","padding-right","click",4,"ngFor","ngForOf"],[3,"routerLink","lines","activated","click"],["matListItemTitle",""],["matListItemLine",""],[3,"title"],[2,"margin","0 4px"],["class","action","mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",1,"action",3,"click"]],template:function(n,e){1&n&&(t.YNc(0,F,4,2,"mat-list",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,e.archerySessionRepo.sessions$))},dependencies:[a.ax,a.O5,a.Ov,a.uU,C.n,c,v.F,A.p,_.Bz,_.rH,p.ie,p.i$,p.Tg,p.WW,p.sL,u.Ps,u.Hw,d.ot,d.RK,Z.Is],styles:["[_nghost-%COMP%]{display:block}mat-list-item[_ngcontent-%COMP%]{cursor:pointer!important}mat-list-item[_ngcontent-%COMP%]:hover:not(.mdc-list-item--activated){background-color:var(--list-item-hover-background)}"]});class g{constructor(n){this.archerySessionRepo=n}}g.\u0275fac=function(n){return new(n||g)(t.Y36(L.H))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-list-page"]],standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[1,"margin-bottom-2x","flex-row"],[1,"margin-y-2x"],["mat-stroked-button","",3,"routerLink"]],template:function(n,e){1&n&&(t.YNc(0,O,4,2,"ng-container",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,e.archerySessionRepo.sessions$))},dependencies:[a.O5,a.Ov,v.F,c,A.p,_.Bz,_.rH,m,x.t,x.d,u.Ps,u.Hw,d.ot,d.zs],styles:["[_nghost-%COMP%]{display:block;padding:var(--spacing-3x) var(--spacing-1x)}@media (min-width: 768px){[_nghost-%COMP%]{padding:var(--spacing-3x)}}"]})}}]);